"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[5894],{76042:e=>{e.exports=JSON.parse('{"blogPosts":[{"id":"springboot-dubbo-zk-demo","metadata":{"permalink":"/blog/springboot-dubbo-zk-demo","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2024/04-20-SpringBoot\u6574\u5408Dubbo3.0\u4f7f\u7528zk\u505a\u6ce8\u518c\u4e2d\u5fc3\u57fa\u7840\u914d\u7f6eDemo.md","source":"@site/blog/2024/04-20-SpringBoot\u6574\u5408Dubbo3.0\u4f7f\u7528zk\u505a\u6ce8\u518c\u4e2d\u5fc3\u57fa\u7840\u914d\u7f6eDemo.md","title":"SpringBoot\u6574\u5408Dubbo3.0\u57fa\u7840\u914d\u7f6eDemo","description":"SpringBoot\u6574\u5408Dubbo3.0\u57fa\u7840\u914d\u7f6eDemo\uff0c\u4f7f\u7528zk\u505a\u6ce8\u518c\u4e2d\u5fc3\uff0c \u4e00\u4e2a\u7b80\u5355\u7684demo\uff0c \u53ef\u4ee5\u76f4\u63a5\u62ff\u6765\u590d\u7528\u3002","date":"2024-04-20T00:00:00.000Z","formattedDate":"2024\u5e744\u670820\u65e5","tags":[{"label":"springboot","permalink":"/blog/tags/springboot"},{"label":"dubbo","permalink":"/blog/tags/dubbo"},{"label":"zookeeper","permalink":"/blog/tags/zookeeper"},{"label":"\u5206\u5e03\u5f0f","permalink":"/blog/tags/\u5206\u5e03\u5f0f"}],"readingTime":5.066666666666666,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"springboot-dubbo-zk-demo","title":"SpringBoot\u6574\u5408Dubbo3.0\u57fa\u7840\u914d\u7f6eDemo","date":"2024-04-20T00:00:00.000Z","authors":"yuchengee","tags":["springboot","dubbo","zookeeper","\u5206\u5e03\u5f0f"],"keywords":["springboot","dubbo","zookeeper","\u5206\u5e03\u5f0f"]},"unlisted":false,"nextItem":{"title":"zookeeper\u7684Java\u5ba2\u6237\u7aef\u57fa\u672c\u4f7f\u7528","permalink":"/blog/zookeeper-java-use"}},"content":"SpringBoot\u6574\u5408Dubbo3.0\u57fa\u7840\u914d\u7f6eDemo\uff0c\u4f7f\u7528zk\u505a\u6ce8\u518c\u4e2d\u5fc3\uff0c \u4e00\u4e2a\u7b80\u5355\u7684demo\uff0c \u53ef\u4ee5\u76f4\u63a5\u62ff\u6765\u590d\u7528\u3002\\n\x3c!--truncate--\x3e\\n### \u6982\u89c8\\nDubbo\u662f\u963f\u91cc\u5df4\u5df4\u516c\u53f8\u5f00\u6e90\u7684\u4e00\u4e2a\u9ad8\u6027\u80fd\u4f18\u79c0\u7684\u670d\u52a1\u6846\u67b6\uff0c\u4f7f\u5f97\u5e94\u7528\u53ef\u901a\u8fc7\u9ad8\u6027\u80fd\u7684 RPC \u5b9e\u73b0\u670d\u52a1\u7684\u8f93\u51fa\u548c\u8f93\u5165\u529f\u80fd\uff0c\u53ef\u4ee5\u548cSpring\u6846\u67b6\u65e0\u7f1d\u96c6\u6210\u3002\\nDubbo\u662f\u4e00\u6b3e\u9ad8\u6027\u80fd\u3001\u8f7b\u91cf\u7ea7\u7684\u5f00\u6e90Java RPC\u6846\u67b6\uff0c\u5b83\u63d0\u4f9b\u4e86\u4e09\u5927\u6838\u5fc3\u80fd\u529b\uff1a\u9762\u5411\u63a5\u53e3\u7684\u8fdc\u7a0b\u65b9\u6cd5\u8c03\u7528\uff0c\u667a\u80fd\u5bb9\u9519\u548c\u8d1f\u8f7d\u5747\u8861\uff0c\u4ee5\u53ca\u670d\u52a1\u81ea\u52a8\u6ce8\u518c\u548c\u53d1\u73b0\u3002\\n\\n\u4e4b\u524d\u5df2\u7ecf\u8bb0\u5f55\u8fc7zookeeper\u7684\u5b89\u88c5\u4f7f\u7528\uff0c\u672c\u6587\u4e0d\u518d\u8bb0\u5f55\u5982\u4f55\u5b89\u88c5\u4f7f\u7528zookeeper\u3002  \\n[zookeeper\u7684\u57fa\u672c\u4f7f\u7528](/2024/04-01-zookeeper\u7684\u57fa\u672c\u4f7f\u7528.md)\\n\\n\\n\u672cdemo\u9879\u76ee\u91c7\u7528\u7236\u5b50\u6a21\u5757\u7ed3\u6784\uff0c\u89e3\u51b3\u4e86SpringBoot\u9879\u76ee\u7236\u5b50\u6a21\u5757\u4f9d\u8d56\u7684\u95ee\u9898\uff0c\u53ef\u4f5c\u4e3a\u5176\u4ed6\u7c7b\u4f3c\u7ed3\u6784\u9879\u76ee\u7684\u53c2\u8003\u3002\u6211\u4eec\u672c\u7740\u4f9d\u8d56\u6700\u5c0f\u5316\u539f\u5219\uff0c\u4e0d\u9700\u8981\u7684\u4f9d\u8d56\u6211\u4eec\u4e0d\u5f15\u5165\u3002\u672cdemo\u9879\u76eedubbo\u914d\u7f6e\u5c5e\u6027\u53ea\u662f\u57fa\u7840\u914d\u7f6e\uff0c\u5982\u9700\u66f4\u591a\u529f\u80fd\u914d\u7f6e\uff0c\u8bf7\u81ea\u884c\u6269\u5c55\u3002\\n\\n\u6700\u540e\u7684demo\u5982\u4e0b\uff1a\\n![dubbo\u9879\u76ee\u603b\u89c8](./img/0420-dubbo-com.png \\"dubbo\u9879\u76ee\u603b\u89c8\\")\\n\\n### 1. \u7236\u5de5\u7a0b\\n\u521b\u5efa\u4e00\u4e2amaven\u9879\u76ee\uff0cpom.xml\u5185\u5bb9\u5982\\n```xml  title=\'pom.xml\' icon=\'logos:xml\'\\n<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<project xmlns=\\"http://maven.apache.org/POM/4.0.0\\"\\n         xmlns:xsi=\\"http://www.w3.org/2001/XMLSchema-instance\\"\\n         xsi:schemaLocation=\\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\\">\\n    <modelVersion>4.0.0</modelVersion>\\n    <parent>\\n        <groupId>org.springframework.boot</groupId>\\n        <artifactId>spring-boot-starter-parent</artifactId>\\n        <version>2.7.12</version>\\n        <relativePath/>\\n    </parent>\\n\\n    <groupId>org.example</groupId>\\n    <artifactId>dubbo-spring-boot</artifactId>\\n    <version>1.0-SNAPSHOT</version>\\n    <packaging>pom</packaging>\\n\\n    <modules>\\n        <module>dubbo-api</module>\\n        <module>dubbo-provider</module>\\n        <module>dubbo-consumer</module>\\n    </modules>\\n\\n    <properties>\\n        <maven.compiler.source>8</maven.compiler.source>\\n        <maven.compiler.target>8</maven.compiler.target>\\n        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\\n        <dubbo-boot.version>3.0.4</dubbo-boot.version>\\n        <zkclient.version>4.2.0</zkclient.version>\\n    </properties>\\n\\n    <dependencyManagement>\\n        <dependencies>\\n            \x3c!-- apache \u5b98\u65b9 3.0 starter\u4f9d\u8d56 --\x3e\\n            <dependency>\\n                <groupId>org.apache.dubbo</groupId>\\n                <artifactId>dubbo-spring-boot-starter</artifactId>\\n                <version>${dubbo-boot.version}</version>\\n            </dependency>\\n\\n            \x3c!-- zookeeper\u5ba2\u6237\u7aef  \u53ea\u9700\u5f15\u5165\u6b64\u4f9d\u8d56curator-framework curator-recipes \u90fd\u6709 --\x3e\\n            <dependency>\\n                <groupId>org.apache.curator</groupId>\\n                <artifactId>curator-x-discovery</artifactId>\\n                <version>${zkclient.version}</version>\\n            </dependency>\\n        </dependencies>\\n    </dependencyManagement>\\n\\n    <build>\\n        <plugins>\\n            <plugin>\\n                <groupId>org.apache.maven.plugins</groupId>\\n                <artifactId>maven-compiler-plugin</artifactId>\\n                <configuration>\\n                    <source>1.8</source>\\n                    <target>1.8</target>\\n                    <encoding>UTF-8</encoding>\\n                </configuration>\\n            </plugin>\\n            <plugin>\\n                <groupId>org.apache.maven.plugins</groupId>\\n                <artifactId>maven-surefire-plugin</artifactId>\\n                <configuration>\\n                    <skipTests>true</skipTests>\\n                </configuration>\\n            </plugin>\\n        </plugins>\\n    </build>\\n</project>\\n```\\n\\n### 2. api\u6a21\u5757\\napi \u6a21\u5757\u7528\u6765\u7ba1\u7406\u66b4\u9732\u7684\u63a5\u53e3\u548c\u5b9e\u4f53\u7c7b\u3002\u5728\u7236\u6a21\u5757\u4e0b\u65b0\u5efaModule\uff0c\u76f4\u63a5\u9009\u62e9maven\u65b9\u5f0f\u521b\u5efa\u3002\\n\\npom\u53ea\u6709\u4e00\u4e2alombok\uff0c\u53ef\u4ee5\u6839\u636e\u9700\u8981\u5f15\u5165\u5176\u4ed6\u4f9d\u8d56\u3002\\n\\n```xml  title=\'pom.xml\' icon=\'logos:xml\'\\n<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<project xmlns=\\"http://maven.apache.org/POM/4.0.0\\"\\n         xmlns:xsi=\\"http://www.w3.org/2001/XMLSchema-instance\\"\\n         xsi:schemaLocation=\\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\\">\\n    <modelVersion>4.0.0</modelVersion>\\n    <parent>\\n        <groupId>org.example</groupId>\\n        <artifactId>dubbo-spring-boot</artifactId>\\n        <version>1.0-SNAPSHOT</version>\\n    </parent>\\n\\n    <artifactId>dubbo-api</artifactId>\\n\\n    <dependencies>\\n        <dependency>\\n            <groupId>org.projectlombok</groupId>\\n            <artifactId>lombok</artifactId>\\n            <scope>provided</scope>\\n        </dependency>\\n    </dependencies>\\n\\n</project>\\n```\\n\\nUser\u5b9e\u4f53\u7c7b\\n```java  title=\'User.java\' icon=\'logos:java\'\\npackage org.cyu.modules.user.entity;\\n\\nimport lombok.AllArgsConstructor;\\nimport lombok.Data;\\nimport lombok.NoArgsConstructor;\\n\\nimport java.io.Serializable;\\n\\n@Data\\n@NoArgsConstructor\\n@AllArgsConstructor\\npublic class User implements Serializable {\\n\\n    private static final long serialVersionUID = 8728327146677888239L;\\n\\n    private Integer userId;\\n\\n    private String  userName;\\n}\\n```\\n\\nUserService\u63a5\u53e3\u7c7b\\n```java  title=\'UserService.java\' icon=\'logos:java\'\\npackage org.cyu.modules.user.service;\\n\\nimport org.cyu.modules.user.entity.User;\\n\\npublic interface UserService {\\n    User getByUserId(Integer userId);\\n}\\n```\\n\\n### 3. provider\u6a21\u5757\\nprovider\u662f\u670d\u52a1\u63d0\u4f9b\u8005\uff0c\u5411\u5916\u63d0\u4f9b\u63a5\u53e3\u3002\\n\\npom\u5982\u4e0b\\n\\n```xml  title=\'pom.xml\' icon=\'logos:xml\'\\n<project xmlns=\\"http://maven.apache.org/POM/4.0.0\\" xmlns:xsi=\\"http://www.w3.org/2001/XMLSchema-instance\\"\\n         xsi:schemaLocation=\\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\\">\\n    <modelVersion>4.0.0</modelVersion>\\n    <parent>\\n        <groupId>org.example</groupId>\\n        <artifactId>dubbo-spring-boot</artifactId>\\n        <version>1.0-SNAPSHOT</version>\\n    </parent>\\n\\n    <artifactId>dubbo-provider</artifactId>\\n    <version>1.0.0-SNAPSHOT</version>\\n\\n    <name>dubbo-provider</name>\\n    <url>http://maven.apache.org</url>\\n\\n    <dependencies>\\n        \x3c!-- \u4e0d\u662fweb\u5de5\u7a0b \u53ea\u9700\u5f15\u5165\u8fd9\u4e2a\u5373\u53ef --\x3e\\n        <dependency>\\n            <groupId>org.springframework.boot</groupId>\\n            <artifactId>spring-boot-starter</artifactId>\\n        </dependency>\\n\\n        <dependency>\\n            <groupId>org.apache.dubbo</groupId>\\n            <artifactId>dubbo-spring-boot-starter</artifactId>\\n        </dependency>\\n\\n        <dependency>\\n            <groupId>org.apache.curator</groupId>\\n            <artifactId>curator-x-discovery</artifactId>\\n        </dependency>\\n\\n        <dependency>\\n            <groupId>org.example</groupId>\\n            <artifactId>dubbo-api</artifactId>\\n            <version>1.0.0-SNAPSHOT</version>\\n        </dependency>\\n\\n        <dependency>\\n            <groupId>org.springframework.boot</groupId>\\n            <artifactId>spring-boot-starter-test</artifactId>\\n            <scope>test</scope>\\n        </dependency>\\n    </dependencies>\\n\\n    <build>\\n        <plugins>\\n            <plugin>\\n                <groupId>org.springframework.boot</groupId>\\n                <artifactId>spring-boot-maven-plugin</artifactId>\\n                <version>2.7.12</version>\\n            </plugin>\\n        </plugins>\\n    </build>\\n</project>\\n```\\n\\n\u914d\u7f6e\u6587\u4ef6\\n```yml  title=\'application.yml\' icon=\'logos:yml\'\\n# \u8fd9\u91cc\u7684\u914d\u7f6e\u5c5e\u6027\u53ea\u662f\u57fa\u7840\u914d\u7f6e\uff0c\u5982\u9700\u66f4\u591a\u529f\u80fd\u914d\u7f6e\uff0c\u8bf7\u81ea\u884c\u6269\u5c55\\ndubbo:\\n  application:\\n    name: dubbo-provider\\n  registry:\\n    address: zookeeper://localhost:2281\\n  protocol:\\n    name: dubbo\\n    port: 20880\\n```\\n\\n\\nUserServiceImpl\u63a5\u53e3\u5b9e\u73b0\u7c7b\\n```java  title=\'UserServiceImpl.java\' icon=\'logos:java\'\\npackage org.cyu.modules.user.service;\\n\\nimport org.apache.dubbo.config.annotation.DubboService;\\nimport org.cyu.modules.user.entity.User;\\n\\nimport java.util.Arrays;\\nimport java.util.List;\\n\\n/**\\n * 3.0x\u540edubbo @Service \u4e3a\u4e86\u548c spring\u7684 @Service\u533a\u5206\uff0c\u6539\u4e3a\u4e86 @DubboService\uff0c\u76f8\u5e94\u7684 @Reference\\n * \u4e5f\u6539\u4e3a\u4e86 @DubboReference\\n */\\n@DubboService\\npublic class UserServiceImpl implements UserService {\\n\\n    // \u6a21\u62df\u6570\u636e\\n    private static final List<User> USERS = Arrays.asList(\\n            new User(1, \\"\u5f20\u4e09\\"),\\n            new User(2, \\"\u674e\u56db\\")\\n    );\\n\\n    @Override\\n    public User getByUserId(Integer userId) {\\n        System.out.println(\\"provider userId = \\" + userId);\\n        for (User user : USERS) {\\n            if (user.getUserId().equals(userId)) {\\n                return user;\\n            }\\n        }\\n        return null;\\n    }\\n}\\n```\\n\\n\u4e3a\u4e86provider\u5de5\u7a0b\u80fd\u8fd0\u884c\uff0c\u6211\u4eec\u9700\u6dfb\u52a0\u542f\u52a8\u7c7b DubboProviderApplication.java\\n```java  title=\'DubboProviderApplication.java\' icon=\'logos:java\'\\npackage org.cyu;\\n\\nimport org.apache.dubbo.config.spring.context.annotation.EnableDubbo;\\nimport org.springframework.boot.SpringApplication;\\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\\n\\n@EnableDubbo\\n@SpringBootApplication\\npublic class DubboProviderApplication {\\n\\n    public static void main(String[] args) {\\n        SpringApplication.run(DubboProviderApplication.class, args);\\n    }\\n}\\n```\\n\\n\\n\\n### 4. consumer\u6a21\u5757\\nconsumer\u662f\u670d\u52a1\u6d88\u8d39\u8005\uff0c\u53ef\u4ee5\u8bf7\u6c42\u63d0\u4f9b\u8005\u66b4\u6f0f\u7684\u63a5\u53e3\u3002\\n\\npom\u5982\u4e0b\\n\\n```xml  title=\'pom.xml\' icon=\'logos:xml\'\\n<project xmlns=\\"http://maven.apache.org/POM/4.0.0\\" xmlns:xsi=\\"http://www.w3.org/2001/XMLSchema-instance\\"\\n         xsi:schemaLocation=\\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\\">\\n    <modelVersion>4.0.0</modelVersion>\\n    <parent>\\n        <groupId>org.example</groupId>\\n        <artifactId>dubbo-spring-boot</artifactId>\\n        <version>1.0-SNAPSHOT</version>\\n    </parent>\\n\\n    <artifactId>dubbo-consumer</artifactId>\\n    <version>1.0.0-SNAPSHOT</version>\\n\\n    <name>dubbo-consumer</name>\\n    <url>http://maven.apache.org</url>\\n\\n    <dependencies>\\n        <dependency>\\n            <groupId>org.springframework.boot</groupId>\\n            <artifactId>spring-boot-starter-web</artifactId>\\n        </dependency>\\n\\n        <dependency>\\n            <groupId>org.apache.dubbo</groupId>\\n            <artifactId>dubbo-spring-boot-starter</artifactId>\\n        </dependency>\\n\\n        <dependency>\\n            <groupId>org.apache.curator</groupId>\\n            <artifactId>curator-x-discovery</artifactId>\\n        </dependency>\\n\\n        <dependency>\\n            <groupId>org.example</groupId>\\n            <artifactId>dubbo-api</artifactId>\\n            <version>1.0.0-SNAPSHOT</version>\\n        </dependency>\\n\\n        <dependency>\\n            <groupId>org.springframework.boot</groupId>\\n            <artifactId>spring-boot-starter-test</artifactId>\\n            <scope>test</scope>\\n        </dependency>\\n    </dependencies>\\n\\n    <build>\\n        <plugins>\\n            <plugin>\\n                <groupId>org.springframework.boot</groupId>\\n                <artifactId>spring-boot-maven-plugin</artifactId>\\n                <version>2.7.12</version>\\n            </plugin>\\n        </plugins>\\n    </build>\\n</project>\\n```\\n\\n\u914d\u7f6e\u6587\u4ef6\\n```yml  title=\'application.yml\' icon=\'logos:yml\'\\ndubbo:\\n  application:\\n    name: dubbo-consumer\\n  registry:\\n    address: zookeeper://localhost:2281\\n  protocol:\\n    name: dubbo\\n    port: 20880\\n\\n# \u7531\u4e8ezookeeper\u542f\u52a8\u65f6\u8981\u5360\u75288080\u7aef\u53e3\uff0c\u6211\u4eec\u8981\u663e\u793a\u6307\u5b9a\u7aef\u53e3\uff0c\u8981\u4e0d\u7136\u4f1a\u7aef\u53e3\u51b2\u7a81\\nserver:\\n  port: 8081\\n```\\n\\n\\nUserController rest\u63a5\u53e3\uff0c\u8c03\u7528provider\u63d0\u4f9b\u7684\u63a5\u53e3\u3002\\n```java  title=\'UserController.java\' icon=\'logos:java\'\\npackage org.cyu.modules.user.web;\\n\\nimport org.apache.dubbo.config.annotation.DubboReference;\\nimport org.cyu.modules.user.entity.User;\\nimport org.cyu.modules.user.service.UserService;\\nimport org.springframework.http.ResponseEntity;\\nimport org.springframework.web.bind.annotation.GetMapping;\\nimport org.springframework.web.bind.annotation.PathVariable;\\nimport org.springframework.web.bind.annotation.RestController;\\n\\n@RestController\\npublic class UserController {\\n\\n    @DubboReference\\n    private UserService userService;\\n\\n    @GetMapping(\\"/user/{userId}\\")\\n    public ResponseEntity<User> getByUserId(@PathVariable(\\"userId\\") Integer userId) {\\n        System.out.println(\\"consume userId = \\" + userId);\\n        User user = userService.getByUserId(userId);\\n        System.out.println(\\"user = \\" + user);\\n        return ResponseEntity.ok(user);\\n    }\\n}\\n```\\n\\n\u4e3a\u4e86\u6d88\u8d39\u8005\u5de5\u7a0b\u80fd\u8fd0\u884c\uff0c\u6211\u4eec\u9700\u6dfb\u52a0\u542f\u52a8\u7c7b DubboConsumerApplication.java\\n```java  title=\'DubboConsumerApplication.java\' icon=\'logos:java\'\\npackage org.cyu;\\n\\nimport org.springframework.boot.SpringApplication;\\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\\n\\n@SpringBootApplication\\npublic class DubboConsumerApplication {\\n\\n    public static void main(String[] args) {\\n        SpringApplication.run(DubboConsumerApplication.class, args);\\n    }\\n}\\n```\\n\\n### 5. \u6d4b\u8bd5\u7ed3\u679c\\n\u5206\u522b\u542f\u52a8provider\u3001consumer\u540e\uff0c\u8c03\u7528\u63a5\u53e3\u3002\\n![\u63a5\u53e3\u8c03\u7528](./img/0420-test-reseult.png \\"\u63a5\u53e3\u8c03\u7528\\")\\n\\n\\n\u53ef\u4ee5\u542f\u52a8\u591a\u4e2aprovider\uff0c\u7136\u540e\u53bbzookeeper\u4e2d\u67e5\u770bdubbo\u7684\u6ce8\u518c\u4fe1\u606f\u3002\\n![zookeeper\u4e2d\u4fe1\u606f](./img/0420-zk-dubbo-info.png \\"zookeeper\u4e2d\u4fe1\u606f\\")\\n\\n\u591a\u8bf7\u6c42\u51e0\u6b21\u63a5\u53e3\uff0c\u7136\u540e\u770b\u5230\u5982\u4e0b\u7ed3\u679c\uff1a\\n![zookeeper\u4e2d\u4fe1\u606f](./img/0420-dubbo-mult-provider.png \\"zookeeper\u4e2d\u4fe1\u606f\\")\\n\\n\u53ef\u4ee5\u770b\u5230dubbo\u7684\u9ed8\u8ba4\u8d1f\u8f7d\u5747\u8861\u7b56\u7565\u4e0d\u662f\u8f6e\u8be2\uff0c\u800c\u662fRandom LoadBalance\uff08\u968f\u673a\u8d1f\u8f7d\u5747\u8861\uff09\u3002  \\n\u5f53 Dubbo \u670d\u52a1\u63d0\u4f9b\u8005\u6709\u591a\u4e2a\u5b9e\u4f8b\u65f6\uff0cRandom LoadBalance \u4f1a\u968f\u673a\u9009\u62e9\u4e00\u4e2a\u5b9e\u4f8b\u6765\u5904\u7406\u670d\u52a1\u8bf7\u6c42\u3002\u5728\u4f7f\u7528 Random LoadBalance \u7b56\u7565\u65f6\uff0c\u6bcf\u4e2a\u670d\u52a1\u6d88\u8d39\u8005\u8c03\u7528\u7684\u5b9e\u4f8b\u90fd\u53ef\u80fd\u4e0d\u540c\uff0c\u56e0\u6b64\u8d1f\u8f7d\u5747\u8861\u6548\u679c\u8f83\u4e3a\u5e73\u5747\u3002\\n\\ndubbo\u7684\u8d1f\u8f7d\u5747\u8861\u4e3b\u8981\u6709Random\uff08\u968f\u673a\uff0c\u8fd9\u79cd\u662f\u9ed8\u8ba4\u7684\u8d1f\u8f7d\u5747\u8861\u7b56\u7565\uff09\u3001RoundRobin \uff08\u8f6e\u8be2\uff09\u3001LeastActive \uff08\u6700\u5c11\u6d3b\u8dc3\u6570\uff09\u3001ConsistentHash\uff08\u4e00\u81f4\u6027hash\uff09\u53ef\u4ee5\u5728\u66b4\u9732\u670d\u52a1\u7684\u65f6\u5019\u4f7f\u7528loadbalance\u8fdb\u884c\u6307\u5b9a\u3002\\n- **\u968f\u673a**\uff1a\u5728\u4e00\u4e2a\u622a\u9762\u4e0a\u78b0\u649e\u7684\u6982\u7387\u9ad8\uff0c\u8c03\u7528\u91cf\u8d8a\u5927\u5206\u5e03\u8d8a\u5747\u5300\uff0c\u800c\u4e14\u6309\u6982\u7387\u4f7f\u7528\u6743\u91cd\u540e\u4e5f\u6bd4\u8f83\u5747\u5300\uff0c\u6709\u5229\u4e8e\u52a8\u6001\u8c03\u6574\u63d0\u4f9b\u8005\u6743\u91cd\u3002\\n- **\u8f6e\u8be2**\uff1a\u5b58\u5728\u6162\u7684\u63d0\u4f9b\u8005\u7d2f\u79ef\u8bf7\u6c42\u7684\u95ee\u9898\uff0c\u4e00\u53f0\u673a\u5668\u5f88\u6162\uff0c\u4f46\u6ca1\u6302\uff0c\u5f53\u8bf7\u6c42\u8f6e\u8be2\u5230\u90a3\u53f0\u673a\u5b50\u5c31\u5361\u5728\u90a3\uff0c\u4e45\u800c\u4e45\u4e4b\uff0c\u6240\u6709\u8bf7\u6c42\u90fd\u5361\u5728\u90a3\u53f0\u670d\u52a1\u5668\u4e0a\u3002\\n- **\u6700\u5c11\u6d3b\u8dc3\u6570**\uff1a\u4f7f\u6162\u7684\u63d0\u4f9b\u8005\u6536\u5230\u66f4\u5c11\u8bf7\u6c42\uff0c\u56e0\u4e3a\u8d8a\u6162\u7684\u63d0\u4f9b\u8005\u7684\u8c03\u7528\u524d\u540e\u8ba1\u6570\u5dee\u4f1a\u8d8a\u5927\u3002\\n- **\u4e00\u81f4\u6027hash**\uff1a\u5f53\u67d0\u4e00\u53f0\u63d0\u4f9b\u8005\u6302\u65f6\uff0c\u539f\u672c\u53d1\u5f80\u8be5\u63d0\u4f9b\u8005\u7684\u8bf7\u6c42\uff0c\u57fa\u4e8e\u865a\u62df\u8282\u70b9\uff0c\u5e73\u644a\u5230\u5176\u5b83\u63d0\u4f9b\u8005\uff0c\u4e0d\u4f1a\u5f15\u8d77\u5267\u70c8\u53d8\u52a8\u3002\u53ef\u4ee5\u65b9\u4fbf\u8282\u70b9\u7684\u589e\u52a0\u53ca\u79fb\u9664\u3002\\n\\n### \u6e90\u7801\\n[dubbo-spring-boot.zip](https://gitee.com/yuchee/Alittle/raw/master/share/zip/dubbo-spring-boot.zip \\"\u4e0b\u8f7d\\")"},{"id":"zookeeper-java-use","metadata":{"permalink":"/blog/zookeeper-java-use","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2024/04-02-zookeeper\u7684Java\u5ba2\u6237\u7aef.md","source":"@site/blog/2024/04-02-zookeeper\u7684Java\u5ba2\u6237\u7aef.md","title":"zookeeper\u7684Java\u5ba2\u6237\u7aef\u57fa\u672c\u4f7f\u7528","description":"Java\u4e2d\u5982\u4f55\u4f7f\u7528zookeeper\u3002","date":"2024-04-02T00:00:00.000Z","formattedDate":"2024\u5e744\u67082\u65e5","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"zookeeper","permalink":"/blog/tags/zookeeper"},{"label":"\u4e2d\u95f4\u4ef6","permalink":"/blog/tags/\u4e2d\u95f4\u4ef6"},{"label":"\u5206\u5e03\u5f0f","permalink":"/blog/tags/\u5206\u5e03\u5f0f"}],"readingTime":3.61,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"zookeeper-java-use","title":"zookeeper\u7684Java\u5ba2\u6237\u7aef\u57fa\u672c\u4f7f\u7528","date":"2024-04-02T00:00:00.000Z","authors":"yuchengee","tags":["java","zookeeper","\u4e2d\u95f4\u4ef6","\u5206\u5e03\u5f0f"],"keywords":["java","zookeeper","\u4e2d\u95f4\u4ef6","\u5206\u5e03\u5f0f"]},"unlisted":false,"prevItem":{"title":"SpringBoot\u6574\u5408Dubbo3.0\u57fa\u7840\u914d\u7f6eDemo","permalink":"/blog/springboot-dubbo-zk-demo"},"nextItem":{"title":"zookeeper\u7684\u57fa\u672c\u4f7f\u7528","permalink":"/blog/zookeeper-basic-use"}},"content":"Java\u4e2d\u5982\u4f55\u4f7f\u7528zookeeper\u3002\\n\x3c!--truncate--\x3e\\nJava\u53ef\u4ee5\u4f7f\u7528apache\u7684zk\u5ba2\u6237\u7aef\u5305\u6765\u4f7f\u7528zookeeper\uff0c\u4f7f\u7528apache curator\u7684zk\u5ba2\u6237\u7aef\u5305\u6765\u4f7f\u7528zookeeper\u5206\u5e03\u5f0f\u9501\u3002\\n\\n### \u57fa\u672c\u64cd\u4f5c\\napache.zookeeper \u7b80\u5355\u4f7f\u7528\uff0c\u5305\u542b\u67e5\u8be2\u3001\u521b\u5efa\u3001\u4fee\u6539\u3001\u5220\u9664\u3001\u76d1\u542c\u7b49\u57fa\u672c\u64cd\u4f5c\u7684\u4ee3\u7801\u3002\\n```java  title=\'MyWatcher\' icon=\'logos:java\'\\nimport org.apache.zookeeper.*;\\nimport org.apache.zookeeper.data.Stat;\\n\\nimport java.nio.charset.StandardCharsets;\\nimport java.util.List;\\n\\npublic class MyWatcher implements Watcher {\\n    private ZooKeeper zooKeeper;\\n    private final String path;\\n    private volatile boolean keep;\\n\\n    public MyWatcher(String path, boolean keep) {\\n        this.path = path;\\n        this.keep = keep;\\n    }\\n\\n    public void setZooKeeper(ZooKeeper zooKeeper) {\\n        this.zooKeeper = zooKeeper;\\n    }\\n\\n    public void stopKeep() {\\n        this.keep = false;\\n    }\\n\\n    @Override\\n    public void process(WatchedEvent event) {\\n        System.out.println(\\"event:\\" + event);\\n        if (keep) {\\n            try {\\n                zooKeeper.exists(path, this);\\n            } catch (Exception e) {\\n                throw new RuntimeException(e);\\n            }\\n        }\\n    }\\n\\n    public static void main(String[] args) throws Exception {\\n        String path = \\"/testwatch\\";\\n        MyWatcher myWatcher = new MyWatcher(path, true);\\n        ZooKeeper zooKeeper = new ZooKeeper(\\"10.10.10.108:2181\\", 4000, myWatcher);\\n        myWatcher.setZooKeeper(zooKeeper);\\n\\n        new Thread(() -> {\\n            try {\\n                Thread.sleep(3000);\\n                // \u521b\u5efa\\n                if (zooKeeper.exists(path, false) == null) {\\n                    zooKeeper.create(path, \\"0\\".getBytes(StandardCharsets.UTF_8), ZooDefs.Ids.OPEN_ACL_UNSAFE, CreateMode.PERSISTENT);\\n                }\\n\\n                // \u67e5\u8be2\\n                byte[] data = zooKeeper.getData(path, false, new Stat());\\n                System.out.println(path + \\"\u5f53\u524dvalue:\\" + new String(data));\\n\\n                Thread.sleep(5000);\\n                // \u4fee\u6539,version\u8868\u793a\u5f53\u524d\u7684dataVersion,-1\u8868\u793a\u4e0d\u68c0\u67e5\u7248\u672c\uff0c\u5fc5\u987b\u4e0ezk\u4e2d\u7684\u7248\u672c\u4e00\u81f4\u624d\u80fd\u4fee\u6539\u6210\u529f\u3002\\n                zooKeeper.setData(path, \\"1\\".getBytes(StandardCharsets.UTF_8), -1);\\n\\n                Thread.sleep(5000);\\n                // \u521b\u5efa\u5b57\u8282\u70b9\\n                String childPath = path + \\"/test\\";\\n                zooKeeper.create(childPath, \\"10\\".getBytes(StandardCharsets.UTF_8), ZooDefs.Ids.OPEN_ACL_UNSAFE, CreateMode.PERSISTENT);\\n                byte[] cdata = zooKeeper.getData(childPath, false, new Stat());\\n                System.out.println(childPath + \\"\u5f53\u524dvalue:\\" + new String(cdata));\\n                // \u67e5\u8be2\u5b50\u8282\u70b9\\n                List<String> children = zooKeeper.getChildren(path, false);\\n                System.out.println(children);\\n\\n                Thread.sleep(5000);\\n                // \u5220\u9664\\n                for (String child : children) {\\n                    zooKeeper.delete(path + \\"/\\" + child, -1);\\n                }\\n                // \u6ca1\u6709deleteAll\uff0c\u53ea\u80fd\u5148\u5220\u9664\u6240\u6709\u7684\u5b50\u8282\u70b9\uff0c\u7136\u540e\u5728\u5220\u9664\u5f53\u524d\u8282\u70b9\u3002\\n                zooKeeper.delete(path, -1);\\n                myWatcher.stopKeep();// \u505c\u6b62\u76d1\u542c\\n            } catch (Exception e) {\\n                throw new RuntimeException(e);\\n            }\\n        }).start();\\n        System.in.read();\\n    }\\n}\\n\\n```\\n\\n\\n### \u5206\u5e03\u5f0f\u9501\\n\u6838\u5fc3\u601d\u60f3\uff1a\u5f53\u5ba2\u6237\u7aef\u8981\u83b7\u53d6\u9501\uff0c\u5219\u521b\u5efa\u8282\u70b9\uff0c\u4f7f\u7528\u5b8c\u9501\uff0c\u5219\u5220\u9664\u8be5\u8282\u70b9\u3002\\n1. \u5ba2\u6237\u7aef\u83b7\u53d6\u9501\u65f6\uff0c\u5728lock\u8282\u70b9\u4e0b\u521b\u5efa\u4e34\u65f6\u987a\u5e8f\u8282\u70b9\u3002\\n\\n2. \u7136\u540e\u83b7\u53d6lock\u4e0b\u9762\u7684\u6240\u6709\u5b50\u8282\u70b9\uff0c\u5ba2\u6237\u7aef\u83b7\u53d6\u5230\u6240\u6709\u7684\u5b50\u8282\u70b9\u4e4b\u540e\uff0c\u5982\u679c\u53d1\u73b0\u81ea\u5df1\u521b\u5efa\u7684\u5b50\u8282\u70b9\u5e8f\u53f7\u6700\u5c0f\uff0c\u90a3\u4e48\u5c31\u8ba4\u4e3a\u8be5\u5ba2\u6237\u7aef\u83b7\u53d6\u5230\u4e86\u9501\u3002\u4f7f\u7528\u5b8c\u9501\u540e\uff0c\u5c06\u8be5\u8282\u70b9\u5220\u9664\u3002\\n\\n3. \u5982\u679c\u53d1\u73b0\u81ea\u5df1\u521b\u5efa\u7684\u8282\u70b9\u5e76\u975elock\u6240\u6709\u5b50\u8282\u70b9\u4e2d\u6700\u5c0f\u7684\uff0c\u8bf4\u660e\u81ea\u5df1\u8fd8\u6ca1\u6709\u83b7\u53d6\u5230\u9501\uff0c\u6b64\u65f6\u5ba2\u6237\u7aef\u9700\u8981\u627e\u5230\u6bd4\u81ea\u5df1\u5c0f\u7684\u90a3\u4e2a\u8282\u70b9\uff0c\u540c\u65f6\u5bf9\u5176\u6ce8\u518c\u4e8b\u4ef6\u76d1\u542c\u5668\uff0c\u76d1\u542c\u5220\u9664\u4e8b\u4ef6\u3002\\n\\n4. \u5982\u679c\u53d1\u73b0\u6bd4\u81ea\u5df1\u5c0f\u7684\u90a3\u4e2a\u8282\u70b9\u88ab\u5220\u9664\uff0c\u5219\u5ba2\u6237\u7aef\u7684 Watcher\u4f1a\u6536\u5230\u76f8\u5e94\u901a\u77e5\uff0c\u6b64\u65f6\u518d\u6b21\u5224\u65ad\u81ea\u5df1\u521b\u5efa\u7684\u8282\u70b9 \u662f\u5426\u662flock\u5b50\u8282\u70b9\u4e2d\u5e8f\u53f7\u6700\u5c0f\u7684\uff0c\u5982\u679c\u662f\u5219\u83b7\u53d6\u5230\u4e86\u9501\uff0c\u5982\u679c\u4e0d\u662f\u5219\u91cd\u590d\u4ee5\u4e0a\u6b65\u9aa4\u7ee7\u7eed\u83b7\u53d6\u5230\u6bd4\u81ea\u5df1\u5c0f\u7684\u4e00\u4e2a\u8282\u70b9\u5e76\u6ce8\u518c\u76d1\u542c\u3002\\n\\n**\u53ef\u91cd\u5165\u9501**\\n1. \u9996\u5148\u6839\u636e\u5f53\u524d\u7ebf\u7a0b\u53bb\u67e5\u770b\u662f\u5426\u5b58\u5728\u9501\u6570\u636e\uff0c\u4e14\u5982\u679c\u6b64\u65f6\u8fd9\u4e2a\u7ebf\u7a0b\u6b63\u5728\u4f7f\u7528\u8fd9\u4e2a\u9501\uff0c\u5219\u6539\u53d8\u9501\u7684\u72b6\u6001\u6b21\u6570+1\uff0c\u5e76\u76f4\u63a5\u8fd4\u56detrue\u3002\\n2. \u6ca1\u6709\u83b7\u53d6\u5230\u9501\u6570\u636e\u5219\u8fdb\u5165else  \\n \u5148\u53bb\u521b\u5efa\u9501\u6570\u636e\uff0c\u7136\u540e\u6392\u961f\u7b49\u5f85\u83b7\u53d6\u9501\\n3. \u83b7\u53d6\u5230\u8fd4\u56detrue\uff0c\u5426\u5219false\\n\\nInterProcessMutex\u5b9e\u73b0\u7684\u9501\u673a\u5236\u662f **\u516c\u5e73\u4e14\u4e92\u65a5** \u7684\uff0c\u516c\u5e73\u7684\u65b9\u5f0f\u662f\u6309\u7167\u6bcf\u4e2a\u8bf7\u6c42\u7684\u987a\u5e8f\u8fdb\u884c\u6392\u961f\u7684\u3002\\n\\nzk\u5206\u5e03\u5f0f\u9501\uff0c\u4ee3\u7801\u4e2d\u6a21\u62df50\u4e2a\u7ebf\u7a0b\u53bb\u6267\u884c\u9501\u7684\u62a2\u5360\uff0c\u62a2\u5230\u4e86\u5c31\u5bf9\u6a21\u62df\u8d44\u6e90\u8fdb\u884c\u64cd\u4f5c\u3002\\n```java  title=\'ZKLock\' icon=\'logos:java\'\\n// \\nimport org.apache.curator.framework.CuratorFramework;\\nimport org.apache.curator.framework.CuratorFrameworkFactory;\\nimport org.apache.curator.framework.recipes.locks.InterProcessMutex;\\nimport org.apache.curator.retry.ExponentialBackoffRetry;\\n\\nimport java.nio.charset.StandardCharsets;\\n\\n/**\\n * 1\u3001InterProcessMutex\uff1a\u5206\u5e03\u5f0f\u53ef\u91cd\u5165\u6392\u5b83\u9501\\n * 2\u3001InterProcessSemaphoreMutex\uff1a\u5206\u5e03\u5f0f\u6392\u5b83\u9501\\n * 3\u3001InterProcessReadWriteLock\uff1a\u5206\u5e03\u5f0f\u8bfb\u5199\u9501\\n */\\npublic class ZKLock {\\n    private static volatile int soe = 0;\\n\\n    private static CuratorFramework getZkClient() {\\n        String zkServerAddress = \\"10.10.10.108:2181\\";\\n        ExponentialBackoffRetry retryPolicy = new ExponentialBackoffRetry(1000, 3, 5000);\\n        CuratorFramework zkClient = CuratorFrameworkFactory.builder()\\n                .connectString(zkServerAddress)\\n                .sessionTimeoutMs(5000)\\n                .connectionTimeoutMs(5000)\\n                .retryPolicy(retryPolicy)\\n                .build();\\n        zkClient.start();\\n        return zkClient;\\n    }\\n\\n    public static void testLock() throws InterruptedException {\\n        CuratorFramework zkClient = getZkClient();\\n        String lockPath = \\"/lock\\";\\n        String dataPath = \\"/data1\\";\\n        InterProcessMutex lock = new InterProcessMutex(zkClient, lockPath);\\n        //\u6a21\u62df50\u4e2a\u7ebf\u7a0b\u62a2\u9501\\n        for (int i = 0; i < 50; i++) {\\n            final int threadNo = i;\\n            new Thread(() -> {\\n                try {\\n                    lock.acquire();\\n                    soe++;\\n                    System.out.println(\\"\u7b2c\\" + threadNo + \\"\u7ebf\u7a0b\u83b7\u53d6\u5230\u4e86\u9501,\u5f53\u524d\u8d44\u6e90:\\" + soe);\\n                    byte[] data1s = zkClient.getData().forPath(dataPath);\\n                    int i1 = Integer.parseInt(new String(data1s)) + 1;\\n                    zkClient.setData().forPath(dataPath, String.valueOf(i1).getBytes(StandardCharsets.UTF_8));\\n                } catch (Exception e) {\\n                    e.printStackTrace();\\n                } finally {\\n                    try {\\n                        lock.release();\\n                    } catch (Exception e) {\\n                        e.printStackTrace();\\n                    }\\n                }\\n            }).start();\\n        }\\n    }\\n}\\n\\n```\\n\\n\u6267\u884c\u65f6\uff0c\u53ef\u4ee5\u67e5\u770bzk\u7684\u8282\u70b9\uff0c\u53d1\u73b0lock\u8282\u70b9\u4e0b\u6709\u5f88\u591a\u5b50\u7ed3\u70b9\uff0c\u7ed3\u5c3e\u662f\u6570\u5b57\u3002  \\n`ls /lock`\\n```\\n[_c_0bd7db98-7293-4ebf-868c-644ed8a9d2cc-lock-0000000025, _c_0df4e4df-fb23-4a13-8e81-09bbc7a49810-lock-0000000029, _c_0ee81dd1-990d-4f0e-b447-bd2fd231180e-lock-0000000045, _c_0f98f7a3-5ba4-411a-a2fb-6f6b85dc7c42-lock-0000000034, _c_1419f252-9e91-453e-b1f4-185b839e17e4-lock-0000000039, _c_298da81b-938e-482d-a8a8-6be2baad23a1-lock-0000000026, _c_2db5d9ab-f80f-4906-98fb-da76832892e2-lock-0000000023, _c_400d0e0e-830f-4aa7-b977-cf7d206c9a0c-lock-0000000013, _c_4212d798-7447-4722-b7a1-2c8729b5a935-lock-0000000021, _c_44f6844a-8392-4958-b384-c03c14e73fc2-lock-0000000018, _c_4c20e129-d7e7-4717-98f2-8def8f4f81c0-lock-0000000032, _c_52196fa9-84ab-4058-9791-584b48c1766a-lock-0000000036, _c_557ab098-bc8e-452b-9f08-aaaab742bcbb-lock-0000000015, _c_686501a2-2119-46ae-b37d-64149ef9d328-lock-0000000033, _c_6e0656c2-7a18-4eb7-b978-b4bc9c5e5e9a-lock-0000000035, _c_72051f59-30b0-47fa-bea4-93d50e255b6a-lock-0000000042, _c_7463ce8e-ddc8-4634-81ea-1edd9c67d09a-lock-0000000048, _c_74828e3e-a403-49a9-979e-68cfca13b483-lock-0000000030, _c_76431b09-07ab-4fbf-891a-0ffeb1e3c620-lock-0000000007, _c_79733a94-c30f-43c0-88d2-25ce3da355d2-lock-0000000017, _c_7a5b19b7-3c2c-46d2-bfe9-e248076674e5-lock-0000000005, _c_7b5ebf62-ef21-4bd8-a39c-2fa7e60794c9-lock-0000000040, _c_7ed3e24e-33f7-4630-a6e8-5485c1a16c0f-lock-0000000031, _c_7fac0a53-7f68-4436-bfb3-b7a2e5116099-lock-0000000020, _c_901dd924-dbee-45f8-b482-2c73d6151dc1-lock-0000000014, _c_9e523745-1390-4028-a076-08ae9d7f830b-lock-0000000038, _c_a0e810bd-f5b4-49d9-a8b5-b82e47fde533-lock-0000000016, _c_a5cc6d4f-c74e-4bfc-b869-5be69dce2f4d-lock-0000000027, _c_a62bbac3-1d5c-4c72-b795-a1afe983a3ab-lock-0000000028, _c_a70a249f-c59c-4af0-b997-58240eb615da-lock-0000000010, _c_a93c7c02-1547-4556-a823-cff62dc1440f-lock-0000000041, _c_ad948f19-a549-40e3-b830-f054371b344f-lock-0000000047, _c_cce3c1fa-9d28-49e3-a783-0b072aac3c44-lock-0000000019, _c_cd4e129f-d45c-429d-8727-1fd8b94fac23-lock-0000000037, _c_cfdb66b3-0b40-4a04-8a42-79960f1ef398-lock-0000000012, _c_d121b78f-812c-49d9-8035-a856aaa4d933-lock-0000000006, _c_d2aac738-edfe-4ab9-8e5a-252e113b20a1-lock-0000000043, _c_d593721a-bfc3-4ef6-86a2-84d4c4484ba2-lock-0000000008, _c_da9dfacc-2ad0-40bd-b61a-a10ecf62e715-lock-0000000049, _c_dbfd9a99-d2e9-471f-b167-dd3067d7a1cc-lock-0000000046, _c_df7e74d7-2b7a-4bf7-a386-b48fd472a02f-lock-0000000044, _c_e3f65e06-70df-41a2-9a05-4cb60a5e7412-lock-0000000022, _c_e7d02737-2fd8-46e0-84ad-5ec41689cca1-lock-0000000024, _c_e9338bae-dacf-4570-aa7b-824cfec4b004-lock-0000000011, _c_f9f36d97-35d9-476c-8daf-46986790e431-lock-0000000009]\\n```"},{"id":"zookeeper-basic-use","metadata":{"permalink":"/blog/zookeeper-basic-use","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2024/04-01-zookeeper\u7684\u57fa\u672c\u4f7f\u7528.md","source":"@site/blog/2024/04-01-zookeeper\u7684\u57fa\u672c\u4f7f\u7528.md","title":"zookeeper\u7684\u57fa\u672c\u4f7f\u7528","description":"zookeeper\u7684\u5b89\u88c5\u4e0e\u57fa\u672c\u547d\u4ee4","date":"2024-04-01T00:00:00.000Z","formattedDate":"2024\u5e744\u67081\u65e5","tags":[{"label":"zookeeper","permalink":"/blog/tags/zookeeper"},{"label":"\u4e2d\u95f4\u4ef6","permalink":"/blog/tags/\u4e2d\u95f4\u4ef6"},{"label":"\u5206\u5e03\u5f0f","permalink":"/blog/tags/\u5206\u5e03\u5f0f"}],"readingTime":4.423333333333333,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"zookeeper-basic-use","title":"zookeeper\u7684\u57fa\u672c\u4f7f\u7528","date":"2024-04-01T00:00:00.000Z","authors":"yuchengee","tags":["zookeeper","\u4e2d\u95f4\u4ef6","\u5206\u5e03\u5f0f"],"keywords":["zookeeper","\u4e2d\u95f4\u4ef6","\u5206\u5e03\u5f0f"]},"unlisted":false,"prevItem":{"title":"zookeeper\u7684Java\u5ba2\u6237\u7aef\u57fa\u672c\u4f7f\u7528","permalink":"/blog/zookeeper-java-use"},"nextItem":{"title":"\u76f8\u540c\u4ee3\u7801\u5728\u4e0d\u540c\u5e73\u53f0\u4ea7\u751f\u4e0d\u4e00\u6837\u7684\u7ed3\u679c!","permalink":"/blog/java-image-diffres"}},"content":"zookeeper\u7684\u5b89\u88c5\u4e0e\u57fa\u672c\u547d\u4ee4\\n\x3c!--truncate--\x3e\\n\u4e4b\u524d\u8bb0\u5f55\u8fc7 kafka\u5b89\u88c5\u4e0e\u7b80\u5355\u4f7f\u7528\uff0c\u672c\u6587\u8bb0\u5f55 Zookeeper \u5b89\u88c5\u4e0e\u7b80\u5355\u4f7f\u7528\u3002\\n\\n[kafka\u5b89\u88c5\u4e0e\u7b80\u5355\u4f7f\u7528](/2023/02-27-kafka.md)\\n\\n### \u4ec0\u4e48\u662fZookeeper\\nZooKeeper\u662f\u4e00\u4e2a\u5206\u5e03\u5f0f\u7684\uff0c\u5f00\u653e\u6e90\u7801\u7684\u5206\u5e03\u5f0f\u5e94\u7528\u7a0b\u5e8f\u534f\u8c03\u670d\u52a1\uff0c\u662fGoogle\u7684Chubby\u4e00\u4e2a\u5f00\u6e90\u7684\u5b9e\u73b0\uff0c\u662fHadoop\u548cHbase\u7684\u91cd\u8981\u7ec4\u4ef6\u3002\u5b83\u662f\u4e00\u4e2a\u4e3a\u5206\u5e03\u5f0f\u5e94\u7528\u63d0\u4f9b\u4e00\u81f4\u6027\u670d\u52a1\u7684\u8f6f\u4ef6\uff0c\u63d0\u4f9b\u7684\u529f\u80fd\u5305\u62ec\uff1a\u914d\u7f6e\u7ef4\u62a4\u3001\u57df\u540d\u670d\u52a1\u3001\u5206\u5e03\u5f0f\u540c\u6b65\u3001\u7ec4\u670d\u52a1\u7b49\u3002\\n\\n### \u5b89\u88c5\\n  1. java\u73af\u5883\\n  2. \u4e0b\u8f7dzk\u5b89\u88c5\u5305  \\n    https://zookeeper.apache.org/releases.html#download\\n  3. \u4fee\u6539\u914d\u7f6e   \\n-  \u521b\u5efadata\u76ee\u5f55\u7528\u4e8e\u5b58\u653e\u6570\u636e\uff0clog\u76ee\u5f55\u7528\u4e8e\u5b58\u653e\u65e5\u5fd7  \\n-  \u5728conf\u6587\u4ef6\u5939\u4e2d\u627e\u5230zoo_sample.cfg\u6587\u4ef6\u590d\u5236\u4e00\u4efd\u5e76\u6539\u540d\u4e3azoo.cfg\\n```\\ndataDir=../data\\ndataLogDir=../log\\n... \u5176\u4ed6\u914d\u7f6e\\n```\\n\\n\\n### \u542f\u52a8\u670d\u52a1\\n  \\n  1. \u542f\u52a8/\u5173\u95ed\u670d\u52a1  \\n    `bin/zkServer.sh start/stop`\\n  2. \u67e5\u770b\u72b6\u6001\uff08leader/follower\uff09  \\n    `bin/zkServer.sh status`\\n  3. \u8fdb\u5165\u5ba2\u6237\u7aef\u547d\u4ee4\u884c\uff0c\u5982\u679c\u4e0d\u52a0\u53c2\u6570\uff0c\u9ed8\u8ba4\u5f53\u524d\u73af\u5883\u76842181\u7aef\u53e3zk  \\n    `bin/zkCli.sh -server 127.0.0.1:2181`\\n \\n\u5728conf/zoo.cfg \u4e2d\u53ef\u4ee5\u4fee\u6539\u7aef\u53e3\u53f7\u548c\u5176\u4ed6\u5404\u79cd\u914d\u7f6e\u3002\\n\\n### \u96c6\u7fa4\u90e8\u7f72\\n#### \u5728\u5404\u4e2a\u8282\u70b9\u4e2d\u914d\u7f6ezoo.cfg\\n```txt  title=\'zoo.cfg\' icon=\'logos:txt\'\\nserver.1=x.x.x.x:2888:3888\\nserver.2=x.x.x.x:2888:3888\\nserver.3=x.x.x.x:2888:3888\\n```\\n\\n\u7aef\u53e32181\u7531zookeeper\u5ba2\u6237\u7aef\u4f7f\u7528\uff0c\u7528\u4e8e\u8fde\u63a5\u5230zookeeper\u670d\u52a1\u5668\uff1b  \\n\u7aef\u53e32888\u7531\u5bf9\u7b49zookeeper\u670d\u52a1\u5668\u4f7f\u7528\uff0c\u7528\u4e8e\u4e92\u76f8\u901a\u4fe1\uff1b  \\n\u7aef\u53e33888\u7528\u4e8e\u9886\u5bfc\u9009\u4e3e\u3002\u60a8\u53ef\u4ee5\u9009\u62e9\u81ea\u5df1\u559c\u6b22\u7684\u4efb\u4f55\u7aef\u53e3\u3002\u901a\u5e38\u4f7f\u7528\u76f8\u540c\u7684\u7aef\u53e3\u3002\\n\\t\\n#### \u6bcf\u4e2a\u8282\u70b9\u5206\u522b\u521b\u5efa\u5982\u4e0b\u6587\u4ef6\\necho 1 > /tmp/zookeeper/myid\\necho 2 > /tmp/zookeeper/myid\\necho 3 > /tmp/zookeeper/myid  \\n\\n\u7136\u540e\u5c31\u53ef\u4ee5\u542f\u52a8\u96c6\u7fa4\u4e86\u3002\\n\\n\\n### \u57fa\u672c\u547d\u4ee4\\n \\n1. \u65b0\u589e\u8282\u70b9 \uff08\u4e34\u65f6 -e ,\u5e26\u5e8f\u53f7 -s\uff0c\u9ed8\u8ba4\u521b\u5efa\u7684\u8282\u70b9\u662f: \u6c38\u4e45+\u4e0d\u5e26\u5e8f\u53f7\uff09  \\n ```\\ncreate -e -s /person/zs \\"\u5f20\u4e09\\"\\n ```\\n\\n2. \u4fee\u6539\u8282\u70b9\u7684\u503c  \\n ```\\n set /person/zs  \\"\u674e\u56db\\"\\n ```\\n \\n3. \u5220\u9664\u8282\u70b9  \\n ```\\n # \u666e\u901a\u5220\u9664\\n  delete /person/zs   \\n # \u9012\u5f52\u5220\u9664 \\n  deleteall /person/zs  \\n ```\\n \\n4. \u67e5\u8be2\u8282\u70b9\u7ed3\u6784+\u503c+\u72b6\u6001\\n ```\\n#\u67e5\u8be2\u5b50\u8282\u70b9[\u8be6\u7ec6]\u7ed3\u6784 \\n  ls  [-s] /person   \\n\\n# \u76d1\u542c\u8282\u70b9\u7ed3\u6784\u7684\u53d8\u5316 \uff08\u6bd4\u5982\u96c6\u7fa4\u4e2d\uff0c\u5728node1\u8f93\u5165\u547d\u4ee4\uff0c\u5728node2\u4fee\u6539\u8282\u70b9\uff0c\u53ea\u80fd\u76d1\u542c\u4e00\u6b21\uff0c\u7b2c\u4e8c\u6b21node2\u4fee\u6539,node1\u4e0d\u4f1a\u76d1\u542c\uff09   \\n  ls  [-w] /person     \\n  \\n# \u67e5\u8be2\u8282\u70b9[\u8be6\u7ec6]\u503c\\n  get [-s] /person/zs  \\n\\n# \u76d1\u542c\u8282\u70b9\u503c\u7684\u53d8\u5316   \uff08\u6bd4\u5982\u96c6\u7fa4\u4e2d\uff0c\u5728node1\u8f93\u5165\u547d\u4ee4\uff0c\u5728node2\u4fee\u6539\u8282\u70b9\uff0c\u53ea\u80fd\u76d1\u542c\u4e00\u6b21\uff0c\u7b2c\u4e8c\u6b21node2\u4fee\u6539,node1\u4e0d\u4f1a\u76d1\u542c\uff09  \\n  get [-w] /person/zs  \\n \\n# \u67e5\u770b\u8282\u70b9\u72b6\u6001 \\n  stat /person        \\n ```\\n \\n5. ls -s \u67e5\u8be2\u8282\u70b9\u8be6\u7ec6\u4fe1\u606f\uff0c\u5185\u5bb9\u8bf4\u660e\\n- czxid\uff1a\u521b\u5efa\u8282\u70b9\u7684\u4e8b\u52a1 zxid\uff0c\u6bcf\u6b21\u4fee\u6539 ZooKeeper \u72b6\u6001\u90fd\u4f1a\u4ea7\u751f\u4e00\u4e2a ZooKeeper \u4e8b\u52a1 ID\u3002  \\n\u4e8b\u52a1ID \u662f ZooKeeper \u4e2d\u6240 \u6709\u4fee\u6539\u603b\u7684\u6b21\u5e8f\u3002\u6bcf\u6b21\u4fee\u6539\u90fd\u6709\u552f\u4e00\u7684 zxid\uff0c\u5982\u679c zxid1 \u5c0f\u4e8ezxid2\uff0c\u90a3\u4e48 \\n     zxid1 \u5728 zxid2 \u4e4b\u524d\u53d1\u751f\u3002\\n- ctime\uff1aznode \u88ab\u521b\u5efa\u7684\u6beb\u79d2\u6570\uff08\u4ece 1970 \u5e74\u5f00\u59cb\uff09\\n- mzxid\uff1aznode \u6700\u540e\u66f4\u65b0\u7684\u4e8b\u52a1 zxid\\n- mtime\uff1aznode \u6700\u540e\u4fee\u6539\u7684\u6beb\u79d2\u6570\uff08\u4ece 1970 \u5e74\u5f00\u59cb\uff09\\n- pZxid\uff1aznode \u6700\u540e\u66f4\u65b0\u7684\u5b50\u8282\u70b9 zxid\\n- cversion\uff1aznode \u5b50\u8282\u70b9\u53d8\u5316\u53f7\uff0cznode \u5b50\u8282\u70b9\u4fee\u6539\u6b21\u6570\\n- dataversion\uff1aznode \u6570\u636e\u53d8\u5316\u53f7\uff0c\u6bcf\u6b21\u4fee\u6539\u90fd\u4f1a\u52a01\\n- aclVersion\uff1aznode \u8bbf\u95ee\u63a7\u5236\u5217\u8868\u7684\u53d8\u5316\u53f7\\n- ephemeralOwner\uff1a\u5982\u679c\u662f\u4e34\u65f6\u8282\u70b9\uff0c\u8fd9\u4e2a\u662f znode \u62e5\u6709\u8005\u7684 session id\u3002\u5982\u679c\u4e0d\u662f\u4e34\u65f6\u8282\u70b9\u5219\u662f0\u3002 \\n- dataLength\uff1aznode \u7684\u6570\u636e\u957f\u5ea6\\n- numChildren\uff1aznode \u5b50\u8282\u70b9\u6570\u91cf\\n\\n\\n### \u5176\u4ed6\\n\u5728 Zookeeper \u4e2d\uff0c\u5b58\u5728\u4e00\u4e9b\u9ed8\u8ba4\u8282\u70b9\uff0c\u5b83\u4eec\u662f\u5728 Zookeeper \u670d\u52a1\u542f\u52a8\u65f6\u81ea\u52a8\u521b\u5efa\u7684\u3002\u8fd9\u4e9b\u9ed8\u8ba4\u8282\u70b9\u5bf9\u4e8e Zookeeper \u7684\u6b63\u5e38\u8fd0\u884c\u548c\u57fa\u672c\u529f\u80fd\u81f3\u5173\u91cd\u8981\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u9ed8\u8ba4\u8282\u70b9\uff1a\\n\\n1. **/zookeeper**: \u8fd9\u662f Zookeeper \u4e2d\u7684\u4e00\u4e2a\u7279\u6b8a\u8282\u70b9\uff0c\u5b83\u5305\u542b\u4e86\u5173\u4e8e Zookeeper \u670d\u52a1\u672c\u8eab\u7684\u72b6\u6001\u4fe1\u606f\u3002\u901a\u5e38\uff0c\u8fd9\u4e2a\u8282\u70b9\u4e0d\u4f1a\u88ab\u5ba2\u6237\u7aef\u76f4\u63a5\u4f7f\u7528\u3002\\n\\n2. **/brokers**: \u5728\u4f7f\u7528 Zookeeper \u4f5c\u4e3a Kafka \u7684\u5143\u6570\u636e\u5b58\u50a8\u65f6\uff0c\u8fd9\u4e2a\u8282\u70b9\u7528\u4e8e\u5b58\u50a8\u6709\u5173 Kafka \u96c6\u7fa4\u4e2d\u6240\u6709 broker \u7684\u4fe1\u606f\u3002\\n\\n3. **/config**: \u8fd9\u4e2a\u8282\u70b9\u7528\u4e8e\u5b58\u50a8\u96c6\u7fa4\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u4f8b\u5982\u96c6\u7fa4\u7684 ID \u548c\u7248\u672c\u3002\\n\\n4. **/consumers**: \u5728 Kafka \u4e2d\uff0c\u8fd9\u4e2a\u8282\u70b9\u7528\u4e8e\u5b58\u50a8\u6d88\u8d39\u8005\u7ec4\u7684\u4fe1\u606f\u3002\\n\\n5. **/locks**: \u8fd9\u4e2a\u8282\u70b9\u53ef\u4ee5\u7528\u4e8e\u5b58\u50a8\u5206\u5e03\u5f0f\u9501\u7684\u76f8\u5173\u4fe1\u606f\u3002\\n\\n6. **/ephemerals**: \u8fd9\u4e2a\u8282\u70b9\u4e0b\u5305\u542b\u4e86\u6240\u6709\u4e34\u65f6\u8282\u70b9\uff08ephemeral nodes\uff09\u3002\u4e34\u65f6\u8282\u70b9\u662f\u4e0e\u5ba2\u6237\u7aef\u4f1a\u8bdd\u7ed1\u5b9a\u7684\u8282\u70b9\uff0c\u5f53\u4f1a\u8bdd\u7ed3\u675f\u65f6\uff0c\u8fd9\u4e9b\u8282\u70b9\u4e5f\u4f1a\u88ab\u81ea\u52a8\u5220\u9664\u3002\\n\\n7. **/ids**: \u8fd9\u4e2a\u8282\u70b9\u7528\u4e8e\u5b58\u50a8\u5ba2\u6237\u7aef\u4f1a\u8bdd ID \u7684\u4fe1\u606f\u3002\\n\\n8. **/quota**: \u8fd9\u4e2a\u8282\u70b9\u7528\u4e8e\u5b58\u50a8\u5173\u4e8e Zookeeper \u914d\u989d\u7ba1\u7406\u7684\u4fe1\u606f\u3002\\n\\n9. **/system**: \u8fd9\u4e2a\u8282\u70b9\u5305\u542b\u4e86\u7cfb\u7edf\u7ea7\u522b\u7684\u4fe1\u606f\uff0c\u4f8b\u5982\u96c6\u7fa4\u7684\u7edf\u8ba1\u6570\u636e\u3002\\n\\n\u8fd9\u4e9b\u9ed8\u8ba4\u8282\u70b9\u901a\u5e38\u4e0d\u9700\u8981\u5ba2\u6237\u7aef\u76f4\u63a5\u64cd\u4f5c\uff0c\u5b83\u4eec\u662f Zookeeper \u5185\u90e8\u7ba1\u7406\u548c\u7ef4\u62a4\u7684\u4e00\u90e8\u5206\u3002\u7136\u800c\uff0c\u4e86\u89e3\u8fd9\u4e9b\u8282\u70b9\u7684\u5b58\u5728\u5bf9\u4e8e\u7406\u89e3 Zookeeper \u7684\u5de5\u4f5c\u539f\u7406\u548c\u8c03\u8bd5\u95ee\u9898\u662f\u5f88\u6709\u5e2e\u52a9\u7684\u3002\\n\\n:::tip\\n\u8bf7\u6ce8\u610f\uff0c\u4e0a\u8ff0\u8282\u70b9\u53ef\u80fd\u4f1a\u6839\u636e Zookeeper \u7684\u7248\u672c\u548c\u914d\u7f6e\u6709\u6240\u4e0d\u540c\u3002\u5728\u5b9e\u9645\u4f7f\u7528\u4e2d\uff0c\u4f60\u5e94\u8be5\u53c2\u8003 Zookeeper \u7684\u5b98\u65b9\u6587\u6863\u548c\u4f60\u7684\u96c6\u7fa4\u914d\u7f6e\u6765\u4e86\u89e3\u5177\u4f53\u7684\u9ed8\u8ba4\u8282\u70b9\u4fe1\u606f\u3002\u6b64\u5916\uff0c\u4e00\u4e9b\u5e94\u7528\u7a0b\u5e8f\uff08\u5982 Kafka\uff09\u53ef\u80fd\u4f1a\u5728 Zookeeper \u4e2d\u521b\u5efa\u81ea\u5df1\u7684\u9ed8\u8ba4\u8282\u70b9\u6765\u5b58\u50a8\u5143\u6570\u636e\u548c\u914d\u7f6e\u4fe1\u606f\u3002\u5728\u4f7f\u7528\u8fd9\u4e9b\u5e94\u7528\u7a0b\u5e8f\u65f6\uff0c\u4f60\u5e94\u8be5\u9075\u5faa\u5b83\u4eec\u7684\u6587\u6863\u6765\u4e86\u89e3\u548c\u7ba1\u7406\u8fd9\u4e9b\u8282\u70b9\u3002\\n:::"},{"id":"java-image-diffres","metadata":{"permalink":"/blog/java-image-diffres","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2024/03-22-\u76f8\u540c\u4ee3\u7801\u5728\u4e0d\u540c\u5e73\u53f0\u4ea7\u751f\u4e0d\u4e00\u6837\u7684\u7ed3\u679c.md","source":"@site/blog/2024/03-22-\u76f8\u540c\u4ee3\u7801\u5728\u4e0d\u540c\u5e73\u53f0\u4ea7\u751f\u4e0d\u4e00\u6837\u7684\u7ed3\u679c.md","title":"\u76f8\u540c\u4ee3\u7801\u5728\u4e0d\u540c\u5e73\u53f0\u4ea7\u751f\u4e0d\u4e00\u6837\u7684\u7ed3\u679c!","description":"\u540c\u4e00\u4efdjava\u4ee3\u7801\uff0c\u5728windows\u5e73\u53f0\u548clinux\u5e73\u53f0\u8fd0\u884c\u7ed3\u679c\u7adf\u7136\u4e0d\u4e00\u6837\uff0c\u5230\u5e95\u600e\u4e48\u56de\u4e8b\uff01\uff01\uff01","date":"2024-03-22T00:00:00.000Z","formattedDate":"2024\u5e743\u670822\u65e5","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"image","permalink":"/blog/tags/image"},{"label":"bug","permalink":"/blog/tags/bug"}],"readingTime":2.9466666666666668,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"java-image-diffres","title":"\u76f8\u540c\u4ee3\u7801\u5728\u4e0d\u540c\u5e73\u53f0\u4ea7\u751f\u4e0d\u4e00\u6837\u7684\u7ed3\u679c!","date":"2024-03-22T00:00:00.000Z","authors":"yuchengee","tags":["java","image","bug"],"keywords":["java","image","bug"]},"unlisted":false,"prevItem":{"title":"zookeeper\u7684\u57fa\u672c\u4f7f\u7528","permalink":"/blog/zookeeper-basic-use"},"nextItem":{"title":"Gis\u5f00\u53d1\u4e2d\u7684\u56fe\u5f62\u7b80\u5316\u7b97\u6cd5","permalink":"/blog/java-simplify-geometry"}},"content":"\u540c\u4e00\u4efdjava\u4ee3\u7801\uff0c\u5728windows\u5e73\u53f0\u548clinux\u5e73\u53f0\u8fd0\u884c\u7ed3\u679c\u7adf\u7136\u4e0d\u4e00\u6837\uff0c\u5230\u5e95\u600e\u4e48\u56de\u4e8b\uff01\uff01\uff01\\n\x3c!--truncate--\x3e\\n\\n### \u80cc\u666f\\n\u5728\u67d0\u4e2a\u4e0b\u5348\uff0c\u7ec4\u5185\u7684\u5f00\u53d1\u63a5\u5230\u4e00\u4e2a\u9700\u6c42\uff0c\u9700\u8981\u7528java\u751f\u6210\u56fe\u7247\uff0c\u662f\u4e00\u4e2a\u5f88\u7b80\u5355\u7684\u9700\u6c42\uff0c\u6240\u4ee5\u5f00\u53d1\u5f88\u5feb\u5c31\u5199\u51fa\u6765\u4e86\u3002\u7136\u540e\u5728\u672c\u5730windows\u73af\u5883\u8c03\u8bd5\u4e5f\u6ca1\u95ee\u9898\uff0c\u4e8e\u662f\u5c31\u628a\u4ee3\u7801\u6362\u4e0a\u4e86\u6211\u4eec\u7684\u6d4b\u8bd5\u73af\u5883\u3002\\n\\n\u4e00\u5957\u52a8\u4f5c\u884c\u4e91\u6d41\u6c34\uff0c\u7136\u540e\u5f00\u59cb\u6d4b\u8bd5\u3002\\n\\n\u4e07\u4e07\u6ca1\u60f3\u5230\u554a\uff0c\u672c\u5730\u6b63\u5e38\u7684\u4ee3\u7801\uff0c\u5728\u6d4b\u8bd5\u73af\u5883\u5c45\u7136\u6709bug\u3002\\n\\n\u4e0d\u53ef\u80fd\u554a\uff0c\u6ca1\u9053\u7406\u554a\u3002\\n\\n\u4e8e\u662f\u5f00\u53d1\u627e\u5230\u6211\uff0c\u95ee\u6211\u8fd9\u662f\u600e\u4e48\u56de\u4e8b\u3002\\n\\n\u6211\u5f00\u59cb\u5206\u6790\u3002\u4e0b\u9762\u6211\u7ecf\u8fc7\u65e5\u5fd7\u8c03\u8bd5\u3001\u6570\u636e\u63d0\u53d6\u5206\u6790\u7b80\u5316\u540e\u7684\u4ee3\u7801\u3002\\n\\n### \u7b80\u5316\u540e\u7684\u4ee3\u7801\\n```java  title=\'\u7b80\u5316\u7684\u4ee3\u7801\' icon=\'logos:java\'\\nimport javax.imageio.ImageIO;\\nimport java.awt.*;\\nimport java.awt.image.BufferedImage;\\nimport java.io.File;\\nimport java.io.IOException;\\n\\npublic class ImageTest {\\n    public static void main(String[] args) throws IOException {\\n        BufferedImage bi = new BufferedImage(256, 256, BufferedImage.TYPE_INT_ARGB);\\n        Graphics2D g2d = bi.createGraphics();\\n        // highlight-start\\n        BasicStroke dash = new BasicStroke(5, BasicStroke.CAP_BUTT, BasicStroke.JOIN_MITER, 3.5f,\\n                new float[]{2, 1}, 0f);\\n        g2d.setStroke(dash);\\n        // highlight-end\\n        g2d.setColor(Color.BLUE);\\n        // \u8bbe\u7f6e\u6297\u952f\u9f7f\\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\\n        g2d.drawLine(-39049, 228094, 105, -110);\\n        ImageIO.write(bi, \\"png\\", new File(\\"/home/ressss.png\\"));\\n    }\\n}\\n```\\n\\n\u4ee3\u7801\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u7528java\u7684 Graphics2D\u753b\u4e00\u6761\u76f4\u7ebf\u3002**\u53ea\u662f\u76f4\u7ebf\u7684\u7aef\u70b9\u6570\u5b57\u6bd4\u8f83\u5927**\u3002\\n\\n### \u4e0d\u540c\u7684\u7ed3\u679c\\nwindows\u4e0b\u901a\u8fc7IDEA\u8fd0\u884c\u3002linux\u4e0b\u7528javac\u7f16\u8bd1\uff0cjava\u8fd0\u884c\u3002\\n\\nwindows\u4e0b\u7684\u8f93\u51fa\u7ed3\u679c\\n![windows\u7ed3\u679c](./img/0322-windows_line.png \\"windows\u4e0b\u6b63\u5e38\\")\\n\\n\\nlinux\u4e0b\u7684\u8f93\u51fa\u7ed3\u679c\uff0c\u4e00\u6761\u76f4\u7ebf\uff0c\u5c45\u7136\u4f1a\u5316\u6210\u5f2f\u7684\uff01\uff01\\n![linux\u7ed3\u679c](./img/0322-linux_line.png \\"linux\u4e0b\u5f02\u5e38\\")\\n\\n\\n### \u5206\u6790\\n\u7ecf\u8fc7\u591a\u6b21\u6d4b\u8bd5\u53d1\u73b0\uff0c\u5f53\u7ebf\u6bb5\u7684\u4e24\u4e2a\u7aef\u70b9\u6570\u5b57\u8f83\u5c0f\u65f6\uff0clinux\u4e0b\u53ef\u4ee5\u8f93\u51fa\u6b63\u5e38\u7684\u7ed3\u679c\u3002\u5f53\u6570\u5b57\u8f83\u5927\u65f6\uff0c\u8f93\u51fa\u7ed3\u679c\u5c31\u6709\u95ee\u9898\u3002\\n\\n\u8be2\u95eeGPT\uff0c\u5f97\u5230\u5982\u4e0b\u7ed3\u679c\uff1a\\n![gpt\u7684\u56de\u7b54](./img/0322-gpt-ans.png \\"gpt\u7684\u56de\u7b54\\")\\n\\njava\u5728\u4e0d\u540c\u5e73\u53f0\u7684\u7ed8\u56fe\u7b97\u6cd5\u4e0d\u4e00\u6837\uff0cgpt\u4e5f\u63d0\u5230\u6297\u952f\u9f7f\u548c\u7ebf\u6761\u7684\u7c97\u7ec6\u53c2\u6570\uff0c\u8fd9\u90fd\u6709\u53ef\u80fd\u662f\u9020\u6210bug\u7684\u539f\u56e0\u3002\\n\\n\\n\u7ecf\u8fc7\u8c03\u8bd5\uff0c\u53d1\u73b0\u4e0d\u8bbe\u7f6e\u6297\u952f\u9f7f\uff0c\u4e5f\u4f1a\u51fa\u73b0\u7ebf\u6bb5\u5f2f\u66f2\uff0c\u800c\u4e14\u76f4\u7ebf\u53d8\u5f97\u5f88\u7c97\u7cd9\u3002\\n\\n\u5f53\u4e0d\u8bbe\u7f6e Graphics2D \u7684 stroke\u65f6\uff0c\u4e5f\u5c31\u662f\u53bb\u6389\u4e0a\u9762\u4ee3\u7801\u7684\u9ad8\u4eae\u90e8\u5206\uff0c\u53ef\u4ee5\u5f97\u5230\u6b63\u5e38\u7ed3\u679c\u3002\\n![linux\u7ed3\u679c](./img/0322-linux_line1.png \\"linux\u4e0b\u6b63\u5e38\\")\\n\\n\u4e5f\u5c31\u662f\u8bf4\uff0c\u95ee\u9898\u51fa\u5728 BasicStroke \u4e0a\u9762\u3002\u96be\u9053\u4f7f\u7528BasicStroke\u7684\u65b9\u5f0f\u4e0d\u5bf9\uff1f\\n\\n\u4fee\u6539\u4e0a\u9762\u4ee3\u7801\uff0c\u628a\u8bbe\u7f6e\u7ebf\u6761\u8f6e\u5ed3\u6539\u6210\\n`g2d.setStroke(new BasicStroke(5));`\\n\\n\u4e5f\u5f97\u5230\u6b63\u5e38\u7ed3\u679c\uff1a\\n![linux\u7ed3\u679c](./img/0322-linux_line2.png \\"linux\u4e0b\u6b63\u5e38\\")\\n\\n\u539f\u6765\u662f\u540e\u9762\u7684\u53c2\u6570\uff0c\u7ebf\u6bb5\u6837\u5f0f\u7684\u539f\u56e0\u3002\\n\\n### \u603b\u7ed3\\n\u540e\u7eed\u4e86\u89e3\u5230\uff0c\u8be5\u5f00\u53d1\u4eba\u5458\u5728\u6211\u4eec\u4ee3\u7801\u4e2d\u53d1\u73b0\u4e86\u6709\u4e00\u4e2a\u5730\u65b9\u7528\u5230\u4e86\u8bbe\u7f6e BasicStroke \u7ebf\u6bb5\u6837\u5f0f\u7684\u4ee3\u7801\uff0c\u4e8e\u662f\u76f4\u63a5\u62ff\u8fc7\u6765\u7528\u4e86\uff0c\u6ca1\u60f3\u5230\u51fa\u73b0\u8fd9\u4e2a\u95ee\u9898\u3002\\n\\n\u6211\u770b\u4e86\u539f\u6765\u7528\u5230 BasicStroke \u7684\u5730\u65b9\uff0c\u53d1\u73b0\u90a3\u4e2a\u529f\u80fd\u662f\u7528\u6237\u8981\u6c42\u4f7f\u7528\u4e30\u5bcc\u7684\u7ebf\u6bb5\u6837\u5f0f\uff0c\u5b9e\u7ebf\u3001\u865a\u7ebf\u3001\u7ebf\u5bbd\u7b49\u4e0d\u540c\u7ebf\u6837\u5f0f\u3002\u6240\u4ee5\u8fd9\u4e2a\u5730\u65b9\u7528\u4e86\u8fd9\u79cd\u8be6\u7ec6\u7684 BasicStroke\u53c2\u6570\u3002\u539f\u6765\u7684\u9700\u6c42\u4e5f\u4e0d\u4f1a\u51fa\u73b0\u8fd9\u79cd\u6570\u636e\u5dee\u5f02\u8f83\u5927\u7684\u60c5\u51b5\uff0c\u6240\u4ee5\u4e00\u76f4\u6ca1\u6709\u51fa\u73b0\u4eca\u5929\u8fd9\u79cdbug\u3002\\n\\n\u800c\u65b0\u9700\u6c42\u5e76\u4e0d\u9700\u8981\u590d\u6742\u7684\u7ebf\u6bb5\u6837\u5f0f\uff0c\u53ea\u9700\u8981\u8bbe\u7f6e\u7ebf\u5bbd\u5c31\u53ef\u4ee5\u4e86\u3002\u4f46\u8be5\u5f00\u53d1\u76f4\u63a5\u628a\u8fd9\u4e2a\u4ee3\u7801\u642c\u8fc7\u6765\uff0c\u4ece\u800c\u9020\u6210\u8fd9\u4e2abug\u3002\\n\\nBasicStroke\u6837\u5f0f\u8fd8\u662f\u6bd4\u8f83\u53d1\u6742\u3002\\n\\n\u6240\u4ee5\u8fd8\u662f\u4e0d\u80fd\u76f2\u76ee\u7167\u642c\uff0c\u9700\u8981\u7406\u89e3\u4ee3\u7801\u3001\u7406\u89e3\u9700\u6c42\u3001\u7075\u6d3b\u8fd0\u7528\uff0c\u4ece\u800c\u51cf\u5c11bug\u3002\\n\\n\u6700\u540e\uff0c\u8fd8\u662f\u6ca1\u6709\u641e\u61c2\uff0c\u4e3a\u5565linux\u4e0b\u8bbe\u7f6e\u8fd9\u79cd\u6837\u5f0f\u7684\u7ebf\u4f1a\u51fa\u73b0\u8fd9\u79cd\u5947\u602a\u7684bug\u5462\uff1f\u7b49\u6709\u65f6\u95f4\u4e86\u518d\u597d\u597d\u5206\u6790\u5427\u3002"},{"id":"java-simplify-geometry","metadata":{"permalink":"/blog/java-simplify-geometry","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2024/03-06-Gis\u5f00\u53d1\u4e2d\u7684\u56fe\u5f62\u7b80\u5316\u7b97\u6cd5.md","source":"@site/blog/2024/03-06-Gis\u5f00\u53d1\u4e2d\u7684\u56fe\u5f62\u7b80\u5316\u7b97\u6cd5.md","title":"Gis\u5f00\u53d1\u4e2d\u7684\u56fe\u5f62\u7b80\u5316\u7b97\u6cd5","description":"\u9879\u76ee\u4e2d\u9047\u5230\u9700\u8981\u7b80\u5316\u56fe\u5f62\u7684\u9700\u6c42\uff0c\u672c\u6587\u8bb0\u5f55\u4f7f\u7528Visvalingam-Whyatt\u7b97\u6cd5\u62bd\u7a00\u56fe\u5f62\u3002","date":"2024-03-06T00:00:00.000Z","formattedDate":"2024\u5e743\u67086\u65e5","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"geotools","permalink":"/blog/tags/geotools"},{"label":"\u5730\u7406","permalink":"/blog/tags/\u5730\u7406"},{"label":"\u5730\u56fe\u76f8\u5173","permalink":"/blog/tags/\u5730\u56fe\u76f8\u5173"}],"readingTime":12.906666666666666,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"java-simplify-geometry","title":"Gis\u5f00\u53d1\u4e2d\u7684\u56fe\u5f62\u7b80\u5316\u7b97\u6cd5","date":"2024-03-06T00:00:00.000Z","authors":"yuchengee","tags":["java","geotools","\u5730\u7406","\u5730\u56fe\u76f8\u5173"],"keywords":["java","geotools","\u5730\u7406","\u5730\u56fe\u76f8\u5173"]},"unlisted":false,"prevItem":{"title":"\u76f8\u540c\u4ee3\u7801\u5728\u4e0d\u540c\u5e73\u53f0\u4ea7\u751f\u4e0d\u4e00\u6837\u7684\u7ed3\u679c!","permalink":"/blog/java-image-diffres"},"nextItem":{"title":"Html\u5b57\u7b26\u7684\u8f6c\u6362","permalink":"/blog/java-htmlcode-transform"}},"content":"\u9879\u76ee\u4e2d\u9047\u5230\u9700\u8981\u7b80\u5316\u56fe\u5f62\u7684\u9700\u6c42\uff0c\u672c\u6587\u8bb0\u5f55\u4f7f\u7528Visvalingam-Whyatt\u7b97\u6cd5\u62bd\u7a00\u56fe\u5f62\u3002\\n\x3c!--truncate--\x3e\\n\u4e00\u4e2a\u591a\u8fb9\u5f62\u6216\u8005\u7ebf\u6bb5\uff0c\u6709\u8bb8\u591a\u70b9\u6784\u6210\uff0c\u4e00\u4e2a\u7701\u7684\u8fb9\u754c\u7ebf\u53ef\u80fd\u6709\u51e0\u5341\u4e07\u4e2a\u70b9\u6784\u6210\uff0c\u4e0d\u5229\u4e8e\u5b58\u50a8\u548c\u4f20\u8f93\u3002\u6709\u65f6\u5019\u4e0d\u9700\u8981\u90a3\u4e48\u9ad8\u7684\u7cbe\u7ec6\u5ea6\uff0c\u53ea\u9700\u8981\u4fdd\u6301\u6700\u57fa\u672c\u7684\u56fe\u5f62\u8f6e\u5ed3\u5373\u53ef\u3002\u8fd9\u5c31\u9700\u8981\u8fdb\u884c\u56fe\u5f62\u7b80\u5316\u3002\\n\\n### Visvalingam-Whyatt\u7b80\u4ecb\\nVisvalingam-Whyatt\u7b97\u6cd5\u662f\u4e00\u79cd\u7528\u4e8e\u70b9\u6570\u636e\u7b80\u5316\u7684\u6280\u672f\u3002\\n\\n\u4e3a\u4e86\u786e\u4fdd\u5220\u9664\u7684\u8282\u70b9\u5f15\u8d77\u7684\u53ef\u89c6\u53d8\u5316\u6700\u5c0f\uff0c\u7b97\u6cd5\u8ba1\u7b97\u4e86\u4e00\u6761\u6298\u7ebf\u7684\u6bcf\u4e2a\u8282\u70b9\u4e0e\u524d\u540e\u4e24\u4e2a\u8282\u70b9\u6240\u7ec4\u6210\u7684\u4e09\u89d2\u5f62\u7684\u9762\u79ef\u96c6\u5408\u3002\u5f53\u96c6\u5408\u4e2d\u6700\u5c0f\u7684\u4e09\u89d2\u5f62\u9762\u79ef\u5c0f\u4e8e\u8bbe\u5b9a\u9608\u503c\u7684\u65f6\u5019\uff0c\u8be5\u9762\u79ef\u5bf9\u5e94\u7684\u8282\u70b9\u624d\u4f1a\u88ab\u6807\u8bb0\u5220\u9664\uff1b  \\n\u5220\u9664\u4e0a\u4e00\u6b65\u4e2d\u6807\u8bb0\u5220\u9664\u7684\u8282\u70b9\uff0c\u518d\u91cd\u590d\u4e0a\u4e00\u6b65\u7684\u8fc7\u7a0b\uff0c\u76f4\u5230\u6bcf\u4e2a\u4e09\u89d2\u5f62\u7684\u9762\u79ef\u90fd\u5927\u4e8e\u9608\u503c\u3002\\n![\u7b97\u6cd5\u793a\u610f\u56fe](./img/0306-vt-yanshi.PNG \\"\u7b97\u6cd5\u793a\u610f\u56fe\\")\\n\\n\u7b97\u6cd5\u7b80\u5316\u540e\u7684\u56fe\u5f62\u4ea7\u751f\u7684\u89d2\u5ea6\u53d8\u5316\u66f4\u5c11\uff0c\u66f4\u80fd\u4fdd\u7559\u51e0\u4f55\u9762\u7684\u7279\u5f81\uff0c\u9002\u7528\u4e8e\u81ea\u7136\u8981\u7d20\u7684\u6982\u5316\uff0c\u4f8b\u5982\u6cb3\u6d41\u3001\u68ee\u6797\u8fb9\u754c\u3001\u6d77\u5cb8\u7ebf\u7b49\u3002\\n\\nVisvalingam-Whyatt\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662fO(nlog(n))\u3002\\n\\n### \u4e3b\u8981\u4ee3\u7801\\n\u4f7f\u7528\u7684geotools\u7248\u672c\u4e3a14.5\uff0c\u9ad8\u7248\u672c\u6709\u4e00\u4e9b\u4e0d\u540c\u3002\\n```java\\npublic class VisvalingamWhyattTest {\\n    private GeometryFactory factory = JTSFactoryFinder.getGeometryFactory();\\n\\n    private double triangleArea(Coordinate a, Coordinate b, Coordinate c) {\\n        return Math.abs((a.x * (b.y - c.y) + b.x * (c.y - a.y) + c.x * (a.y - b.y)) / 2);\\n    }\\n\\n    /**\\n     * \u7b80\u5316\u63a5\u53e3\\n     * @param geometry \u4f20\u5165\u591a\u8fb9\u5f62\u6709Polygon\uff0cMultiPolygon\uff0cLineString\uff0cMultiLineString\u591a\u79cd\u7c7b\u578b\\n     * @param limit limit\u662f\u53bb\u6389\u70b9\u7684\u767e\u5206\u6bd4\uff0c\u7c97\u7565\u503c\\n     * @return \u7b80\u5316\u540e\u7684\u56fe\u5f62\\n     */\\n    public Geometry simplifyGeometry(Geometry geometry, double limit) {\\n        if (limit < 0 || limit > 1) limit = 0.3;\\n        if (geometry instanceof Polygon) {\\n            return simplifyPolygon((Polygon) geometry, limit);\\n        } else if (geometry instanceof LineString) {\\n            return simplifyLine((LineString) geometry, limit);\\n        } else if (geometry instanceof MultiPolygon) {\\n            List<Polygon> polygonList = new ArrayList<>();\\n            MultiPolygon multiPolygon = (MultiPolygon) geometry;\\n            int numGeometries = multiPolygon.getNumGeometries();\\n            for (int i = 0; i < numGeometries; i++) {\\n                Geometry geometryN = multiPolygon.getGeometryN(i);\\n                Geometry geometry1 = simplifyGeometry(geometryN, limit);\\n                if (geometry1 instanceof Polygon) {\\n                    polygonList.add((Polygon) geometry1);\\n                }\\n            }\\n            return factory.createMultiPolygon(polygonList.toArray(new Polygon[0]));\\n        } else if (geometry instanceof MultiLineString) {\\n            List<LineString> lineStringList = new ArrayList<>();\\n            MultiLineString multiLineString = (MultiLineString) geometry;\\n            int numGeometries = multiLineString.getNumGeometries();\\n            for (int i = 0; i < numGeometries; i++) {\\n                Geometry geometryN = multiLineString.getGeometryN(i);\\n                Geometry geometry1 = simplifyGeometry(geometryN, limit);\\n                if (geometry1 instanceof LineString) {\\n                    lineStringList.add((LineString) geometry1);\\n                }\\n            }\\n            return factory.createMultiLineString(lineStringList.toArray(new LineString[0]));\\n        }\\n        return geometry;\\n    }\\n\\n    public Geometry simplifyPolygon(Polygon polygon, double limit) {\\n        LinearRing exteriorRing = (LinearRing) polygon.getExteriorRing();\\n        LinearRing linearRing = simplifyRing(exteriorRing, limit);\\n        int numInteriorRing = polygon.getNumInteriorRing();\\n        List<LinearRing> linearRings = new ArrayList<>();\\n        if (numInteriorRing != 0) {\\n            for (int i = 0; i < numInteriorRing; i++) {\\n                LinearRing interiorRingN =(LinearRing) polygon.getInteriorRingN(i);\\n                LinearRing interiorRing = simplifyRing(interiorRingN, limit);\\n                linearRings.add(interiorRing);\\n            }\\n        }\\n        try {\\n            return factory.createPolygon(linearRing, linearRings.isEmpty() ? null : linearRings.toArray(new LinearRing[0]));\\n        } catch (Exception e) {\\n            e.printStackTrace();\\n        }\\n        return polygon;\\n    }\\n\\n    private LinearRing simplifyRing(LinearRing linearRing, double limit) {\\n        Coordinate[] points = linearRing.getCoordinates();\\n        int length = points.length;\\n        if (length < 5) return linearRing;\\n        double[] areas = new double[length];\\n        for (int i = 1; i < length - 1; i++) {\\n            areas[i] = triangleArea(points[i - 1], points[i], points[i + 1]);\\n        }\\n        double limitArea = getLimitArea(length, limit, areas);\\n        List<Coordinate> coordinates = optimizePath(points, areas, limitArea);\\n        if (coordinates.size() < 4) return linearRing;\\n        try {\\n            return factory.createLinearRing(coordinates.toArray(new Coordinate[0]));\\n        } catch (Exception e) {\\n            e.printStackTrace();\\n        }\\n        return linearRing;\\n    }\\n\\n    public Geometry simplifyLine(LineString lineString, double limit) {\\n        if (limit > 1 || limit < 0) {\\n            limit = 0.3;\\n        }\\n        Coordinate[] points = lineString.getCoordinates();\\n        int length = points.length;\\n        if (length < 5) return lineString;\\n        double[] areas = new double[length];\\n        for (int i = 1; i < length - 1; i++) {\\n            areas[i] = triangleArea(points[i - 1], points[i], points[i + 1]);\\n        }\\n        double limitArea = getLimitArea(length, limit, areas);\\n        List<Coordinate> coordinates = optimizePath(points, areas, limitArea);\\n        return factory.createLineString(coordinates.toArray(new Coordinate[0]));\\n    }\\n\\n    private double getLimitArea(int length, double limit, double[] areas) {\\n        List<Double> areaList = Arrays.stream(areas).boxed().sorted().collect(Collectors.toList());\\n        int index = Double.valueOf(length * limit).intValue();\\n        double limitArea = 0;\\n        for (int i = index; i < length; i++) {\\n            double area = areaList.get(i);\\n            if (Double.compare(area, 0) != 0) {\\n                limitArea = area;\\n                break;\\n            }\\n        }\\n        return limitArea;\\n    }\\n\\n    // Visvalingam-Whyatt\u7b97\u6cd5\u5b9e\u73b0\\n    public List<Coordinate> optimizePath(Coordinate[] points, double[] areas, double threshold) {\\n        List<Coordinate> copyPoints = new ArrayList<>(Arrays.asList(points));\\n        int length = points.length;\\n\\n        while (true) {\\n            int minAreaIndex = -1;\\n            double minArea = Double.POSITIVE_INFINITY;\\n            for (int i = 1; i < length - 1; i++) {\\n                if (areas[i] < minArea) {\\n                    minArea = areas[i];\\n                    minAreaIndex = i;\\n                }\\n            }\\n            if (minArea >= threshold) {\\n                break;\\n            }\\n            copyPoints.remove(minAreaIndex);\\n            length--;\\n\\n            if (minAreaIndex > 1) {\\n                areas[minAreaIndex - 1] = triangleArea(copyPoints.get(minAreaIndex - 2), copyPoints.get(minAreaIndex - 1), copyPoints.get(minAreaIndex));\\n            }\\n            if (minAreaIndex < length - 1) {\\n                areas[minAreaIndex] = triangleArea(copyPoints.get(minAreaIndex - 1), copyPoints.get(minAreaIndex), copyPoints.get(minAreaIndex + 1));\\n            }\\n        }\\n        return copyPoints;\\n    }\\n\\n}\\n```\\n\\n\u6d4b\u8bd5\u4ee3\u7801\\n```java\\npublic static void main(String[] args) throws ParseException {\\n    // \u590d\u6742\u7684\u591a\u7ebf\u6bb5\\n    String srcWktLine = \\"MULTILINESTRING ((119.3682122 26.0449363; 119.3678383 26.0454503; 119.3676989 26.0458523; 119.3676077 26.0461154; 119.3675406 26.0464263; 119.3675063 26.0467004; 119.3674799 26.0469431; 119.3674517 26.0472409; 119.3674387 26.0473902; 119.367428 26.0477951; 119.367417 26.048436; 119.3674386 26.0492354; 119.3674847 26.0499769; 119.3675269 26.0502072; 119.3676554 26.0506603; 119.3678864 26.0510486; 119.3688289 26.0520743; 119.3697292 26.0534359; 119.3700936 26.0543636; 119.3702685 26.0548054; 119.3702947 26.0549477; 119.3702835 26.055132; 119.3700711 26.0569291; 119.3699716 26.0574124; 119.3698575 26.0577256; 119.3696962 26.0580184; 119.3695704 26.0581966; 119.3693907 26.0583822; 119.3691916 26.0586907; 119.3687284 26.0594429; 119.3682334 26.0602035; 119.3677417 26.0611111; 119.3672282 26.0622777; 119.3668155 26.0629084; 119.3667149 26.0630622; 119.366674 26.0631247; 119.366622 26.0631867; 119.3665587 26.0632622; 119.3663022 26.0635679; 119.3658088 26.064087; 119.3657142 26.0641751; 119.3644909 26.0650372; 119.3635041 26.0656899; 119.3625511 26.0663608; 119.3616773 26.0670503); (119.3616773 26.0670503; 119.3612737 26.0673438; 119.3600778 26.0682133; 119.359428 26.0687195; 119.3585646 26.069392; 119.3575228 26.070153; 119.3574099 26.0702354; 119.3557672 26.071375; 119.3543835 26.072356; 119.3537405 26.0727709; 119.3530465 26.0731668; 119.3514775 26.0737806; 119.3491954 26.0745875; 119.3473837 26.0751784; 119.3464636 26.0754509; 119.3450756 26.0758433; 119.3448244 26.0759143; 119.3441939 26.0760849; 119.343125 26.0763504; 119.3423376 26.0765022; 119.3403945 26.0768452; 119.3391171 26.0770577; 119.3382114 26.0772034; 119.3369272 26.0772975; 119.3364206 26.0773141; 119.3362183 26.0773033; 119.3344493 26.0774084; 119.3289004 26.0776788; 119.3280846 26.0778149; 119.326909 26.0781915; 119.3261469 26.0784646; 119.324204 26.0790426; 119.3223171 26.0796039; 119.3213473 26.0798551; 119.3206554 26.0799369); (119.3206554 26.0799369; 119.3187671 26.0798524); (119.3187671 26.0798524; 119.3143064 26.0799425; 119.3106042 26.0798583; 119.3087882 26.0798149; 119.3059041 26.0797465; 119.3033955 26.0797403; 119.29944 26.0795031; 119.2992454 26.0794961; 119.2984891 26.0794461; 119.2980159 26.0794298; 119.2975896 26.0794025; 119.2974048 26.0793893; 119.2972406 26.0793723; 119.2967288 26.0793254; 119.2960169 26.0791112; 119.2942716 26.0781705; 119.2934434 26.0775788; 119.2930481 26.0771923; 119.2927775 26.0766686; 119.2922673 26.0758861; 119.2920875 26.0754695; 119.2920123 26.0751543; 119.2920022 26.0746127; 119.2920935 26.0735331; 119.2936501 26.0696275; 119.2938524 26.0674959; 119.293855 26.0671682; 119.293819 26.0670183; 119.293716 26.066779; 119.2934266 26.0664775; 119.2928574 26.0661128; 119.292563 26.0660062; 119.2921209 26.0659022; 119.2894585 26.0658455; 119.2864963 26.0657889; 119.2853939 26.0657435; 119.2850671 26.0657481; 119.2846058 26.0656891; 119.2841425 26.0655608; 119.2834185 26.0652859; 119.2812493 26.0639523; 119.2798178 26.0630574; 119.2772678 26.0614639; 119.2760124 26.0604082; 119.2747857 26.0591006; 119.2682494 26.0528245; 119.2671443 26.0521312; 119.2658842 26.0514856; 119.2646924 26.0509333; 119.2642405 26.0507736; 119.2632616 26.050604; 119.2575126 26.0505229; 119.2452224 26.0505661; 119.2432559 26.0504248; 119.240573 26.0502407; 119.2394449 26.0501637; 119.2376507 26.0500413; 119.2370737 26.0499975; 119.2349397 26.0498377; 119.2346917 26.0498092; 119.2344978 26.0497759; 119.2342602 26.0497282; 119.2326782 26.0493948; 119.2321232 26.0492178; 119.2318295 26.049114; 119.2316362 26.049027; 119.2306695 26.0485335; 119.2303943 26.048441; 119.2301487 26.0483951; 119.2278156 26.0481195; 119.2215908 26.0473101; 119.2214274 26.0472894; 119.2212253 26.0472639; 119.2207912 26.0471805; 119.2201475 26.0470277; 119.2195207 26.0468482; 119.2189568 26.046677; 119.2151876 26.0455983; 119.2139233 26.0453098; 119.2069844 26.0437604; 119.2064418 26.0436901; 119.2059273 26.0436787; 119.2052683 26.04366; 119.2046258 26.0437108; 119.2040628 26.0437785; 119.2034703 26.0439193; 119.2030671 26.0440744; 119.2025974 26.0443718; 119.2017961 26.0450029; 119.2009843 26.0458958; 119.2006519 26.0464094; 119.2003559 26.0470549; 119.1996816 26.0491664; 119.1995433 26.0497607; 119.199499 26.05023; 119.1996084 26.0573569; 119.1991427 26.0598165; 119.198388 26.0622; 119.1958515 26.0695857; 119.1950545 26.070479; 119.1939666 26.0715392; 119.1813077 26.0794184; 119.1769632 26.0820781; 119.1763401 26.0825446; 119.1762964 26.0825773; 119.175738 26.0832115; 119.1740499 26.0855547; 119.1740214 26.0855942; 119.1738081 26.0858302; 119.1735572 26.0860663; 119.1731018 26.0864045; 119.168541 26.0892204; 119.1654087 26.0917238; 119.1652079 26.0918711; 119.1648541 26.0920849; 119.1645477 26.0922432; 119.1624838 26.0931417; 119.1624063 26.0931754; 119.1593018 26.0942951; 119.1588363 26.0946084; 119.1585498 26.0948863; 119.158321 26.0952244; 119.1581817 26.0957611; 119.1581263 26.0963938; 119.1579876 26.0974979; 119.1578558 26.0983762; 119.1577083 26.0988886; 119.1575446 26.0992398; 119.1570454 26.0997063; 119.1564646 26.1001727; 119.1554816 26.1010766; 119.1547048 26.1017683); (119.1547048 26.1017683; 119.154069 26.1023345; 119.1516125 26.104152; 119.1482897 26.1065834))\\".replace(\\";\\", \\",\\");\\n    WKTReader reader = new WKTReader();\\n    Geometry mLine = reader.read(srcWktLine);\\n\\n    VisvalingamWhyattTest whyatt = new VisvalingamWhyattTest();\\n    Geometry geometry = whyatt.simplifyGeometry(mLine, 0.9);\\n    System.out.println(mLine.getCoordinates().length + \\";\\" + mLine.toText());\\n    System.out.println(geometry.getCoordinates().length + \\";\\" + geometry.toText());\\n\\n    // \u590d\u6742\u7684\u591a\u591a\u8fb9\u5f62\\n    String srcKktPolygon = \\"MULTIPOLYGON (((118.5780309 24.9369973; 118.5804614 24.9365866; 118.5805149 24.9365776; 118.5807064 24.9364618; 118.5809589 24.9363803; 118.581223 24.9363724; 118.5814754 24.9364355; 118.5815287 24.9364294; 118.5817511 24.936404; 118.5839101 24.9360329; 118.5844383 24.9358645; 118.5851492 24.9355593; 118.5855903 24.9353014; 118.5859212 24.9350383; 118.5862578 24.9347409; 118.5864812 24.9344751; 118.5867656 24.9341278; 118.5868469 24.9339331; 118.5867917 24.9336805; 118.586725 24.9333594; 118.5868672 24.9330673; 118.5869426 24.9328542; 118.5868904 24.9326989; 118.5867801 24.9325752; 118.5866611 24.9325358; 118.5865364 24.9325752; 118.5864377 24.9326095; 118.5863129 24.9325779; 118.5862592 24.9325726; 118.5862743 24.9325115; 118.5863686 24.9325208; 118.5863977 24.9324984; 118.5863773 24.9324537; 118.5864165 24.9323668; 118.5864905 24.9323089; 118.5865442 24.9323089; 118.5866748 24.9323721; 118.5870651 24.9324326; 118.5873002 24.9324221; 118.5873654 24.93243; 118.5874119 24.9323694; 118.5874612 24.9323852; 118.5875178 24.9322826; 118.587467 24.9322642; 118.5875642 24.9320103; 118.5875936 24.9318356; 118.5875341 24.9316698; 118.5873847 24.9314922; 118.5872903 24.931383; 118.5872265 24.9312356; 118.5871743 24.9310501; 118.5868768 24.9306475; 118.5866055 24.9303844; 118.5864372 24.9302515; 118.5863124 24.9301291; 118.5861717 24.9299909; 118.5860324 24.9299146; 118.5857785 24.9298317; 118.5851357 24.9295975; 118.584445 24.929412; 118.5839198 24.9292791; 118.5837732 24.9292278; 118.5836238 24.929141; 118.5833046 24.9289554; 118.5831464 24.9288844; 118.5829317 24.9288278; 118.5823223 24.9287147; 118.5822023 24.928664; 118.5819886 24.9286568; 118.5806508 24.9284383; 118.5805971 24.9284857; 118.5805405 24.9285726; 118.5805173 24.9286633; 118.5805333 24.9288015; 118.580616 24.9289962; 118.580703 24.9291041; 118.5807248 24.9292423; 118.5807045 24.9292699; 118.5806174 24.9292844; 118.5805594 24.9292173; 118.5804926 24.929216; 118.5804288 24.9291594; 118.5803388 24.9288739; 118.5802663 24.9285502; 118.5802561 24.9284318; 118.5802257 24.9283594; 118.5801604 24.9283147; 118.577598 24.9278383; 118.5774471 24.9278397; 118.5772846 24.9278949; 118.5771584 24.927991; 118.5770597 24.9281541; 118.5763632 24.9304278; 118.5763618 24.9305778; 118.5764184 24.9307343; 118.5765287 24.9309001; 118.5765968 24.9310185; 118.5765983 24.9311343; 118.5764851 24.9315369; 118.5764706 24.9316909; 118.5765214 24.9318369; 118.5766302 24.931929; 118.5768377 24.932008; 118.5769146 24.9320132; 118.5771685 24.9319554; 118.5772904 24.9318777; 118.5773934 24.9318356; 118.5775153 24.9318172; 118.5783452 24.9317317; 118.5784337 24.9319711; 118.5783984 24.9320661; 118.5777266 24.9321753; 118.5771549 24.9323109; 118.5769402 24.9324858; 118.5768676 24.9334503; 118.5768009 24.9335832; 118.5766558 24.9336647; 118.5758113 24.9339595; 118.5756387 24.9340831; 118.5755037 24.9342647; 118.5754254 24.9344713; 118.5754094 24.9346778; 118.5754762 24.9348989; 118.5758099 24.9360935; 118.5759115 24.9362646; 118.5760566 24.9364106; 118.5762698 24.9365435; 118.57674 24.9367869; 118.5771796 24.93695; 118.5775655 24.9370119; 118.577879 24.9370132; 118.5780309 24.9369973); (118.5818173 24.9321065; 118.5819639 24.9321868; 118.5820683 24.932221; 118.5821206 24.9323263; 118.5821655 24.9324644; 118.5820785 24.9325986; 118.5820074 24.9326118; 118.5819348 24.9326815; 118.581781 24.932696; 118.5816316 24.9326684; 118.5815257 24.9326157; 118.5814285 24.9325236; 118.5814517 24.9324197; 118.5814125 24.9323513; 118.5814401 24.9322644; 118.581501 24.932246; 118.581517 24.9321829; 118.5815735 24.9321408; 118.5816272 24.9321539; 118.5817215 24.9321144; 118.5818173 24.9321065); (118.5807367 24.9295367; 118.58079 24.9295293; 118.5808536 24.9296158; 118.5809131 24.9296819; 118.5809727 24.9298158; 118.581024 24.9299777; 118.5812158 24.9301275; 118.5813707 24.9302429; 118.5815462 24.9302624; 118.5818119 24.9302978; 118.5819832 24.9302643; 118.5820807 24.9302643; 118.5821351 24.9302345; 118.5821936 24.9302308; 118.5822428 24.9302438; 118.5822715 24.9302587; 118.5823536 24.9302568; 118.582487 24.9302661; 118.5826327 24.9303359; 118.5827732 24.930348; 118.5828584 24.9303508; 118.5829179 24.9303694; 118.5829374 24.9304178; 118.5829774 24.9304857; 118.5830154 24.9305192; 118.5830626 24.9305164; 118.5831488 24.9304494; 118.5831959 24.9304243; 118.583278 24.9303936; 118.5834309 24.9303703; 118.5834391 24.9303062; 118.5833704 24.9302717; 118.5832893 24.9302671; 118.5832965 24.9302224; 118.5833211 24.9301871; 118.5834371 24.9302373; 118.5835202 24.9302894; 118.5835766 24.9303657; 118.5835817 24.9304662; 118.5835735 24.9305536; 118.5836638 24.930642; 118.5837428 24.9307211; 118.5837192 24.9307853; 118.583831 24.9308411; 118.5839993 24.9308904; 118.584107 24.9309667; 118.5843502 24.9313752; 118.5844384 24.9315231; 118.5845369 24.9316347; 118.5847513 24.9317436; 118.5850304 24.9318682; 118.5852099 24.931912; 118.5855957 24.9319501; 118.5858584 24.9320311; 118.5860338 24.9322274; 118.5861138 24.9323139; 118.586122 24.9324088; 118.5861149 24.9324386; 118.5860564 24.93246; 118.586042 24.9324841; 118.5862144 24.9325055; 118.5862103 24.9325456; 118.5861826 24.932566; 118.5861107 24.9325669; 118.5860184 24.9325669; 118.5859189 24.9325269; 118.5858317 24.9325697; 118.5856747 24.9326767; 118.5854931 24.932767; 118.5853854 24.932833; 118.5853136 24.9329475; 118.5852438 24.9329903; 118.5850981 24.9330442; 118.5848929 24.9330712; 118.5847575 24.9331066; 118.5845646 24.9330907; 118.584421 24.9330293; 118.5843061 24.9329679; 118.5841173 24.932941; 118.5840526 24.9328563; 118.5840578 24.9327391; 118.5842219 24.9323334; 118.5842291 24.9321297; 118.5842732 24.9320199; 118.5843409 24.9319352; 118.5843768 24.9317892; 118.584345 24.9316654; 118.5841029 24.9313872; 118.5839634 24.931297; 118.5838228 24.9312533; 118.5836515 24.9312486; 118.5835868 24.9312691; 118.583552 24.9313193; 118.5834966 24.9313584; 118.5834165 24.9313593; 118.5831446 24.9314273; 118.5828656 24.9314942; 118.5825968 24.9315789; 118.5824542 24.931605; 118.5823659 24.9315724; 118.5823075 24.9315556; 118.5822131 24.9315854; 118.5821259 24.9315836; 118.5820643 24.9315622; 118.5819884 24.9315603; 118.5816385 24.9315342; 118.5811922 24.9313677; 118.5808926 24.9313026; 118.5807716 24.9313007; 118.5805633 24.9314012; 118.5804309 24.9314775; 118.5803899 24.9315594; 118.5803489 24.9315854; 118.5802422 24.9316059; 118.5801519 24.9315826; 118.5800913 24.9316059; 118.5800534 24.9316533; 118.5800041 24.931685; 118.5800831 24.9318441; 118.5800236 24.9318673; 118.5799436 24.9317175; 118.5796738 24.9318292; 118.5794686 24.9318729; 118.5793629 24.9318013; 118.5793095 24.931578; 118.5793916 24.9315119; 118.5797435 24.9313872; 118.5802576 24.9312337; 118.5806013 24.9310532; 118.5808701 24.9309044; 118.5809706 24.9307434; 118.5811317 24.9306625; 118.5811881 24.9305471; 118.5811676 24.9304187; 118.5810937 24.9303089; 118.5809111 24.930134; 118.5805489 24.9298168; 118.5805212 24.9297489; 118.5806002 24.9296744; 118.5807069 24.9296139; 118.5807059 24.9295618; 118.5807367 24.9295367); (118.5832686 24.9302654; 118.5832404 24.9302896; 118.5832296 24.9303194; 118.5831716 24.9303752; 118.5831383 24.9303892; 118.5830747 24.9303994; 118.583029 24.9303929; 118.5829921 24.9303729; 118.5829685 24.930352; 118.5829115 24.9303506; 118.5828603 24.9303399; 118.5828413 24.9302822; 118.5828197 24.9302673; 118.5828485 24.9302324; 118.5828803 24.9302143; 118.5829295 24.9302273; 118.5829577 24.9301966; 118.5829757 24.9301961; 118.5829993 24.9302194; 118.5830316 24.9302185; 118.5830342 24.9301999; 118.5830967 24.9302022; 118.5830952 24.9302226; 118.5831244 24.9302199; 118.5831337 24.9301705; 118.5831793 24.9301408; 118.5832127 24.9301385; 118.5832522 24.9301529; 118.5832835 24.930164; 118.5832676 24.9302375; 118.5832686 24.9302654)))\\".replace(\\";\\",\\",\\");\\n    Geometry mPolygon = reader.read(srcKktPolygon);\\n    Geometry geometry1 = whyatt.simplifyGeometry(mPolygon, 0.9);\\n    System.out.println(mPolygon.getCoordinates().length + \\";\\" + mPolygon.toText());\\n    System.out.println(geometry1.getCoordinates().length + \\";\\" + geometry1.toText());\\n}\\n```\\n\\n### \u8fd0\u884c\u7ed3\u679c\\n```\\n218;MULTILINESTRING ((119.3682122 26.0449363, 119.3678383 26.0454503, 119.3676989 26.0458523, 119.3676077 26.0461154, 119.3675406 26.0464263, 119.3675063 26.0467004, 119.3674799 26.0469431, 119.3674517 26.0472409, 119.3674387 26.0473902, 119.367428 26.0477951, 119.367417 26.048436, 119.3674386 26.0492354, 119.3674847 26.0499769, 119.3675269 26.0502072, 119.3676554 26.0506603, 119.3678864 26.0510486, 119.3688289 26.0520743, 119.3697292 26.0534359, 119.3700936 26.0543636, 119.3702685 26.0548054, 119.3702947 26.0549477, 119.3702835 26.055132, 119.3700711 26.0569291, 119.3699716 26.0574124, 119.3698575 26.0577256, 119.3696962 26.0580184, 119.3695704 26.0581966, 119.3693907 26.0583822, 119.3691916 26.0586907, 119.3687284 26.0594429, 119.3682334 26.0602035, 119.3677417 26.0611111, 119.3672282 26.0622777, 119.3668155 26.0629084, 119.3667149 26.0630622, 119.366674 26.0631247, 119.366622 26.0631867, 119.3665587 26.0632622, 119.3663022 26.0635679, 119.3658088 26.064087, 119.3657142 26.0641751, 119.3644909 26.0650372, 119.3635041 26.0656899, 119.3625511 26.0663608, 119.3616773 26.0670503), (119.3616773 26.0670503, 119.3612737 26.0673438, 119.3600778 26.0682133, 119.359428 26.0687195, 119.3585646 26.069392, 119.3575228 26.070153, 119.3574099 26.0702354, 119.3557672 26.071375, 119.3543835 26.072356, 119.3537405 26.0727709, 119.3530465 26.0731668, 119.3514775 26.0737806, 119.3491954 26.0745875, 119.3473837 26.0751784, 119.3464636 26.0754509, 119.3450756 26.0758433, 119.3448244 26.0759143, 119.3441939 26.0760849, 119.343125 26.0763504, 119.3423376 26.0765022, 119.3403945 26.0768452, 119.3391171 26.0770577, 119.3382114 26.0772034, 119.3369272 26.0772975, 119.3364206 26.0773141, 119.3362183 26.0773033, 119.3344493 26.0774084, 119.3289004 26.0776788, 119.3280846 26.0778149, 119.326909 26.0781915, 119.3261469 26.0784646, 119.324204 26.0790426, 119.3223171 26.0796039, 119.3213473 26.0798551, 119.3206554 26.0799369), (119.3206554 26.0799369, 119.3187671 26.0798524), (119.3187671 26.0798524, 119.3143064 26.0799425, 119.3106042 26.0798583, 119.3087882 26.0798149, 119.3059041 26.0797465, 119.3033955 26.0797403, 119.29944 26.0795031, 119.2992454 26.0794961, 119.2984891 26.0794461, 119.2980159 26.0794298, 119.2975896 26.0794025, 119.2974048 26.0793893, 119.2972406 26.0793723, 119.2967288 26.0793254, 119.2960169 26.0791112, 119.2942716 26.0781705, 119.2934434 26.0775788, 119.2930481 26.0771923, 119.2927775 26.0766686, 119.2922673 26.0758861, 119.2920875 26.0754695, 119.2920123 26.0751543, 119.2920022 26.0746127, 119.2920935 26.0735331, 119.2936501 26.0696275, 119.2938524 26.0674959, 119.293855 26.0671682, 119.293819 26.0670183, 119.293716 26.066779, 119.2934266 26.0664775, 119.2928574 26.0661128, 119.292563 26.0660062, 119.2921209 26.0659022, 119.2894585 26.0658455, 119.2864963 26.0657889, 119.2853939 26.0657435, 119.2850671 26.0657481, 119.2846058 26.0656891, 119.2841425 26.0655608, 119.2834185 26.0652859, 119.2812493 26.0639523, 119.2798178 26.0630574, 119.2772678 26.0614639, 119.2760124 26.0604082, 119.2747857 26.0591006, 119.2682494 26.0528245, 119.2671443 26.0521312, 119.2658842 26.0514856, 119.2646924 26.0509333, 119.2642405 26.0507736, 119.2632616 26.050604, 119.2575126 26.0505229, 119.2452224 26.0505661, 119.2432559 26.0504248, 119.240573 26.0502407, 119.2394449 26.0501637, 119.2376507 26.0500413, 119.2370737 26.0499975, 119.2349397 26.0498377, 119.2346917 26.0498092, 119.2344978 26.0497759, 119.2342602 26.0497282, 119.2326782 26.0493948, 119.2321232 26.0492178, 119.2318295 26.049114, 119.2316362 26.049027, 119.2306695 26.0485335, 119.2303943 26.048441, 119.2301487 26.0483951, 119.2278156 26.0481195, 119.2215908 26.0473101, 119.2214274 26.0472894, 119.2212253 26.0472639, 119.2207912 26.0471805, 119.2201475 26.0470277, 119.2195207 26.0468482, 119.2189568 26.046677, 119.2151876 26.0455983, 119.2139233 26.0453098, 119.2069844 26.0437604, 119.2064418 26.0436901, 119.2059273 26.0436787, 119.2052683 26.04366, 119.2046258 26.0437108, 119.2040628 26.0437785, 119.2034703 26.0439193, 119.2030671 26.0440744, 119.2025974 26.0443718, 119.2017961 26.0450029, 119.2009843 26.0458958, 119.2006519 26.0464094, 119.2003559 26.0470549, 119.1996816 26.0491664, 119.1995433 26.0497607, 119.199499 26.05023, 119.1996084 26.0573569, 119.1991427 26.0598165, 119.198388 26.0622, 119.1958515 26.0695857, 119.1950545 26.070479, 119.1939666 26.0715392, 119.1813077 26.0794184, 119.1769632 26.0820781, 119.1763401 26.0825446, 119.1762964 26.0825773, 119.175738 26.0832115, 119.1740499 26.0855547, 119.1740214 26.0855942, 119.1738081 26.0858302, 119.1735572 26.0860663, 119.1731018 26.0864045, 119.168541 26.0892204, 119.1654087 26.0917238, 119.1652079 26.0918711, 119.1648541 26.0920849, 119.1645477 26.0922432, 119.1624838 26.0931417, 119.1624063 26.0931754, 119.1593018 26.0942951, 119.1588363 26.0946084, 119.1585498 26.0948863, 119.158321 26.0952244, 119.1581817 26.0957611, 119.1581263 26.0963938, 119.1579876 26.0974979, 119.1578558 26.0983762, 119.1577083 26.0988886, 119.1575446 26.0992398, 119.1570454 26.0997063, 119.1564646 26.1001727, 119.1554816 26.1010766, 119.1547048 26.1017683), (119.1547048 26.1017683, 119.154069 26.1023345, 119.1516125 26.104152, 119.1482897 26.1065834))\\n70;MULTILINESTRING ((119.3682122 26.0449363, 119.3678383 26.0454503, 119.3676077 26.0461154, 119.3674517 26.0472409, 119.3674386 26.0492354, 119.3678864 26.0510486, 119.3688289 26.0520743, 119.3697292 26.0534359, 119.3700711 26.0569291, 119.3696962 26.0580184, 119.3693907 26.0583822, 119.3682334 26.0602035, 119.3668155 26.0629084, 119.3644909 26.0650372, 119.3616773 26.0670503), (119.3616773 26.0670503, 119.3575228 26.070153, 119.3530465 26.0731668, 119.3514775 26.0737806, 119.3473837 26.0751784, 119.3441939 26.0760849, 119.343125 26.0763504, 119.3423376 26.0765022, 119.3369272 26.0772975, 119.3289004 26.0776788, 119.3213473 26.0798551, 119.3206554 26.0799369), (119.3206554 26.0799369, 119.3187671 26.0798524), (119.3187671 26.0798524, 119.3143064 26.0799425, 119.3033955 26.0797403, 119.2980159 26.0794298, 119.2934434 26.0775788, 119.2930481 26.0771923, 119.2936501 26.0696275, 119.293716 26.066779, 119.2934266 26.0664775, 119.2841425 26.0655608, 119.2798178 26.0630574, 119.2682494 26.0528245, 119.2671443 26.0521312, 119.2658842 26.0514856, 119.2452224 26.0505661, 119.2346917 26.0498092, 119.2316362 26.049027, 119.2306695 26.0485335, 119.2207912 26.0471805, 119.2201475 26.0470277, 119.2195207 26.0468482, 119.2189568 26.046677, 119.2139233 26.0453098, 119.2064418 26.0436901, 119.2017961 26.0450029, 119.2009843 26.0458958, 119.1996816 26.0491664, 119.1995433 26.0497607, 119.1991427 26.0598165, 119.1950545 26.070479, 119.1939666 26.0715392, 119.1769632 26.0820781, 119.1740499 26.0855547, 119.1652079 26.0918711, 119.1645477 26.0922432, 119.1578558 26.0983762, 119.1547048 26.1017683), (119.1547048 26.1017683, 119.154069 26.1023345, 119.1516125 26.104152, 119.1482897 26.1065834))\\n326;MULTIPOLYGON (((118.5780309 24.9369973, 118.5804614 24.9365866, 118.5805149 24.9365776, 118.5807064 24.9364618, 118.5809589 24.9363803, 118.581223 24.9363724, 118.5814754 24.9364355, 118.5815287 24.9364294, 118.5817511 24.936404, 118.5839101 24.9360329, 118.5844383 24.9358645, 118.5851492 24.9355593, 118.5855903 24.9353014, 118.5859212 24.9350383, 118.5862578 24.9347409, 118.5864812 24.9344751, 118.5867656 24.9341278, 118.5868469 24.9339331, 118.5867917 24.9336805, 118.586725 24.9333594, 118.5868672 24.9330673, 118.5869426 24.9328542, 118.5868904 24.9326989, 118.5867801 24.9325752, 118.5866611 24.9325358, 118.5865364 24.9325752, 118.5864377 24.9326095, 118.5863129 24.9325779, 118.5862592 24.9325726, 118.5862743 24.9325115, 118.5863686 24.9325208, 118.5863977 24.9324984, 118.5863773 24.9324537, 118.5864165 24.9323668, 118.5864905 24.9323089, 118.5865442 24.9323089, 118.5866748 24.9323721, 118.5870651 24.9324326, 118.5873002 24.9324221, 118.5873654 24.93243, 118.5874119 24.9323694, 118.5874612 24.9323852, 118.5875178 24.9322826, 118.587467 24.9322642, 118.5875642 24.9320103, 118.5875936 24.9318356, 118.5875341 24.9316698, 118.5873847 24.9314922, 118.5872903 24.931383, 118.5872265 24.9312356, 118.5871743 24.9310501, 118.5868768 24.9306475, 118.5866055 24.9303844, 118.5864372 24.9302515, 118.5863124 24.9301291, 118.5861717 24.9299909, 118.5860324 24.9299146, 118.5857785 24.9298317, 118.5851357 24.9295975, 118.584445 24.929412, 118.5839198 24.9292791, 118.5837732 24.9292278, 118.5836238 24.929141, 118.5833046 24.9289554, 118.5831464 24.9288844, 118.5829317 24.9288278, 118.5823223 24.9287147, 118.5822023 24.928664, 118.5819886 24.9286568, 118.5806508 24.9284383, 118.5805971 24.9284857, 118.5805405 24.9285726, 118.5805173 24.9286633, 118.5805333 24.9288015, 118.580616 24.9289962, 118.580703 24.9291041, 118.5807248 24.9292423, 118.5807045 24.9292699, 118.5806174 24.9292844, 118.5805594 24.9292173, 118.5804926 24.929216, 118.5804288 24.9291594, 118.5803388 24.9288739, 118.5802663 24.9285502, 118.5802561 24.9284318, 118.5802257 24.9283594, 118.5801604 24.9283147, 118.577598 24.9278383, 118.5774471 24.9278397, 118.5772846 24.9278949, 118.5771584 24.927991, 118.5770597 24.9281541, 118.5763632 24.9304278, 118.5763618 24.9305778, 118.5764184 24.9307343, 118.5765287 24.9309001, 118.5765968 24.9310185, 118.5765983 24.9311343, 118.5764851 24.9315369, 118.5764706 24.9316909, 118.5765214 24.9318369, 118.5766302 24.931929, 118.5768377 24.932008, 118.5769146 24.9320132, 118.5771685 24.9319554, 118.5772904 24.9318777, 118.5773934 24.9318356, 118.5775153 24.9318172, 118.5783452 24.9317317, 118.5784337 24.9319711, 118.5783984 24.9320661, 118.5777266 24.9321753, 118.5771549 24.9323109, 118.5769402 24.9324858, 118.5768676 24.9334503, 118.5768009 24.9335832, 118.5766558 24.9336647, 118.5758113 24.9339595, 118.5756387 24.9340831, 118.5755037 24.9342647, 118.5754254 24.9344713, 118.5754094 24.9346778, 118.5754762 24.9348989, 118.5758099 24.9360935, 118.5759115 24.9362646, 118.5760566 24.9364106, 118.5762698 24.9365435, 118.57674 24.9367869, 118.5771796 24.93695, 118.5775655 24.9370119, 118.577879 24.9370132, 118.5780309 24.9369973), (118.5818173 24.9321065, 118.5819639 24.9321868, 118.5820683 24.932221, 118.5821206 24.9323263, 118.5821655 24.9324644, 118.5820785 24.9325986, 118.5820074 24.9326118, 118.5819348 24.9326815, 118.581781 24.932696, 118.5816316 24.9326684, 118.5815257 24.9326157, 118.5814285 24.9325236, 118.5814517 24.9324197, 118.5814125 24.9323513, 118.5814401 24.9322644, 118.581501 24.932246, 118.581517 24.9321829, 118.5815735 24.9321408, 118.5816272 24.9321539, 118.5817215 24.9321144, 118.5818173 24.9321065), (118.5807367 24.9295367, 118.58079 24.9295293, 118.5808536 24.9296158, 118.5809131 24.9296819, 118.5809727 24.9298158, 118.581024 24.9299777, 118.5812158 24.9301275, 118.5813707 24.9302429, 118.5815462 24.9302624, 118.5818119 24.9302978, 118.5819832 24.9302643, 118.5820807 24.9302643, 118.5821351 24.9302345, 118.5821936 24.9302308, 118.5822428 24.9302438, 118.5822715 24.9302587, 118.5823536 24.9302568, 118.582487 24.9302661, 118.5826327 24.9303359, 118.5827732 24.930348, 118.5828584 24.9303508, 118.5829179 24.9303694, 118.5829374 24.9304178, 118.5829774 24.9304857, 118.5830154 24.9305192, 118.5830626 24.9305164, 118.5831488 24.9304494, 118.5831959 24.9304243, 118.583278 24.9303936, 118.5834309 24.9303703, 118.5834391 24.9303062, 118.5833704 24.9302717, 118.5832893 24.9302671, 118.5832965 24.9302224, 118.5833211 24.9301871, 118.5834371 24.9302373, 118.5835202 24.9302894, 118.5835766 24.9303657, 118.5835817 24.9304662, 118.5835735 24.9305536, 118.5836638 24.930642, 118.5837428 24.9307211, 118.5837192 24.9307853, 118.583831 24.9308411, 118.5839993 24.9308904, 118.584107 24.9309667, 118.5843502 24.9313752, 118.5844384 24.9315231, 118.5845369 24.9316347, 118.5847513 24.9317436, 118.5850304 24.9318682, 118.5852099 24.931912, 118.5855957 24.9319501, 118.5858584 24.9320311, 118.5860338 24.9322274, 118.5861138 24.9323139, 118.586122 24.9324088, 118.5861149 24.9324386, 118.5860564 24.93246, 118.586042 24.9324841, 118.5862144 24.9325055, 118.5862103 24.9325456, 118.5861826 24.932566, 118.5861107 24.9325669, 118.5860184 24.9325669, 118.5859189 24.9325269, 118.5858317 24.9325697, 118.5856747 24.9326767, 118.5854931 24.932767, 118.5853854 24.932833, 118.5853136 24.9329475, 118.5852438 24.9329903, 118.5850981 24.9330442, 118.5848929 24.9330712, 118.5847575 24.9331066, 118.5845646 24.9330907, 118.584421 24.9330293, 118.5843061 24.9329679, 118.5841173 24.932941, 118.5840526 24.9328563, 118.5840578 24.9327391, 118.5842219 24.9323334, 118.5842291 24.9321297, 118.5842732 24.9320199, 118.5843409 24.9319352, 118.5843768 24.9317892, 118.584345 24.9316654, 118.5841029 24.9313872, 118.5839634 24.931297, 118.5838228 24.9312533, 118.5836515 24.9312486, 118.5835868 24.9312691, 118.583552 24.9313193, 118.5834966 24.9313584, 118.5834165 24.9313593, 118.5831446 24.9314273, 118.5828656 24.9314942, 118.5825968 24.9315789, 118.5824542 24.931605, 118.5823659 24.9315724, 118.5823075 24.9315556, 118.5822131 24.9315854, 118.5821259 24.9315836, 118.5820643 24.9315622, 118.5819884 24.9315603, 118.5816385 24.9315342, 118.5811922 24.9313677, 118.5808926 24.9313026, 118.5807716 24.9313007, 118.5805633 24.9314012, 118.5804309 24.9314775, 118.5803899 24.9315594, 118.5803489 24.9315854, 118.5802422 24.9316059, 118.5801519 24.9315826, 118.5800913 24.9316059, 118.5800534 24.9316533, 118.5800041 24.931685, 118.5800831 24.9318441, 118.5800236 24.9318673, 118.5799436 24.9317175, 118.5796738 24.9318292, 118.5794686 24.9318729, 118.5793629 24.9318013, 118.5793095 24.931578, 118.5793916 24.9315119, 118.5797435 24.9313872, 118.5802576 24.9312337, 118.5806013 24.9310532, 118.5808701 24.9309044, 118.5809706 24.9307434, 118.5811317 24.9306625, 118.5811881 24.9305471, 118.5811676 24.9304187, 118.5810937 24.9303089, 118.5809111 24.930134, 118.5805489 24.9298168, 118.5805212 24.9297489, 118.5806002 24.9296744, 118.5807069 24.9296139, 118.5807059 24.9295618, 118.5807367 24.9295367), (118.5832686 24.9302654, 118.5832404 24.9302896, 118.5832296 24.9303194, 118.5831716 24.9303752, 118.5831383 24.9303892, 118.5830747 24.9303994, 118.583029 24.9303929, 118.5829921 24.9303729, 118.5829685 24.930352, 118.5829115 24.9303506, 118.5828603 24.9303399, 118.5828413 24.9302822, 118.5828197 24.9302673, 118.5828485 24.9302324, 118.5828803 24.9302143, 118.5829295 24.9302273, 118.5829577 24.9301966, 118.5829757 24.9301961, 118.5829993 24.9302194, 118.5830316 24.9302185, 118.5830342 24.9301999, 118.5830967 24.9302022, 118.5830952 24.9302226, 118.5831244 24.9302199, 118.5831337 24.9301705, 118.5831793 24.9301408, 118.5832127 24.9301385, 118.5832522 24.9301529, 118.5832835 24.930164, 118.5832676 24.9302375, 118.5832686 24.9302654)))\\n112;MULTIPOLYGON (((118.5780309 24.9369973, 118.5805149 24.9365776, 118.5809589 24.9363803, 118.5817511 24.936404, 118.5844383 24.9358645, 118.5855903 24.9353014, 118.5859212 24.9350383, 118.5867917 24.9336805, 118.586725 24.9333594, 118.5869426 24.9328542, 118.5864905 24.9323089, 118.5873002 24.9324221, 118.5872903 24.931383, 118.5864372 24.9302515, 118.5863124 24.9301291, 118.5851357 24.9295975, 118.584445 24.929412, 118.5831464 24.9288844, 118.5823223 24.9287147, 118.5806508 24.9284383, 118.5805173 24.9286633, 118.5807045 24.9292699, 118.5806174 24.9292844, 118.5802663 24.9285502, 118.577598 24.9278383, 118.5774471 24.9278397, 118.5770597 24.9281541, 118.5763632 24.9304278, 118.5766302 24.931929, 118.5769146 24.9320132, 118.5784337 24.9319711, 118.5783984 24.9320661, 118.5768676 24.9334503, 118.5758113 24.9339595, 118.5756387 24.9340831, 118.5754254 24.9344713, 118.5758099 24.9360935, 118.5760566 24.9364106, 118.5762698 24.9365435, 118.5771796 24.93695, 118.5780309 24.9369973), (118.5818173 24.9321065, 118.5820683 24.932221, 118.5821655 24.9324644, 118.5820785 24.9325986, 118.5820074 24.9326118, 118.5819348 24.9326815, 118.5816316 24.9326684, 118.5815257 24.9326157, 118.5814285 24.9325236, 118.5814401 24.9322644, 118.581501 24.932246, 118.581517 24.9321829, 118.5818173 24.9321065), (118.5807367 24.9295367, 118.58079 24.9295293, 118.5812158 24.9301275, 118.5820807 24.9302643, 118.5821351 24.9302345, 118.5821936 24.9302308, 118.5830626 24.9305164, 118.5834371 24.9302373, 118.5837428 24.9307211, 118.5837192 24.9307853, 118.5844384 24.9315231, 118.5845369 24.9316347, 118.5847513 24.9317436, 118.5850304 24.9318682, 118.5860564 24.93246, 118.586042 24.9324841, 118.5862144 24.9325055, 118.5861826 24.932566, 118.5861107 24.9325669, 118.5859189 24.9325269, 118.5850981 24.9330442, 118.5848929 24.9330712, 118.584421 24.9330293, 118.5840526 24.9328563, 118.5840578 24.9327391, 118.5842291 24.9321297, 118.5843409 24.9319352, 118.5843768 24.9317892, 118.5839634 24.931297, 118.5838228 24.9312533, 118.5836515 24.9312486, 118.5828656 24.9314942, 118.5823075 24.9315556, 118.5805633 24.9314012, 118.5802422 24.9316059, 118.5800534 24.9316533, 118.5800831 24.9318441, 118.5793629 24.9318013, 118.5793916 24.9315119, 118.5797435 24.9313872, 118.5809706 24.9307434, 118.5811881 24.9305471, 118.5809111 24.930134, 118.5807069 24.9296139, 118.5807059 24.9295618, 118.5807367 24.9295367), (118.5832686 24.9302654, 118.5831716 24.9303752, 118.583029 24.9303929, 118.5829115 24.9303506, 118.5828485 24.9302324, 118.5829577 24.9301966, 118.5830316 24.9302185, 118.5831244 24.9302199, 118.5831337 24.9301705, 118.5831793 24.9301408, 118.5832127 24.9301385, 118.5832686 24.9302654)))\\n```\\n\u539f\u6765\u7684\u590d\u6742\u7ebf\u6bb5\u548c\u590d\u6742\u591a\u8fb9\u5f62\u7ecf\u8fc7\u7b80\u5316\u540e\uff0c\u70b9\u7684\u4e2a\u6570\u53ea\u5269\u4e0b\u5927\u7ea6\u539f\u6765\u76843\u5206\u4e4b1\u3002\\n\\n\u56fe\u5f62\u7b80\u5316\u524d\u540e\u5bf9\u6bd4\uff1a\\n![\u7ebf\u7b80\u5316\u524d\u540e\u5bf9\u6bd4](img/0306-xianjianhua.PNG \\"\u7ebf\u7b80\u5316\u524d\u540e\u5bf9\u6bd4\\")\\n\\n![\u9762\u7b80\u5316\u524d\u540e\u5bf9\u6bd4](img/0306-mianjianhua.PNG \\"\u9762\u7b80\u5316\u524d\u540e\u5bf9\u6bd4\\")\\n\\n### \u603b\u7ed3\\nVisvalingam-Whyatt\u7b97\u6cd5\u786e\u5b9e\u5f88\u597d\u7684\u5c06\u591a\u8fb9\u5f62\u8fdb\u884c\u4e86\u4f18\u5316\uff0c\u5904\u7406\u540e\u7684\u7ed3\u679c\u6700\u5927\u7a0b\u5ea6\u4fdd\u7559\u4e86\u56fe\u5f62\u7684\u7279\u5f81\u3002\\n\\n\u5b9e\u9645\u9879\u76ee\u4e2d\uff0c\u56fe\u5f62\u7684\u60c5\u51b5\u53ef\u80fd\u66f4\u590d\u6742\uff0c\u4ee5\u4e0a\u4ee3\u7801\u53ef\u80fd\u4f1a\u51fa\u73b0\u4e00\u4e9b\u95ee\u9898\u3002\u6bd4\u5982\u9762\u7684\u4e2d\u95f4\u6709\u6d1e(holes\uff09\uff0c\u5904\u7406\u8d77\u6765\u66f4\u52a0\u590d\u6742\u3002\u5904\u7406\u4e0d\u5f53\u53ef\u80fd\u5bfc\u81f4\u56fe\u5f62\u65e0\u6cd5\u95ed\u5408\uff0c\u629b\u51fa **IllegalArgumentException: Points of LinearRing do not form a closed linestring** \u5f02\u5e38\u3002\\n\\n\u4e0a\u9762\u4ee3\u7801\u5df2\u7ecf\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u5148\u5c06Polygon\u7684\u5916\u8f6e\u5ed3\u8fdb\u884c\u7b80\u5316\uff0c\u518d\u5c06\u6bcf\u4e2a\u6d1e\u8fdb\u884c\u7b80\u5316\uff0c\u6700\u540e\u5c06\u5916\u8f6e\u5ed3\u548c\u5185\u90e8\u7684\u6d1e\u8fdb\u884c\u7ec4\u88c5\u6210\u4e00\u4e2a\u65b0\u7684\u591a\u8fb9\u5f62\u3002\\n\\n\u5728\u5b9e\u9645\u4f7f\u7528\u8fc7\u7a0b\u4e2d\uff0c\u5982\u4f55\u8bbe\u7f6e\u4fdd\u7559\u9762\u79ef\u4e34\u754c\u503c\u662f\u4e00\u4e2a\u95ee\u9898\u3002\u5982\u679c\u8fd8\u6709\u5176\u4ed6\u95ee\u9898\u6b22\u8fce\u8bc4\u8bba\u4ea4\u6d41\u3002"},{"id":"java-htmlcode-transform","metadata":{"permalink":"/blog/java-htmlcode-transform","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2024/02-18-Html\u5b57\u7b26\u7684\u8f6c\u6362.md","source":"@site/blog/2024/02-18-Html\u5b57\u7b26\u7684\u8f6c\u6362.md","title":"Html\u5b57\u7b26\u7684\u8f6c\u6362","description":"\u5b9e\u4f53\u7f16\u7801\u662f\u4e00\u79cd\u5c06Unicode\ue641\u5b57\u7b26\u8f6c\u6362\u4e3aHTML\u5b9e\u4f53\u7684\u673a\u5236\uff0c\u7528\u4e8e\u5728HTML\u4e2d\u8868\u793a\u5404\u79cd\u5b57\u7b26\uff0c\u5305\u62ecASCII\u5b57\u7b26\u96c6\uff08HTML\u672c\u8eab\u53ea\u652f\u6301ASCII\u5b57\u7b26\u96c6\uff09\u4e4b\u5916\u7684\u5b57\u7b26\u3002","date":"2024-02-18T00:00:00.000Z","formattedDate":"2024\u5e742\u670818\u65e5","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"html","permalink":"/blog/tags/html"},{"label":"\u7f16\u7801","permalink":"/blog/tags/\u7f16\u7801"}],"readingTime":0.8566666666666667,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"java-htmlcode-transform","title":"Html\u5b57\u7b26\u7684\u8f6c\u6362","date":"2024-02-18T00:00:00.000Z","authors":"yuchengee","tags":["java","html","\u7f16\u7801"],"keywords":["java","html","\u7f16\u7801"]},"unlisted":false,"prevItem":{"title":"Gis\u5f00\u53d1\u4e2d\u7684\u56fe\u5f62\u7b80\u5316\u7b97\u6cd5","permalink":"/blog/java-simplify-geometry"},"nextItem":{"title":"geotools\u4e2d\u7684\u5173\u7cfb\u8868\u8fbe\u5f0f","permalink":"/blog/java-geotools-relep"}},"content":"\u5b9e\u4f53\u7f16\u7801\u662f\u4e00\u79cd\u5c06Unicode\ue641\u5b57\u7b26\u8f6c\u6362\u4e3aHTML\u5b9e\u4f53\u7684\u673a\u5236\uff0c\u7528\u4e8e\u5728HTML\u4e2d\u8868\u793a\u5404\u79cd\u5b57\u7b26\uff0c\u5305\u62ecASCII\u5b57\u7b26\u96c6\uff08HTML\u672c\u8eab\u53ea\u652f\u6301ASCII\u5b57\u7b26\u96c6\uff09\u4e4b\u5916\u7684\u5b57\u7b26\u3002\\n\\n\u672c\u6587\u8bb0\u5f55\u6b63\u5e38\u7f16\u7801\u548c\u5b9e\u4f53\u7f16\u7801\u7684\u4e92\u76f8\u8f6c\u6362\u3002\\n\x3c!--truncate--\x3e\\n\u5728\u9605\u8bfb\u524d\u7aef\u4ee3\u7801\u65f6\uff0c\u53d1\u73b0html\u4e2d\u7684\u7f16\u7801\u662f:\\n`\\n&#52;&#48;&#52;&#32;&#28180;&#27468;&#21338;&#23458;&#32593;&#45;&#19968;&#20010;&#39640;&#36136;&#37327;&#30693;&#35782;&#28304;&#30721;&#36164;&#28304;&#20998;&#20139;&#24179;&#21488;\\n`\\n\\n\u8be2\u95ee <a href=\\"/gpt\\" target=\\"_blank\\">GPT</a> \uff0c\u662fhtml\u5b9e\u4f53\u7f16\u7801\u3002\\n\\n\u90a3\u4e48\u5982\u4f55\u8f6c\u6362\u8fd9\u79cd\u7f16\u7801\uff1f\\n \\n### \u6b63\u5e38\u5b57\u7b26\u8f6c\u6210\u5b9e\u4f53\u7f16\u7801\\n```java title=\'encode\' icon=\'logos:java\'\\npublic String encode(String input) {\\n    StringBuilder sb = new StringBuilder();\\n    for (int i = 0; i < input.length(); i++) {\\n        char c = input.charAt(i);\\n        sb.append(\\"&#\\").append((int) c).append(\\";\\");\\n    }\\n    return sb.toString();\\n}\\n```\\n\\n### \u5b9e\u4f53\u7f16\u7801\u8f6c\u6210\u6b63\u5e38\u5b57\u7b26\\n\u81ea\u5df1\u5b9e\u73b0\u6bd4\u8f83\u590d\u6742\uff0c\u800c\u4e14\u53ef\u80fd\u4f1a\u6709\u4e00\u4e9b\u672a\u8003\u8651\u5230\u7684\u60c5\u51b5\uff0c\u76f4\u63a5\u4f7f\u7528\u6210\u719f\u7684\u5f00\u6e90\u6846\u67b6\u3002\\n```xml title=\'pom\' icon=\'logos:xml\'\\n<dependency>\\n    <groupId>org.apache.commons</groupId>\\n    <artifactId>commons-text</artifactId>\\n    <version>1.3</version>\\n</dependency>\\n```\\n\\n```java title=\'decode\' icon=\'logos:java\'\\n@Test\\npublic void testCode() {\\n    String encodedText = \\"&#52;&#48;&#52;&#32;&#28180;&#27468;&#21338;&#23458;&#32593;&#45;&#19968;&#20010;&#39640;&#36136;&#37327;&#30693;&#35782;&#28304;&#30721;&#36164;&#28304;&#20998;&#20139;&#24179;&#21488;\\";\\n    String decodedText = StringEscapeUtils.unescapeHtml4(encodedText);\\n    System.out.println(decodedText);\\n\\n    String normalText = \\"404 \u6e14\u6b4c\u535a\u5ba2\u7f51-\u4e00\u4e2a\u9ad8\u8d28\u91cf\u77e5\u8bc6\u6e90\u7801\u8d44\u6e90\u5206\u4eab\u5e73\u53f0\\";\\n    String encodedText1 = encode(normalText);\\n    System.out.println(encodedText1);\\n}\\n```"},{"id":"java-geotools-relep","metadata":{"permalink":"/blog/java-geotools-relep","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2024/02-08-geotools\u4e2d\u7684\u5173\u7cfb\u8868\u8fbe\u5f0f.md","source":"@site/blog/2024/02-08-geotools\u4e2d\u7684\u5173\u7cfb\u8868\u8fbe\u5f0f.md","title":"geotools\u4e2d\u7684\u5173\u7cfb\u8868\u8fbe\u5f0f","description":"geotools\u4e2d\u5730\u7406\u7a7a\u95f4\u6570\u636efeature\uff0c\u5982\u4f55\u6839\u636e\u6761\u4ef6\u8fdb\u884c\u67e5\u8be2\u3001\u8fc7\u6ee4\u3001\u8bbe\u7f6e\u6837\u5f0f\uff0c\u8fd9\u5c31\u9700\u8981\u4e00\u79cd\u67e5\u8be2\u8bed\u8a00\u3002","date":"2024-02-08T00:00:00.000Z","formattedDate":"2024\u5e742\u67088\u65e5","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"geotools","permalink":"/blog/tags/geotools"},{"label":"sld","permalink":"/blog/tags/sld"},{"label":"ecql","permalink":"/blog/tags/ecql"}],"readingTime":1.4,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"java-geotools-relep","title":"geotools\u4e2d\u7684\u5173\u7cfb\u8868\u8fbe\u5f0f","date":"2024-02-08T00:00:00.000Z","authors":"yuchengee","tags":["java","geotools","sld","ecql"],"keywords":["java","geotools","sld","ecql"]},"unlisted":false,"prevItem":{"title":"Html\u5b57\u7b26\u7684\u8f6c\u6362","permalink":"/blog/java-htmlcode-transform"},"nextItem":{"title":"Java\u8f93\u51faPDF","permalink":"/blog/java-out-pdf"}},"content":"geotools\u4e2d\u5730\u7406\u7a7a\u95f4\u6570\u636efeature\uff0c\u5982\u4f55\u6839\u636e\u6761\u4ef6\u8fdb\u884c\u67e5\u8be2\u3001\u8fc7\u6ee4\u3001\u8bbe\u7f6e\u6837\u5f0f\uff0c\u8fd9\u5c31\u9700\u8981\u4e00\u79cd\u67e5\u8be2\u8bed\u8a00\u3002\\n\x3c!--truncate--\x3e\\nCQL\uff08Common Query Language\uff0c\u901a\u7528\u67e5\u8be2\u8bed\u8a00\uff09\u662f\u4e00\u79cd\u7528\u4e8e\u6784\u5efa\u7a7a\u95f4\u6570\u636e\u67e5\u8be2\u7684\u8bed\u8a00\u3002\u5b83\u7c7b\u4f3c\u4e8e SQL\uff08Structured Query Language\uff09\uff0c\u4f46\u4e13\u95e8\u7528\u4e8e\u5730\u7406\u7a7a\u95f4\u6570\u636e\u7684\u67e5\u8be2\u3002\\n\\nCQL \u5141\u8bb8\u4f60\u5728\u7a7a\u95f4\u6570\u636e\u96c6\u5408\uff08\u5982\u5730\u56fe\u3001\u77e2\u91cf\u6570\u636e\u7b49\uff09\u4e2d\u6267\u884c\u5404\u79cd\u67e5\u8be2\u64cd\u4f5c\uff0c\u5305\u62ec\u7a7a\u95f4\u5173\u7cfb\u3001\u5c5e\u6027\u8fc7\u6ee4\u548c\u590d\u6742\u7684\u903b\u8f91\u64cd\u4f5c\u3002\u901a\u8fc7\u4f7f\u7528 CQL\uff0c\u4f60\u53ef\u4ee5\u6839\u636e\u7a7a\u95f4\u6570\u636e\u7684\u7279\u5f81\u548c\u5c5e\u6027\u6765\u7b5b\u9009\u51fa\u6ee1\u8db3\u7279\u5b9a\u6761\u4ef6\u7684\u8981\u7d20\u6216\u5bf9\u8c61\u3002\\n\\n\u7136\u800c\uff0cCQL\u6709\u4e00\u4e9b\u5c40\u9650\u6027\u3002\u4f8b\u5982\uff0c\u5b83\u4e0d\u80fd\u5bf9ID\u8fc7\u6ee4\u5668\u8fdb\u884c\u7f16\u7801\uff0c\u5e76\u4e14\u5b83\u8981\u6c42\u5c5e\u6027\u4f4d\u4e8e\u4efb\u4f55\u6bd4\u8f83\u8fd0\u7b97\u7b26\u7684\u5de6\u4fa7\u3002\u56e0\u6b64\uff0c\u8bde\u751f\u4e86\u4e00\u4e2a\u540d\u4e3aECQL\u7684CQL\u6269\u5c55\u7248\u672c\u3002ECQL\u6d88\u9664\u4e86CQL\u7684\u5c40\u9650\u6027\uff0c\u63d0\u4f9b\u4e86\u4e00\u79cd\u66f4\u7075\u6d3b\u7684\u8bed\u8a00\uff0c\u4e0eSQL\u6709\u66f4\u5f3a\u7684\u76f8\u4f3c\u6027\u3002\\n \\n### geotools\u4e2dECQL\u4ee3\u7801\u793a\u4f8b\\n```java title=\'encode\' icon=\'logos:java\'\\n// filter\u8f6c\u6362\u6210xml\u683c\u5f0f\\nFilterTransformer filterTransformer = new FilterTransformer();\\n// \u8bbe\u7f6e\u7f29\u8fdb\\nfilterTransformer.setIndentation(4);\\n\\n// \u8868\u8fbe\u5f0f\u8f6c\u6362\u6210filter\\nFilter filter = ECQL.toFilter(\\"kpi<0 or kpi>3\\");\\n// filter\u8f6c\u6210xml\\nString transform = filterTransformer.transform(filter);\\nSystem.out.println(transform);\\n// \u4f7f\u7528 FilterFactory \u521b\u5efa filter\\nFilterFactory filterFactory = CommonFactoryFinder.getFilterFactory();\\nPropertyIsNotEqualTo propertyIsNotEqualTo = filterFactory.notEqual(filterFactory.property(\\"name\\"), filterFactory.property(\\"null\\"));\\nString transform1 = filterTransformer.transform(propertyIsNotEqualTo);\\nSystem.out.println(transform1);\\n// filter\u8f6c\u6362\u6210CQL\\nSystem.out.println(ECQL.toCQL(propertyIsNotEqualTo));\\n```\\n\\n\u8f93\u51fa\u7ed3\u679c\\n```xml title=\'\u7ed3\u679c\' icon=\'logos:xml\'\\n<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?><ogc:Or xmlns=\\"http://www.opengis.net/ogc\\" xmlns:ogc=\\"http://www.opengis.net/ogc\\" xmlns:gml=\\"http://www.opengis.net/gml\\">\\n    <ogc:PropertyIsLessThan>\\n        <ogc:PropertyName>kpi</ogc:PropertyName>\\n        <ogc:Literal>0</ogc:Literal>\\n    </ogc:PropertyIsLessThan>\\n    <ogc:PropertyIsGreaterThan>\\n        <ogc:PropertyName>kpi</ogc:PropertyName>\\n        <ogc:Literal>3</ogc:Literal>\\n    </ogc:PropertyIsGreaterThan>\\n</ogc:Or>\\n\\n<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?><ogc:PropertyIsNotEqualTo xmlns=\\"http://www.opengis.net/ogc\\" xmlns:ogc=\\"http://www.opengis.net/ogc\\" xmlns:gml=\\"http://www.opengis.net/gml\\">\\n    <ogc:PropertyName>name</ogc:PropertyName>\\n    <ogc:PropertyName>null</ogc:PropertyName>\\n</ogc:PropertyIsNotEqualTo>\\n\\nname <> \\"null\\"\\n```\\n\\n\u4f7f\u7528\u4e0a\u9762\u4ee3\u7801\u53ef\u4ee5\u5c06\u8868\u8fbe\u5f0f\u8f6c\u6210 filter\u548cxml\u5b57\u7b26\u4e32\u3002\u5f53\u4e0d\u77e5\u9053\u600e\u6837\u5199sld\u6761\u4ef6\u65f6\uff0c\u53ea\u9700\u8981\u5199\u51fa\u8868\u8fbe\u5f0f\uff0c\u5c31\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u8f6c\u51fa\u7ed3\u679c\u3002"},{"id":"java-out-pdf","metadata":{"permalink":"/blog/java-out-pdf","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2024/01-20-Java\u8f93\u51faPDF.md","source":"@site/blog/2024/01-20-Java\u8f93\u51faPDF.md","title":"Java\u8f93\u51faPDF","description":"\u9879\u76ee\u4e2d\u9047\u5230\u9700\u8981\u5bfc\u51faPDF\u7684\u9700\u6c42\uff0c\u8bb0\u5f55\u4f7f\u7528 itextpdf \u5bfc\u51fapdf\u3002","date":"2024-01-20T00:00:00.000Z","formattedDate":"2024\u5e741\u670820\u65e5","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"pdf","permalink":"/blog/tags/pdf"},{"label":"\u6587\u4ef6","permalink":"/blog/tags/\u6587\u4ef6"},{"label":"itextpdf","permalink":"/blog/tags/itextpdf"}],"readingTime":1.79,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"java-out-pdf","title":"Java\u8f93\u51faPDF","date":"2024-01-20T00:00:00.000Z","authors":"yuchengee","tags":["java","pdf","\u6587\u4ef6","itextpdf"]},"unlisted":false,"prevItem":{"title":"geotools\u4e2d\u7684\u5173\u7cfb\u8868\u8fbe\u5f0f","permalink":"/blog/java-geotools-relep"},"nextItem":{"title":"\u666e\u901ajava\u9879\u76ee\u6253jar\u5305\u8fd0\u884c\u65b9\u5f0f","permalink":"/blog/java-build-run"}},"content":"\u9879\u76ee\u4e2d\u9047\u5230\u9700\u8981\u5bfc\u51faPDF\u7684\u9700\u6c42\uff0c\u8bb0\u5f55\u4f7f\u7528 itextpdf \u5bfc\u51fapdf\u3002\\n\x3c!--truncate--\x3e\\n\u5de5\u4f5c\u4e2d\u7ecf\u5e38\u9047\u5230\u9700\u8981\u5c06\u6570\u636e\u5bfc\u51fa\u6587\u4ef6\u7684\u9700\u6c42\uff0c\u4e00\u822c\u5bfc\u51facsv\u8fd9\u79cd\u6bd4\u8f83\u7b80\u5355\u3002\u8fd9\u6b21\u9047\u5230\u9700\u8981\u5bfc\u51fa\u6210PDF\uff0c\u8fd9\u5c31\u6bd4\u8f83\u9ebb\u70e6\u4e86\uff0c\u4f7f\u7528 itextpdf \u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e2a\u9700\u6c42\u3002\\n\\nitextpdf\u53ef\u4ee5\u76f4\u63a5\u8f93\u51faPDF\uff0c\u4e5f\u53ef\u4ee5\u6309\u7167PDF\u6a21\u677f\u586b\u5145\u5b57\u6bb5\u3002\\n\\n### \u521b\u5efa\u6a21\u677f\\n\u521b\u5efaPDF\u6a21\u677f\uff0c\u9700\u8981\u4f7f\u7528 Adobe Acrobat DC\uff0c\u8be5\u8f6f\u4ef6\u53ef\u4ee5\u81ea\u884c\u767e\u5ea6\u5b89\u88c5\u5373\u53ef\u3002\\n\\n1. \u5728word\u4e2d\u753b\u597d\u6a21\u677f\uff0c\u53e6\u5b58\u4e3aPDF\u683c\u5f0f\u3002\\n![word\u683c\u5f0f](img/0120-word.png)\\n\\n2. \u6253\u5f00 Adobe Acrobat DC\uff0c\u9009\u62e9\u5de5\u5177-\u51c6\u5907\u8868\u5355\uff0c\u9009\u62e9\u521a\u521a\u5bfc\u51fa\u7684PDF\u3002\\n![Adobe](img/0120-pform.png)\\n\\n3. \u7f16\u8f91\u8868\u5355\u5b57\u6bb5\u3002\u4fdd\u5b58\u4e3a\u6a21\u677f\u3002\\n![Adobe](img/0120-form-field.png)\\n\\n### \u4ee3\u7801\u586b\u5145\\nmaven\u4f9d\u8d56\\n```\\n<dependencies>\\n    \x3c!-- PDF\u5de5\u5177\u7c7b --\x3e\\n    <dependency>\\n        <groupId>com.itextpdf</groupId>\\n        <artifactId>itextpdf</artifactId>\\n        <version>5.5.13</version>\\n    </dependency>\\n    \x3c!-- PDF\u4e2d\u6587\u652f\u6301 --\x3e\\n    <dependency>\\n        <groupId>com.itextpdf</groupId>\\n        <artifactId>itext-asian</artifactId>\\n        <version>5.2.0</version>\\n    </dependency>\\n</dependencies>\\n```\\n\\njava\u586b\u5145\\n```java\\npublic static void main(String[] args) throws Exception {\\n    String name = \\"\u5927\u806a\u660e\\";\\n    String date = \\"2024-01-20\\";\\n    String imagePath = \\"D:\\\\\\\\test.PNG\\";\\n    outPdf(name, date, imagePath);\\n}\\n\\npublic static void outPdf(String name, String date, String imagePath) throws Exception {\\n    String templatePath = \\"d:\\\\\\\\test1.pdf\\";\\n    String outPdf = \\"d:\\\\\\\\out.pdf\\";\\n\\n    BaseFont bfChinese = BaseFont.createFont(\\"STSong-Light\\", \\"UniGB-UCS2-H\\", BaseFont.NOT_EMBEDDED);\\n\\n    try (FileOutputStream out = new FileOutputStream(outPdf);\\n            ByteArrayOutputStream bos = new ByteArrayOutputStream()){\\n        PdfReader reader = new PdfReader(templatePath);\\n        PdfStamper stamper = new PdfStamper(reader, bos);\\n        AcroFields form = stamper.getAcroFields();\\n        form.addSubstitutionFont(bfChinese);\\n        form.setField(\\"name\\", name);\\n        form.setField(\\"date\\", date);\\n\\n        //\u56fe\u7247\u7c7b\u7684\u5185\u5bb9\u5904\u7406\\n        String imagekey = \\"image\\";\\n        int pageNo = form.getFieldPositions(imagekey).get(0).page;\\n        Rectangle signRect = form.getFieldPositions(imagekey).get(0).position;\\n        float x = signRect.getLeft();\\n        float y = signRect.getBottom();\\n        //\u6839\u636e\u8def\u5f84\u8bfb\u53d6\u56fe\u7247\\n        Image image = Image.getInstance(imagePath);\\n        //\u83b7\u53d6\u56fe\u7247\u9875\u9762\\n        PdfContentByte under = stamper.getOverContent(pageNo);\\n        //\u56fe\u7247\u5927\u5c0f\u81ea\u9002\u5e94\\n        image.scaleToFit(signRect.getWidth(), signRect.getHeight());\\n        //\u6dfb\u52a0\u56fe\u7247\\n        image.setAbsolutePosition(x, y);\\n        under.addImage(image);\\n        // \u5982\u679c\u4e3afalse\uff0c\u751f\u6210\u7684PDF\u6587\u4ef6\u53ef\u4ee5\u7f16\u8f91\uff0c\u5982\u679c\u4e3atrue\uff0c\u751f\u6210\u7684PDF\u6587\u4ef6\u4e0d\u53ef\u4ee5\u7f16\u8f91\\n        stamper.setFormFlattening(true);\\n        stamper.close();\\n\\n        Document doc = new Document();\\n        PdfCopy copy = new PdfCopy(doc, out);\\n        doc.open();\\n        PdfImportedPage importPage = copy.getImportedPage(new PdfReader(bos.toByteArray()), 1);\\n        copy.addPage(importPage);\\n        doc.close();\\n    }\\n\\n}\\n```\\n\\n### \u8fd0\u884c\u7ed3\u679c\\n![out](img/0120-out.png)\\n\\n\\n### \u603b\u7ed3\\n\u4ece\u4e0a\u9762\u7684\u8fc7\u7a0b\u6765\u770b\uff0c\u8fd8\u662f\u5f88\u7b80\u5355\u7684\u3002\u867d\u7136\u53ea\u67093\u4e2a\u586b\u5145\uff0c\u4f46\u662f\u5df2\u7ecf\u6253\u901a\u4e86Java\u5bfc\u51faPDF\u7684\u6d41\u7a0b\u3002\\n\\n\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u80af\u5b9a\u4e0d\u6b62\u8fd9\u51e0\u4e2a\u7b80\u5355\u5b57\u6bb5\uff0c\u4f46\u662f\u53ea\u8981\u77e5\u9053\u4e86\u57fa\u672c\u64cd\u4f5c\uff0c\u4e0d\u7ba1\u6a21\u677f\u591a\u590d\u6742\uff0c\u586b\u5145\u4e0d\u540c\u7c7b\u578b\u7684\u5b57\u6bb5\u4ee3\u7801\u4e5f\u53ef\u4ee5\u53c2\u8003\uff0c\u4e5f\u5c31\u53ef\u4ee5\u5bfc\u51fa\u4efb\u610f\u8981\u6c42\u7684PDF\u3002"},{"id":"java-build-run","metadata":{"permalink":"/blog/java-build-run","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2024/01-05-\u666e\u901ajava\u9879\u76ee\u6253\u5305\u8fd0\u884c\u65b9\u5f0f.md","source":"@site/blog/2024/01-05-\u666e\u901ajava\u9879\u76ee\u6253\u5305\u8fd0\u884c\u65b9\u5f0f.md","title":"\u666e\u901ajava\u9879\u76ee\u6253jar\u5305\u8fd0\u884c\u65b9\u5f0f","description":"\u5bf9\u4e8e\u975espring\u7684\u666e\u901ajava\u9879\u76ee\uff0c\u5982\u4f55\u6253jar\u5305\u8fd0\u884c\uff1f","date":"2024-01-05T00:00:00.000Z","formattedDate":"2024\u5e741\u67085\u65e5","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"jar","permalink":"/blog/tags/jar"},{"label":"\u6253\u5305","permalink":"/blog/tags/\u6253\u5305"}],"readingTime":2.04,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"java-build-run","title":"\u666e\u901ajava\u9879\u76ee\u6253jar\u5305\u8fd0\u884c\u65b9\u5f0f","date":"2024-01-05T00:00:00.000Z","authors":"yuchengee","tags":["java","jar","\u6253\u5305"],"keywords":["java","jar","\u6253\u5305"]},"unlisted":false,"prevItem":{"title":"Java\u8f93\u51faPDF","permalink":"/blog/java-out-pdf"},"nextItem":{"title":"commons-io\u4e2dFilenameutils\u5173\u4e8e\u6587\u4ef6\u540d\u7684\u65b9\u6cd5","permalink":"/blog/commons-io-filenameutils"}},"content":"\u5bf9\u4e8e\u975espring\u7684\u666e\u901ajava\u9879\u76ee\uff0c\u5982\u4f55\u6253jar\u5305\u8fd0\u884c\uff1f\\n\\n\u8bb0\u5f55\u4e24\u79cd\u6253\u5305\u8fd0\u884c\u65b9\u5f0f\u3002\\n\x3c!--truncate--\x3e\\n\u6709\u65f6\u5019\u9700\u8981\u5199\u4e00\u4e9b\u5c0f\u5de5\u5177\u3001\u6216\u8005\u975espring\u3001\u975emaven\u7684java\u9879\u76ee\uff0c\u4e00\u822c\u90fd\u662f\u5c0f\u9700\u6c42\uff0c\u53ea\u8981\u63d0\u4f9b\u4e00\u4e2ajar\u7ed9\u522b\u4eba\u4f7f\u7528\uff0c\u8fd9\u6837\u6bd4\u8f83\u65b9\u4fbf\uff0c\u4e0d\u9700\u8981\u5f15\u5165\u8fc7\u591a\u7684\u4f9d\u8d56\u3002\\n \\n### 1. \u5168\u91cf\u5305\\n\u5982\u679c\u4f9d\u8d56\u8f83\u5c11\uff0c\u53ef\u4ee5\u91c7\u7528\u76f4\u63a5\u628a\u4f9d\u8d56\u4e00\u8d77\u6253\u8fdbjar\u5305\u91cc\u9762\uff0c\u8fd9\u6837\u8f93\u51fa\u7ed3\u679c\u53ea\u6709\u4e00\u4e2ajar\uff0c\u8fd9\u6837\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u63d0\u4f9b\u7ed9\u9700\u8981\u7684\u4eba\uff0c\u4e0d\u9700\u8981\u989d\u5916\u7684\u5904\u7406\u3002\\n\\n![\u7b2c\u4e00\u79cd\u65b9\u5f0f](./img/0331-jar-f1.png \\"\u7b2c\u4e00\u79cd\u65b9\u5f0f\u6253\u5305\\")\\n\\n\u53ef\u4ee5\u5728\u521b\u5efaartifacts\u65f6\uff0c\u9009\u62e9\u4e3b\u7c7b\uff0c\u4e5f\u53ef\u4ee5\u5728 **MANIFEST.MF** \u4e2d\u6307\u5b9a\u4e3b\u7c7b\u3002\\n```test title=\'MANIFEST.MF\' icon=\'logos:text\'\\nManifest-Version: 1.0\\nMain-Class: org.example.TestWork\\n\\n```\\n\\n![\u6253\u5305\u6b65\u9aa41](./img/0331-jar-step1.png \\"\u6253\u5305\u6b65\u9aa41\\")\\n\\n\u7136\u540e\u5c31\u53ef\u4ee5\u8fd0\u884c\u4e86\u3002\\n![\u8fd0\u884c](./img/0331-jar-run1.png \\"\u8fd0\u884c\\")\\n\\n:::tip\\n\u6709\u65f6\u5019\u4f1a\u9047\u5230\u4e00\u4e9b\u9519\u8bef\uff0c\u539f\u56e0\u662f\u6709\u4e00\u4e9b\u4f9d\u8d56\u7684\u6587\u4ef6\u52a0\u5165\u540e\uff0c\u4f1a\u5bf9jar\u8fd0\u884c\u673a\u5236\u4ea7\u751f\u5f71\u54cd\uff0c\u5177\u4f53\u539f\u56e0\u8fd8\u4e0d\u6e05\u695a\u3002\\n\\n\u5982\uff1aInvalid signature file digest for Manifest main attributes\\n\u6216\u8005 Could not find or load main class com.xx.xxx\\n![\u9519\u8bef1](./img/0331-jar-error1.png \\"\u9519\u8bef1\\")\\n\u8fd9\u65f6\u8981\u5220\u9664\u4e00\u4e9b\u6587\u4ef6\uff0c\u6216\u8005\u5728maven\u914d\u7f6e\u4e2d\u6392\u9664\u4e00\u4e9b\u6587\u4ef6\u3002\u4e3b\u8981\u662f\\n- xxx.SF\\n- xxx.DSA\\n:::\\n\\n### 2. \u975e\u5168\u91cf\u5305\\n\u5982\u679c\u4f9d\u8d56\u8f83\u591a\uff0c\u7528\u7b2c\u4e00\u79cd\u65b9\u5f0f\u6253\u51fa\u6765\u7684\u5305\u53ef\u80fd\u5f88\u5927\uff0c\u4e0d\u5229\u4e8e\u4fee\u6539\u548c\u4f20\u9012\u3002\u53ef\u4ee5\u6253\u975e\u5168\u91cf\u7684\u5305\u3002\\n\\n\u53ea\u628a\u9879\u76ee\u7684\u4ee3\u7801\u6253\u6210jar\u5305\uff0c\u628a\u4f9d\u8d56\u5305\u653e\u5728\u5176\u4ed6\u76ee\u5f55\uff0c\u8fd0\u884c\u65f6\u53ef\u4ee5\u8bbe\u7f6e\u4f9d\u8d56\u8def\u5f84\u3002\\n\\n\u56e0\u4e3a\u4f9d\u8d56\u5305\u662f\u4e0d\u4f1a\u7ecf\u5e38\u53d8\u7684\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u4e00\u8d77\u4f20\u7ed9\u5bf9\u65b9\uff0c\u53ea\u9700\u8981\u63d0\u4f9b\u9879\u76ee\u4ee3\u7801\u7684jar\uff0c\u76f4\u63a5\u66ff\u6362\u5c31\u53ef\u4ee5\u4e86\u3002\\n\\n\u53ef\u4ee5\u5229\u7528idea\u5c06\u6240\u6709\u4f9d\u8d56\u5bfc\u51fa\u3002  \\n\u5bfc\u51fa\u65f6\uff0c\u53ea\u9700\u8981\u9009\u62e9\u9879\u76ee\u4ee3\u7801\u3002\\n![\u7b2c\u4e8c\u79cd\u65b9\u5f0f](./img/0331-jar-f2.png \\"\u7b2c\u4e8c\u79cd\u65b9\u5f0f\u6253\u5305\\")\\n\\n\u6253\u5305\u540e\u5c06\u4f9d\u8d56\u548c\u4ee3\u7801jar\u4e00\u8d77\u90e8\u7f72\u5230\u73af\u5883\u3002\\n\\n\u9009\u62e9\u4e00\u4e2a\u76ee\u5f55\uff0c\u5728\u76ee\u5f55\u4e0b\u521b\u5efalib\u76ee\u5f55\u7528\u4e8e\u5b58\u653e\u6240\u6709jar\uff0c\u7136\u540e\u5199\u4e00\u4e2a\u8fd0\u884c\u811a\u672c\uff0c\u8fd0\u884c\u811a\u672c\u5982\u4e0b\uff1a\\n```shell title=\'run.sh\' icon=\'logos:shell\'\\n#!/bin/bash\\n\\nLIB=/data/test\\nCLASSPATH=\\nfor jar in $LIB/lib/*.jar; do\\n    CLASSPATH=$CLASSPATH:$jar\\ndone\\njava -Xms512m -Xmx1024m -classpath $CLASSPATH  org.example.TestWork  $1 $2\\n```\\n\\n\u7136\u540e\u8d4b\u6743\u540e\u76f4\u63a5\u8fd0\u884c `./run.sh`\\n![\u8fd0\u884c](./img/0331-jar-run2.png \\"\u8fd0\u884c\\")\\n\\n\u8fd9\u79cd\u65b9\u5f0f\u6253\u51fa\u7684test.jar\u5f88\u5c0f\uff0c\u91cc\u9762\u53ea\u6709\u6211\u4eec\u81ea\u5df1\u7684\u4ee3\u7801\uff0c\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u66ff\u6362\u5230\u73af\u5883\u4e0a\u9762\u3002\\n\\n### \u603b\u7ed3\\n\u4e0a\u9762\u662f\u6211\u7528\u5230\u7684\u4e24\u79cd\u6253jar\u5305\u65b9\u5f0f\u3002"},{"id":"commons-io-filenameutils","metadata":{"permalink":"/blog/commons-io-filenameutils","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2023/12-11-commons-io\u4e2d\u5173\u4e8e\u6587\u4ef6\u540d\u7684\u65b9\u6cd5.md","source":"@site/blog/2023/12-11-commons-io\u4e2d\u5173\u4e8e\u6587\u4ef6\u540d\u7684\u65b9\u6cd5.md","title":"commons-io\u4e2dFilenameutils\u5173\u4e8e\u6587\u4ef6\u540d\u7684\u65b9\u6cd5","description":"commons-io\u4e2d Filenameutils \u7c7b\u63d0\u4f9b\u4e86\u5f88\u591a\u5173\u4e8e\u6587\u4ef6\u540d\u7684\u65b9\u6cd5\uff0c\u4f7f\u7528\u8fd9\u4e2a\u7c7b\u53ef\u4ee5\u51cf\u5c11\u4ee3\u7801\u91cf\uff0c\u63d0\u9ad8\u5de5\u4f5c\u6548\u7387\u3002","date":"2023-12-11T00:00:00.000Z","formattedDate":"2023\u5e7412\u670811\u65e5","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"io","permalink":"/blog/tags/io"},{"label":"\u6587\u4ef6","permalink":"/blog/tags/\u6587\u4ef6"}],"readingTime":0.39,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"commons-io-filenameutils","title":"commons-io\u4e2dFilenameutils\u5173\u4e8e\u6587\u4ef6\u540d\u7684\u65b9\u6cd5","date":"2023-12-11T00:00:00.000Z","authors":"yuchengee","tags":["java","io","\u6587\u4ef6"],"keywords":["java","io","\u6587\u4ef6"]},"unlisted":false,"prevItem":{"title":"\u666e\u901ajava\u9879\u76ee\u6253jar\u5305\u8fd0\u884c\u65b9\u5f0f","permalink":"/blog/java-build-run"},"nextItem":{"title":"BufferImage\u7ed8\u56fe\u65f6createGraphics\u548cgetGraphics\u7684\u533a\u522b","permalink":"/blog/java-graphics2d-get-create"}},"content":"commons-io\u4e2d Filenameutils \u7c7b\u63d0\u4f9b\u4e86\u5f88\u591a\u5173\u4e8e\u6587\u4ef6\u540d\u7684\u65b9\u6cd5\uff0c\u4f7f\u7528\u8fd9\u4e2a\u7c7b\u53ef\u4ee5\u51cf\u5c11\u4ee3\u7801\u91cf\uff0c\u63d0\u9ad8\u5de5\u4f5c\u6548\u7387\u3002\\n\x3c!--truncate--\x3e\\n\\n`String filePath = \\"/home/wd/tempData/aaa.txt\\";`\\n\\n|\u65b9\u6cd5   |\u4f5c\u7528   |\u7ed3\u679c   |\\n| ------------ | ------------ | ------------ |\\n|FilenameUtils.getFullPath(filePath)   |\u83b7\u53d6\u7236\u76ee\u5f55\uff0c\u770b\u6700\u540e\u4e00\u4e2a\u662f\u5426\u662f /   |/home/wd/tempData/   |\\n|FilenameUtils.getBaseName(filePath)   |\u83b7\u53d6\u4e0d\u5e26\u540e\u7f00\u7684\u6587\u4ef6\u540d  |aaa   |\\n|FilenameUtils.getExtension(filePath)   |\u83b7\u53d6\u6587\u4ef6\u540e\u7f00\uff0c\u6ca1\u6709\u5219\u4e3a\u7a7a  |txt   |\\n|FilenameUtils.getName(filePath)   |\u83b7\u53d6\u6587\u4ef6\u540d  |aaa.txt   |\\n\\n\u7075\u6d3b\u8fd0\u7528\u8fd9\u4e2a\u7c7b\uff0c\u53ef\u4ee5\u5c11\u5199\u5f88\u591a\u4ee3\u7801\u3002"},{"id":"java-graphics2d-get-create","metadata":{"permalink":"/blog/java-graphics2d-get-create","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2023/12-01-BufferImage\u7ed8\u56fe\u65f6createGraphics\u548cgetGraphics\u7684\u533a\u522b.md","source":"@site/blog/2023/12-01-BufferImage\u7ed8\u56fe\u65f6createGraphics\u548cgetGraphics\u7684\u533a\u522b.md","title":"BufferImage\u7ed8\u56fe\u65f6createGraphics\u548cgetGraphics\u7684\u533a\u522b","description":"\u5728 BufferImage \u4e2d\u6709\u4e24\u4e2a\u65b9\u6cd5\uff0ccreateGraphics \u548c getGraphics\uff0c\u4e00\u76f4\u4e0d\u660e\u767d\u8fd9\u4e24\u4e2a\u6709\u4ec0\u4e48\u533a\u522b\u3002","date":"2023-12-01T00:00:00.000Z","formattedDate":"2023\u5e7412\u67081\u65e5","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"image","permalink":"/blog/tags/image"}],"readingTime":0.6866666666666666,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"java-graphics2d-get-create","title":"BufferImage\u7ed8\u56fe\u65f6createGraphics\u548cgetGraphics\u7684\u533a\u522b","date":"2023-12-01T00:00:00.000Z","authors":"yuchengee","tags":["java","image"],"keywords":["java","image"]},"unlisted":false,"prevItem":{"title":"commons-io\u4e2dFilenameutils\u5173\u4e8e\u6587\u4ef6\u540d\u7684\u65b9\u6cd5","permalink":"/blog/commons-io-filenameutils"},"nextItem":{"title":"git\u62c9\u53d6\u4ee3\u7801\u5931\u8d25:Filename-too-long","permalink":"/blog/git-pull-fail"}},"content":"\u5728 BufferImage \u4e2d\u6709\u4e24\u4e2a\u65b9\u6cd5\uff0ccreateGraphics \u548c getGraphics\uff0c\u4e00\u76f4\u4e0d\u660e\u767d\u8fd9\u4e24\u4e2a\u6709\u4ec0\u4e48\u533a\u522b\u3002\\n\x3c!--truncate--\x3e\\n\\n\u7ffb\u770b\u6e90\u7801\uff0c\u53d1\u73b0 getGraphics \u65b9\u6cd5\u91cc\u9762\u8c03\u7528\u4e86 createGraphics \u65b9\u6cd5\\n```java  title=\'getGraphics\' icon=\'logos:java\'\\n/**\\n    * This method returns a {@link Graphics2D}, but is here\\n    * for backwards compatibility.  {@link #createGraphics() createGraphics} is more\\n    * convenient, since it is declared to return a\\n    * <code>Graphics2D</code>.\\n    * @return a <code>Graphics2D</code>, which can be used to draw into\\n    *          this image.\\n    */\\npublic java.awt.Graphics getGraphics() {\\n    return createGraphics();\\n}\\n```\\n\\n\u8fd9\u4e2a\u610f\u601d\u5c31\u662f\uff0cgetGraphics\u8fd4\u56de\u7684\u662f Graphics2D \u5bf9\u8c61\uff0c\u4f46\u662f\u65b9\u6cd5\u8fd4\u56de\u7c7b\u578b\u662f Graphics\uff0c\u662f\u4e3a\u4e86\u5411\u540e\u517c\u5bb9\u3002\\n\\ncreateGraphics \u65b9\u6cd5\u66f4\u65b9\u4fbf\uff0c\u8fd4\u56de\u7684\u5c31\u662f Graphics2D\u5bf9\u8c61\u3002\\n\\nGraphics2D\u7c7b\u7ee7\u627f\u4e86Graphics\uff0c\u6269\u5c55\u4e86\u5f88\u591a\u65b9\u6cd5\uff0c\u63d0\u4f9b\u5bf9\u51e0\u4f55\u56fe\u5f62\u3001\u5750\u6807\u8f6c\u6362\u3001\u989c\u8272\u7ba1\u7406\u4ee5\u53ca\u6587\u672c\u5e03\u5c40\u548c\u66f4\u590d\u6742\u7684\u63a7\u5236\u3002Graphics2D\u53ef\u4ee5\u66f4\u597d\u5730\u753b\u51fa\u60f3\u8981\u7684\u6548\u679c\u3002\\n\\n\u6240\u4ee5\u76f4\u63a5\u7528 createGraphics \u65b9\u6cd5\u3002"},{"id":"git-pull-fail","metadata":{"permalink":"/blog/git-pull-fail","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2023/11-12-git\u62c9\u53d6\u4ee3\u7801\u5931\u8d25-Filename-too-long.md","source":"@site/blog/2023/11-12-git\u62c9\u53d6\u4ee3\u7801\u5931\u8d25-Filename-too-long.md","title":"git\u62c9\u53d6\u4ee3\u7801\u5931\u8d25:Filename-too-long","description":"git pull\u62c9\u53d6\u4ee3\u7801\u65f6\uff0c\u9047\u5230\u4e00\u4e2a\u9519\u8bef\uff1a","date":"2023-11-12T00:00:00.000Z","formattedDate":"2023\u5e7411\u670812\u65e5","tags":[{"label":"git","permalink":"/blog/tags/git"}],"readingTime":0.5833333333333334,"hasTruncateMarker":false,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"git-pull-fail","title":"git\u62c9\u53d6\u4ee3\u7801\u5931\u8d25:Filename-too-long","date":"2023-11-12T00:00:00.000Z","authors":"yuchengee","tags":["git"]},"unlisted":false,"prevItem":{"title":"BufferImage\u7ed8\u56fe\u65f6createGraphics\u548cgetGraphics\u7684\u533a\u522b","permalink":"/blog/java-graphics2d-get-create"},"nextItem":{"title":"SimpleDateFormat\u662f\u5426\u7ebf\u7a0b\u5b89\u5168","permalink":"/blog/java-safe-SimpleDateFormat"}},"content":"git pull\u62c9\u53d6\u4ee3\u7801\u65f6\uff0c\u9047\u5230\u4e00\u4e2a\u9519\u8bef\uff1a\\nerror: unable to create file xxxxx/xxxx/xxxxx/xxxxxx/xxxxx/xxxx/xxx/xxx/xxxxx/xxxxx/xxxxx\uff1aFilename too long\\n\\n\u8be5\u95ee\u9898\u5c31\u662f\u4ee3\u7801\u6587\u4ef6\u4e2d\u8def\u5f84\u8fc7\u957f\uff0c\u5bfc\u81f4git\u62a5\u9519\u3002\\n\\n\u89e3\u51b3\uff1a\u53ef\u4ee5\u8bbe\u7f6egit\u652f\u6301\u957f\u8def\u5f84\\n```\\ngit config --global core.longpaths true\\n\\ngit config --list\\n```\\n\\n\u53d6\u6d88\u8bbe\u7f6e\\n```\\ngit config --global --unset core.longpaths\\n```\\n\\n:::info\\n\u5f53\u5728Windows\u7cfb\u7edf\u4e0a\u4f7f\u7528Git\u65f6\uff0c\u6587\u4ef6\u8def\u5f84\u7684\u957f\u5ea6\u901a\u5e38\u53d7\u5230260\u4e2a\u5b57\u7b26\u7684\u9650\u5236\u3002\u8fd9\u610f\u5473\u7740\u5982\u679c\u6587\u4ef6\u8def\u5f84\u8d85\u8fc7\u4e86\u8fd9\u4e2a\u9650\u5236\uff0cGit\u5c06\u65e0\u6cd5\u6b63\u5e38\u5904\u7406\u8fd9\u4e9b\u6587\u4ef6\u3002\u4f46\u662f\uff0c\u901a\u8fc7\u8fd0\u884c\\"git config --global core.longpaths true\\"\u547d\u4ee4\uff0c\u4f60\u53ef\u4ee5\u5c06\\"core.longpaths\\"\u914d\u7f6e\u9009\u9879\u8bbe\u7f6e\u4e3a\\"true\\"\uff0c\u4ece\u800c\u544a\u8bc9Git\u5141\u8bb8\u5904\u7406\u8d85\u8fc7260\u4e2a\u5b57\u7b26\u7684\u6587\u4ef6\u8def\u5f84\u3002\\n:::"},{"id":"java-safe-SimpleDateFormat","metadata":{"permalink":"/blog/java-safe-SimpleDateFormat","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2023/10-29-SimpleDateFormat\u662f\u5426\u7ebf\u7a0b\u5b89\u5168.md","source":"@site/blog/2023/10-29-SimpleDateFormat\u662f\u5426\u7ebf\u7a0b\u5b89\u5168.md","title":"SimpleDateFormat\u662f\u5426\u7ebf\u7a0b\u5b89\u5168","description":"SimpleDateFormat\u662f\u5426\u7ebf\u7a0b\u5b89\u5168\uff0c\u5de5\u5177\u7c7b\u4e2d\u63d0\u4f9b\u7684\u65f6\u95f4\u683c\u5f0f\u5316\u5de5\u5177\u7ecf\u5e38\u7528\u5230SimpleDateFormat\u6765\u683c\u5f0f\u5316Date\uff0c\u90a3\u4e48\u662f\u5426\u7ebf\u7a0b\u5b89\u5168\u3002","date":"2023-10-29T00:00:00.000Z","formattedDate":"2023\u5e7410\u670829\u65e5","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"\u65f6\u95f4\u7c7b","permalink":"/blog/tags/\u65f6\u95f4\u7c7b"},{"label":"\u7ebf\u7a0b\u5b89\u5168","permalink":"/blog/tags/\u7ebf\u7a0b\u5b89\u5168"}],"readingTime":2.7866666666666666,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"java-safe-SimpleDateFormat","title":"SimpleDateFormat\u662f\u5426\u7ebf\u7a0b\u5b89\u5168","date":"2023-10-29T00:00:00.000Z","authors":"yuchengee","tags":["java","\u65f6\u95f4\u7c7b","\u7ebf\u7a0b\u5b89\u5168"]},"unlisted":false,"prevItem":{"title":"git\u62c9\u53d6\u4ee3\u7801\u5931\u8d25:Filename-too-long","permalink":"/blog/git-pull-fail"},"nextItem":{"title":"Semaphore\u4fe1\u53f7\u91cf\u7c7b","permalink":"/blog/java-semaphore-thead"}},"content":"SimpleDateFormat\u662f\u5426\u7ebf\u7a0b\u5b89\u5168\uff0c\u5de5\u5177\u7c7b\u4e2d\u63d0\u4f9b\u7684\u65f6\u95f4\u683c\u5f0f\u5316\u5de5\u5177\u7ecf\u5e38\u7528\u5230SimpleDateFormat\u6765\u683c\u5f0f\u5316Date\uff0c\u90a3\u4e48\u662f\u5426\u7ebf\u7a0b\u5b89\u5168\u3002\\n\x3c!--truncate--\x3e\\n### \u5206\u6790\\nSimpleDateFormat\u662f\u7ebf\u7a0b\u4e0d\u5b89\u5168\u7684\uff0c\u5982\u679c\u591a\u4e2a\u7ebf\u7a0b\u4f7f\u7528\u540c\u610f\u7ed9SimpleDateFormat\u5bf9\u8c61\u53bb\u683c\u5f0f\u5316Date\uff0c\u683c\u5f0f\u5316\u65f6calendar\u8bbe\u7f6e\u65f6\u95f4\uff0c\u53ef\u80fd\u4f1a\u4e92\u76f8\u5e72\u6270\u4ece\u800c\u5f97\u5230\u4e0d\u6b63\u786e\u7684\u7ed3\u679c\u3002  \\n\\n\u67e5\u770b\u6e90\u7801\uff0c\u53d1\u73b0\u683c\u5f0f\u5316Date\u8fc7\u7a0b\u5982\u4e0b\\n```java\\n// Called from Format after creating a FieldDelegate\\nprivate StringBuffer format(Date date, StringBuffer toAppendTo,\\n                            FieldDelegate delegate) {\\n    // Convert input date to time field list\\n    calendar.setTime(date);\\n    ...\\n```\\n\u4f7f\u7528\u4e86 Calendar \u7c7b\u53d8\u91cf\u53bb\u8bbe\u7f6edate\uff0c\u518d\u53bb\u683c\u5f0f\u5316\u3002\u6240\u4ee5\u591a\u7ebf\u7a0b\u4f7f\u7528\u540c\u4e00\u4e2a\u5bf9\u8c61\u53bb\u683c\u5f0f\u5316\u80af\u5b9a\u4f1a\u51fa\u73b0\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\u3002\\n\\n### \u4ee3\u7801\u9a8c\u8bc1\\n```java\\nprivate final SimpleDateFormat simpleDateFormat = new SimpleDateFormat(\\"yyyyMMdd HHmm\\");\\n@Test\\npublic void testDateFormat() {\\n    for (int i = 0; i < 11; i++) {\\n        String no = i + \\"\\";\\n        long time = System.currentTimeMillis() - i * 1000 * 60;\\n        new Thread(() -> {\\n            String format = simpleDateFormat.format(new Date(time));\\n            System.out.println(no + \\":\\" + format);\\n        }).start();\\n    }\\n}\\n```\\n\u4f7f\u752811\u4e2a\u7ebf\u7a0b \u53bb\u6253\u5370\u8fc7\u53bb11\u5206\u949f\u7684\u65f6\u95f4\u5b57\u7b26\u4e32\uff0c\u5982\u679c\u7ebf\u7a0b\u5b89\u5168\uff0c\u5e94\u8be5\u6b63\u5e38\u6253\u5370\u6ca1\u6709\u91cd\u590d\u65f6\u95f4\u5b57\u7b26\u4e32\u3002  \\n\u771f\u5b9e\u7ed3\u679c\u5982\u4e0b\uff1a\\n```\\n10:20231029 1943\\n3:20231029 1944\\n6:20231029 1944\\n1:20231029 1944\\n5:20231029 1943\\n0:20231029 1943\\n2:20231029 1944\\n9:20231029 1943\\n8:20231029 1944\\n4:20231029 1944\\n7:20231029 1943\\n```\\n\u8bf4\u660e\u662f\u4e0d\u5b89\u5168\u7684\u3002\\n\\n### \u5982\u4f55\u5b89\u5168\u4f7f\u7528\\n\u53ef\u4ee5\u4f7f\u7528 ThreadLocal\u3002  \\n\u5bf9\u4e8e\u67d0\u4e9b\u7ebf\u7a0b\u4e0d\u5b89\u5168\u7684\u7c7b\u3001\u6216\u8005\u8d44\u6e90\uff0c\u53ef\u4ee5\u7528ThreadLocal\uff0c\u7136\u540e\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u4f1a\u4f7f\u7528\u81ea\u5df1\u7ebf\u7a0b\u526f\u672c\u4e2d\u5b58\u50a8\u7684\u5bf9\u8c61\uff0c\u4ece\u800c\u4fdd\u8bc1\u5b89\u5168\u6027\u3002\\n```java\\nprivate static final ThreadLocal<SimpleDateFormat> dateFormat = ThreadLocal.withInitial(() -> new SimpleDateFormat(\\"yyyyMMdd HHmm\\"));\\n@Test\\npublic void testExecutor() throws InterruptedException {\\n    for (int i = 0; i < 11; i++) {\\n        String no = i + \\"\\";\\n        long time = System.currentTimeMillis() - i * 1000 * 60;\\n        new Thread(() -> {\\n            SimpleDateFormat simpleDateFormat = dateFormat.get();\\n            String format = simpleDateFormat.format(new Date(time));\\n            System.out.println(no + \\":\\" + format);\\n            dd.add(simpleDateFormat);\\n            // dateFormat.remove();\\n        }).start();\\n    }\\n    Thread.sleep(3000);\\n    System.out.println();\\n}\\n```\\n\u6bcf\u4e2a\u7ebf\u7a0b\u683c\u5f0f\u5316\u65f6\uff0c\u5148\u4ece ThreadLocal \u4e2d\u83b7\u53d6\u81ea\u5df1\u7ebf\u7a0b\u7684\u683c\u5f0f\u5316\u5668\u3002\u4ece\u800c\u4f7f\u7528\u5404\u81ea\u7684\u683c\u5f0f\u5316\u5668\u53bb\u683c\u5f0f\u5316\u65f6\u95f4\u3002  \\n\u7ed3\u679c\u5982\u4e0b\uff0c\u6ca1\u6709\u91cd\u590d\uff0c\u5982\u679c\u662f\u5b89\u5168\u7684\u3002\\n```\\n1:20231029 2009\\n2:20231029 2008\\n4:20231029 2006\\n0:20231029 2010\\n5:20231029 2005\\n3:20231029 2007\\n7:20231029 2003\\n10:20231029 2000\\n6:20231029 2004\\n8:20231029 2002\\n9:20231029 2001\\n```\\n\\n\u6bcf\u4e2a\u7ebf\u7a0b\u5bf9\u5e94\u7684SimpleDateFormat\uff0c\u53ef\u4ee5\u770b\u5230\u90fd\u662f\u4e0d\u4e00\u6837\u7684\u3002\\n![\u683c\u5f0f\u5316\u5668](img/threadlocal-formats.PNG)\\n\\n### ThreadLocal \u5185\u5b58\u6cc4\u9732\u95ee\u9898\u662f\u600e\u4e48\u5bfc\u81f4\u7684\uff1f\\n`ThreadLocalMap` \u4e2d\u4f7f\u7528\u7684 key \u4e3a `ThreadLocal` \u7684\u5f31\u5f15\u7528\uff0c\u800c value \u662f\u5f3a\u5f15\u7528\u3002  \\n\u6240\u4ee5\uff0c\u5982\u679c `ThreadLocal` \u6ca1\u6709\u88ab\u5916\u90e8\u5f3a\u5f15\u7528\u7684\u60c5\u51b5\u4e0b\uff0c\u5728\u5783\u573e\u56de\u6536\u7684\u65f6\u5019\uff0ckey \u4f1a\u88ab\u6e05\u7406\u6389\uff0c\u800c value \u4e0d\u4f1a\u88ab\u6e05\u7406\u6389\u3002\\n\u8fd9\u6837\u4e00\u6765\uff0c`ThreadLocalMap` \u4e2d\u5c31\u4f1a\u51fa\u73b0 key \u4e3a null \u7684 Entry\u3002  \\n\u5047\u5982\u6211\u4eec\u4e0d\u505a\u4efb\u4f55\u63aa\u65bd\u7684\u8bdd\uff0cvalue \u6c38\u8fdc\u65e0\u6cd5\u88ab GC \u56de\u6536\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u53ef\u80fd\u4f1a\u4ea7\u751f\u5185\u5b58\u6cc4\u9732\u3002\\n\\n\u5f53\u4e00\u4e2a\u7ebf\u7a0b\u7ed3\u675f\u540e\uff0c\u5982\u679c\u6ca1\u6709\u624b\u52a8\u6e05\u7406 ThreadLocal \u5bf9\u8c61\u4e2d\u7684\u503c\uff0c\u90a3\u4e48\u8fd9\u4e9b\u503c\u5c31\u4f1a\u53d8\u6210\u5783\u573e\u6570\u636e\u3002\u7136\u800c\uff0c\u7531\u4e8e ThreadLocal \u5bf9\u8c61\u662f\u88ab\u7ebf\u7a0b\u6301\u6709\u7684\uff0c\u800c\u7ebf\u7a0b\u4e00\u822c\u662f\u7531\u7ebf\u7a0b\u6c60\u6216\u8005\u5176\u4ed6\u957f\u751f\u547d\u5468\u671f\u7684\u5bf9\u8c61\u7ba1\u7406\u7684\uff0c\u56e0\u6b64 ThreadLocal \u5bf9\u8c61\u4e5f\u4f1a\u88ab\u4e00\u76f4\u6301\u6709\uff0c\u4ece\u800c\u5bfc\u81f4\u5185\u5b58\u6cc4\u9732\u3002  \\n\u4e3a\u4e86\u89e3\u51b3 ThreadLocal \u5185\u5b58\u6cc4\u9732\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u4f7f\u7528\u5b8c ThreadLocal \u540e **\u624b\u52a8\u8c03\u7528 remove() \u65b9\u6cd5** \u6765\u6e05\u7406\u7ebf\u7a0b\u5c40\u90e8\u53d8\u91cf\u3002\u8fd9\u6837\u53ef\u4ee5\u786e\u4fdd\u5728\u7ebf\u7a0b\u7ed3\u675f\u540e\u53ca\u65f6\u6e05\u7406\u6389 ThreadLocal \u5bf9\u8c61\u4e2d\u7684\u503c\uff0c\u907f\u514d\u5185\u5b58\u6cc4\u9732\u7684\u53d1\u751f\u3002"},{"id":"java-semaphore-thead","metadata":{"permalink":"/blog/java-semaphore-thead","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2023/10-23-Semaphore\u4fe1\u53f7\u91cf\u7c7b.md","source":"@site/blog/2023/10-23-Semaphore\u4fe1\u53f7\u91cf\u7c7b.md","title":"Semaphore\u4fe1\u53f7\u91cf\u7c7b","description":"synchronized \u548c ReentrantLock \u90fd\u662f\u4e00\u6b21\u53ea\u5141\u8bb8\u4e00\u4e2a\u7ebf\u7a0b\u8bbf\u95ee\u67d0\u4e2a\u8d44\u6e90\uff0c\u800cSemaphore(\u4fe1\u53f7\u91cf)\u53ef\u4ee5\u7528\u6765\u63a7\u5236\u540c\u65f6\u8bbf\u95ee\u7279\u5b9a\u8d44\u6e90\u7684\u7ebf\u7a0b\u6570\u91cf\u3002","date":"2023-10-23T00:00:00.000Z","formattedDate":"2023\u5e7410\u670823\u65e5","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"semaphore","permalink":"/blog/tags/semaphore"},{"label":"\u9ad8\u5e76\u53d1","permalink":"/blog/tags/\u9ad8\u5e76\u53d1"}],"readingTime":1.3833333333333333,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"java-semaphore-thead","title":"Semaphore\u4fe1\u53f7\u91cf\u7c7b","date":"2023-10-23T00:00:00.000Z","authors":"yuchengee","tags":["java","semaphore","\u9ad8\u5e76\u53d1"]},"unlisted":false,"prevItem":{"title":"SimpleDateFormat\u662f\u5426\u7ebf\u7a0b\u5b89\u5168","permalink":"/blog/java-safe-SimpleDateFormat"},"nextItem":{"title":"Java\u4fee\u6539\u56fe\u7247\u900f\u660e\u5ea6","permalink":"/blog/java-image-transparent"}},"content":"`synchronized` \u548c `ReentrantLock` \u90fd\u662f\u4e00\u6b21\u53ea\u5141\u8bb8\u4e00\u4e2a\u7ebf\u7a0b\u8bbf\u95ee\u67d0\u4e2a\u8d44\u6e90\uff0c\u800c`Semaphore`(\u4fe1\u53f7\u91cf)\u53ef\u4ee5\u7528\u6765\u63a7\u5236\u540c\u65f6\u8bbf\u95ee\u7279\u5b9a\u8d44\u6e90\u7684\u7ebf\u7a0b\u6570\u91cf\u3002  \\n\u539f\u7406\u662fAQS\\n\x3c!--truncate--\x3e\\n### \u573a\u666f\\n1. \u9650\u6d41\uff0c\u9650\u5236\u5bf9\u67d0\u4e00\u8d44\u6e90\u7684\u5e76\u53d1\u8bbf\u95ee\u91cf\uff0c\u5982\u6570\u636e\u5e93\uff0c\u7ebf\u7a0b\u6c60\u7b49\u3002\\n2. \u591a\u7ebf\u7a0b\u534f\u8c03\uff0c\u5982\u5728\u751f\u4ea7\u8005-\u6d88\u8d39\u8005\u6a21\u578b\u4e2d\uff0c\u63a7\u5236\u7f13\u51b2\u533a\u7684\u8bbf\u95ee\uff0c\u786e\u4fdd\u751f\u4ea7\u8005\u548c\u6d88\u8d39\u8005\u4e4b\u95f4\u7684\u540c\u6b65\u3002\\n3. \u4efb\u52a1\u534f\u8c03\uff0c \u4f8b\u5982\u9650\u5236\u540c\u65f6\u6267\u884c\u4efb\u52a1\u6570\u91cf\uff0c\u6216\u8005\u5728\u7279\u5b9a\u6761\u4ef6\u4e0b\u6682\u505c\u4efb\u52a1\u7684\u6267\u884c\u3002\\n4. \u4fe1\u53f7\u901a\u77e5\u673a\u5236\uff0c\u7528\u6765\u901a\u77e5\u7b49\u5f85\u67d0\u79cd\u6761\u4ef6\u7684\u7ebf\u7a0b\u53ef\u4ee5\u7ee7\u7eed\u6267\u884c\u3002\\n\\n### \u6a21\u5f0f\\n- **\u516c\u5e73\u6a21\u5f0f\uff1a** \u8c03\u7528 `acquire()` \u65b9\u6cd5\u7684\u987a\u5e8f\u5c31\u662f\u83b7\u53d6\u8bb8\u53ef\u8bc1\u7684\u987a\u5e8f\uff0c\u9075\u5faa FIFO\uff1b\\n- **\u975e\u516c\u5e73\u6a21\u5f0f\uff1a** \u62a2\u5360\u5f0f\u7684\u3002\\n\\n### \u7528\u6cd5  \\n`Semaphore` \u901a\u5e38\u7528\u4e8e\u90a3\u4e9b\u8d44\u6e90\u6709\u660e\u786e\u8bbf\u95ee\u6570\u91cf\u9650\u5236\u7684\u573a\u666f\u6bd4\u5982\u9650\u6d41\uff08\u4ec5\u9650\u4e8e\u5355\u673a\u6a21\u5f0f\uff0c\u5b9e\u9645\u9879\u76ee\u4e2d\u63a8\u8350\u4f7f\u7528 Redis +Lua \u6765\u505a\u9650\u6d41\uff09\\n```java\\npublic class SemaphoreTest {\\n    public static void main(String[] args) {\\n        /*\\n        // \u521d\u59cb\u5171\u4eab\u8d44\u6e90\u6570\u91cf\uff0c\u540c\u4e00\u65f6\u523b N \u4e2a\u7ebf\u7a0b\u4e2d\u53ea\u6709 5 \u4e2a\u7ebf\u7a0b\u80fd\u83b7\u53d6\u5230\u5171\u4eab\u8d44\u6e90\uff0c\u5176\u4ed6\u7ebf\u7a0b\u90fd\u4f1a\u963b\u585e\\n        final Semaphore semaphore = new Semaphore(5);\\n        // \u83b7\u53d61\u4e2a\u8bb8\u53ef\\n        semaphore.acquire();\\n        // \u91ca\u653e1\u4e2a\u8bb8\u53ef\\n        semaphore.release();\\n         */\\n        long l = System.currentTimeMillis();\\n        final Semaphore semaphore = new Semaphore(5);\\n        for (int i = 0; i < 10; i++) {\\n            String no = String.valueOf(i);\\n            new Thread(() -> {\\n                try {\\n                    semaphore.acquire();\\n                    Thread.sleep(1000);\\n                    System.out.println(no + \\":\\" + (System.currentTimeMillis() - l));\\n                } catch (InterruptedException e) {\\n                    e.printStackTrace();\\n                } finally {\\n                    semaphore.release();\\n                }\\n            }).start();\\n        }\\n\\n\\n    }\\n}\\n\\n6:1039\\n4:1039\\n0:1039\\n3:1039\\n1:1039\\n9:2039\\n7:2039\\n2:2039\\n8:2039\\n5:2039\\n\\n\u7ed3\u679c\u8bf4\u660e\uff0c\u6bcf\u6b21\u6700\u591a5\u4e2a\u7ebf\u7a0b\u4e00\u8d77\u6267\u884c\\n```"},{"id":"java-image-transparent","metadata":{"permalink":"/blog/java-image-transparent","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2023/10-11-Java\u4fee\u6539\u56fe\u7247\u900f\u660e\u5ea6.md","source":"@site/blog/2023/10-11-Java\u4fee\u6539\u56fe\u7247\u900f\u660e\u5ea6.md","title":"Java\u4fee\u6539\u56fe\u7247\u900f\u660e\u5ea6","description":"java\u4fee\u6539\u56fe\u7247\u7684\u900f\u660e\u5ea6","date":"2023-10-11T00:00:00.000Z","formattedDate":"2023\u5e7410\u670811\u65e5","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"image","permalink":"/blog/tags/image"},{"label":"\u56fe\u7247\u5904\u7406","permalink":"/blog/tags/\u56fe\u7247\u5904\u7406"}],"readingTime":0.37,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"java-image-transparent","title":"Java\u4fee\u6539\u56fe\u7247\u900f\u660e\u5ea6","date":"2023-10-11T00:00:00.000Z","authors":"yuchengee","tags":["java","image","\u56fe\u7247\u5904\u7406"]},"unlisted":false,"prevItem":{"title":"Semaphore\u4fe1\u53f7\u91cf\u7c7b","permalink":"/blog/java-semaphore-thead"},"nextItem":{"title":"\u771f\u5f3a!ChatGPT\u514d\u8d39\u4f7f\u7528","permalink":"/blog/gpt-ai-free"}},"content":"java\u4fee\u6539\u56fe\u7247\u7684\u900f\u660e\u5ea6\\n\x3c!--truncate--\x3e\\n\u6709\u65f6\u5019\u9700\u8981\u4fee\u6539\u56fe\u7247\u7684\u900f\u660e\u5ea6\uff0c\u7136\u540e\u8d34\u5230\u5176\u4ed6\u5730\u65b9\uff0c\u4ece\u800c\u4e0d\u906e\u6321\u539f\u672c\u7684\u5143\u7d20\u3002\\n\\n\u4ee3\u7801\u5982\u4e0b\\n```java\\npublic static BufferedImage transparent(BufferedImage source) {\\n    BufferedImage img = new BufferedImage(source.getWidth(), source.getHeight(), BufferedImage.TYPE_INT_ARGB);\\n    Graphics2D graphics = img.createGraphics();\\n    // \u8bbe\u7f6e\u900f\u660e\u5ea6\\n    graphics.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_OVER, 0.6f));\\n    graphics.drawImage(source, null, 0, 0);\\n    graphics.dispose();\\n    return img;\\n}\\n\\n@Test\\npublic void testImage() throws Exception {\\n    BufferedImage read = ImageIO.read(new File(\\"D:\\\\\\\\chatgpt.png\\"));\\n    BufferedImage transparent = transparent(read);\\n    ImageIO.write(transparent, \\"png\\",new File(\\"D:\\\\\\\\chatgpt1.png\\"));\\n}\\n```\\n\\n\u6548\u679c-\u539f\u56fe\\n![\u6e90](img/chatgpt_1.png)\\n\\n\u4fee\u6539\u540e\\n![\u6e90](img/chatgpt1.png)"},{"id":"gpt-ai-free","metadata":{"permalink":"/blog/gpt-ai-free","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2023/09-25-\u771f\u5f3a-GPT\u514d\u8d39\u4f7f\u7528.md","source":"@site/blog/2023/09-25-\u771f\u5f3a-GPT\u514d\u8d39\u4f7f\u7528.md","title":"\u771f\u5f3a!ChatGPT\u514d\u8d39\u4f7f\u7528","description":"\u5173\u4e8e GPT \u7684\u57fa\u672c\u9762\u4ecb\u7ecd\uff0c\u4ee5\u53ca\u600e\u4e48\u6ce8\u518c\uff0c\u8fd9\u4e9b\u641c\u7d22\u5f15\u64ce\u4e00\u641c\u4e00\u5927\u628a\u7684\u4e1c\u897f\uff0c\u8fd9\u91cc\u4e0d\u6d6a\u8d39\u8fc7\u591a\u53e3\u820c\u3002","date":"2023-09-25T00:00:00.000Z","formattedDate":"2023\u5e749\u670825\u65e5","tags":[{"label":"\u4eba\u5de5\u667a\u80fd","permalink":"/blog/tags/\u4eba\u5de5\u667a\u80fd"},{"label":"chatgpt","permalink":"/blog/tags/chatgpt"},{"label":"ai","permalink":"/blog/tags/ai"},{"label":"\u514d\u8d39\u5206\u4eab","permalink":"/blog/tags/\u514d\u8d39\u5206\u4eab"}],"readingTime":3.5366666666666666,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"gpt-ai-free","title":"\u771f\u5f3a!ChatGPT\u514d\u8d39\u4f7f\u7528","date":"2023-09-25T00:00:00.000Z","authors":"yuchengee","tags":["\u4eba\u5de5\u667a\u80fd","chatgpt","ai","\u514d\u8d39\u5206\u4eab"]},"unlisted":false,"prevItem":{"title":"Java\u4fee\u6539\u56fe\u7247\u900f\u660e\u5ea6","permalink":"/blog/java-image-transparent"},"nextItem":{"title":"Gis\u5f00\u53d1\u4e2d\u7ecf\u7eac\u5ea6\u8f6c\u6362","permalink":"/blog/gis-lonlat-transform"}},"content":"\u5173\u4e8e GPT \u7684\u57fa\u672c\u9762\u4ecb\u7ecd\uff0c\u4ee5\u53ca\u600e\u4e48\u6ce8\u518c\uff0c\u8fd9\u4e9b\u641c\u7d22\u5f15\u64ce\u4e00\u641c\u4e00\u5927\u628a\u7684\u4e1c\u897f\uff0c\u8fd9\u91cc\u4e0d\u6d6a\u8d39\u8fc7\u591a\u53e3\u820c\u3002\\n![chatgpt](img/chatgpt.png)\\n\\n\u6587\u672b\u4f1a\u6709\u56fd\u5185\u514d\u8d39\u4f7f\u7528\u7684chatgpt\u5206\u4eab\uff0c\u8bf7\u6ce8\u610f\u67e5\u770b!\\n\x3c!--truncate--\x3e\\n### \u5e94\u7528\u9886\u57df\\n- \u5bf9\u8bdd\u804a\u5929\uff1a\u4f5c\u4e3a\u4e00\u4e2a\u57fa\u4e8e\u81ea\u7136\u8bed\u8a00\u5904\u7406\u7684\u6a21\u578b\uff0cChatGPT\u53ef\u4ee5\u4e0e\u7528\u6237\u8fdb\u884c\u6d41\u7545\u3001\u81ea\u7136\u7684\u5bf9\u8bdd\uff0c\u63d0\u4f9b\u5b9e\u65f6\u7684\u667a\u80fd\u95ee\u7b54\u529f\u80fd\u3002\u8fd9\u79cd\u5e94\u7528\u5728\u5ba2\u6237\u670d\u52a1\u3001\u667a\u80fd\u52a9\u624b\u548c\u804a\u5929\u673a\u5668\u4eba\u7b49\u9886\u57df\u5177\u6709\u5f88\u9ad8\u7684\u4ef7\u503c\u3002ChatGPT\u53ef\u4ee5\u4f5c\u4e3a\u667a\u80fd\u5ba2\u670d\u52a9\u624b\uff0c\u5904\u7406\u7528\u6237\u54a8\u8be2\u548c\u95ee\u9898\uff0c\u63d0\u4f9b\u5b9e\u65f6\u3001\u51c6\u786e\u7684\u56de\u7b54\u3002\u5b83\u53ef\u4ee5\u964d\u4f4e\u4eba\u5de5\u5ba2\u670d\u7684\u8d1f\u62c5\uff0c\u63d0\u9ad8\u5ba2\u6237\u6ee1\u610f\u5ea6\u3002\\n- \u7f16\u5199\u6587\u7ae0\uff1aChatGPT\u5177\u5907\u5f3a\u5927\u7684\u6587\u672c\u751f\u6210\u80fd\u529b\uff0c\u53ef\u4ee5\u6839\u636e\u7ed9\u5b9a\u7684\u4e3b\u9898\u3001\u5173\u952e\u8bcd\u6216\u5f00\u5934\uff0c\u81ea\u52a8\u751f\u6210\u7ed3\u6784\u5408\u7406\u3001\u5185\u5bb9\u4e30\u5bcc\u7684\u6587\u7ae0\u3002\u8fd9\u4e00\u529f\u80fd\u53ef\u5e7f\u6cdb\u5e94\u7528\u4e8e\u65b0\u95fb\u64b0\u5199\u3001\u535a\u5ba2\u521b\u4f5c\u3001\u8425\u9500\u5ba3\u4f20\u7b49\u5185\u5bb9\u521b\u4f5c\u9886\u57df\u3002\\n- \u8bed\u8a00\u7ffb\u8bd1\uff1aChatGPT\u53ef\u4ee5\u8fdb\u884c\u8bed\u8a00\u4e4b\u95f4\u7684\u7ffb\u8bd1\u5de5\u4f5c\uff0c\u5e2e\u52a9\u4eba\u4eec\u6d88\u9664\u8bed\u8a00\u969c\u788d\uff0c\u4fc3\u8fdb\u8de8\u6587\u5316\u4ea4\u6d41\u3002\\n- \u7f16\u7a0b\u5e2e\u52a9\uff1aChatGPT\u53ef\u4ee5\u7406\u89e3\u548c\u751f\u6210\u7f16\u7a0b\u8bed\u8a00\uff0c\u4e3a\u7a0b\u5e8f\u5458\u63d0\u4f9b\u5b9e\u65f6\u7684\u7f16\u7a0b\u5e2e\u52a9\u3002\u4f8b\u5982\uff0c\u5b83\u53ef\u4ee5\u89e3\u7b54\u4ee3\u7801\u76f8\u5173\u7684\u95ee\u9898\u3001\u63d0\u4f9b\u4ee3\u7801\u793a\u4f8b\uff0c\u751a\u81f3\u5e2e\u52a9\u68c0\u67e5\u548c\u8c03\u8bd5\u7a0b\u5e8f\u3002\\n\\n\u8fd9\u4e9b\u4ec5\u4ec5\u662fChatGPT\u4e3b\u8981\u7528\u9014\u7684\u5f88\u5c11\u4e00\u90e8\u5206\uff0c\u968f\u7740\u6280\u672f\u7684\u4e0d\u65ad\u8fdb\u6b65\uff0c\u5b83\u5728\u672a\u6765\u8fd8\u53ef\u80fd\u62d3\u5c55\u81f3\u66f4\u591a\u9886\u57df\u548c\u573a\u666f\u3002\\n\\n### \u5982\u4f55\u4f7f\u7528\\n\u5f88\u591a\u4eba\u62ff\u5230 GPT \u540e\u7684\u7b2c\u4e00\u4e2a\u611f\u89c9\u5c31\u662f\uff1a**\u6587\u4e0d\u5bf9\u9898**\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4f60\u7ecf\u5e38\u4f1a\u611f\u89c9\u5230 ChatGPT \u56de\u7b54\u7684\u597d\u7a7a\uff0c\u6ca1\u6709\u592a\u591a\u53c2\u8003\u4ef7\u503c......\\n\\n\u4e8b\u5b9e\u4e0a\uff0cGPT \u51e0\u4e4e\u53ef\u4ee5\u80dc\u4efb\u5de5\u4f5c\u548c\u5b66\u4e60\u4e0a\u7684\u5927\u90e8\u5206\u95ee\u9898\uff0c\u5927\u5e45\u5ea6\u63d0\u9ad8\u4f7f\u7528\u8005\u7684\u5de5\u4f5c\u548c\u5b66\u4e60\u6548\u7387\u3002\\n\\n\u53d8\u6210\u4e86\u4e00\u4e2a\u79c1\u4eba\u52a9\u7406\uff0c\u6e17\u900f\u4e86\u5de5\u4f5c\u3001\u5b66\u4e60\u3001\u751f\u6d3b\u7684\u65b9\u65b9\u9762\u9762....\\n\\n\u5176\u5b9e\u6574\u4e2aAI\u4f7f\u7528\u7684\u6838\u5fc3\u5fc3\u6cd5\uff0c\u7528\u4e00\u53e5\u8bdd\u5c31\u53ef\u4ee5\u6982\u62ec\u4e86\uff1a\\n\\n**GPT \u751f\u6210\u7684\u7b54\u6848\u8d28\u91cf\uff0c\u5b8c\u5168\u53d6\u51b3\u4e8e\u4f60\u300e\u95ee\u5b83\u300f\uff0c\u4ee5\u53ca\u300e\u5f15\u5bfc\u5b83\u300f\u7684\u65b9\u5f0f\uff0c\u5982\u679c\u4f60\u80fd\u95ee\u5f97\u597d\uff0c\u5f15\u5bfc\u7684\u597d\uff0c\u90a3\u4e48\u5b83\u5c31\u4f1a\u5e2e\u4f60\u751f\u6210\u8ba9\u4f60\u60ca\u559c\u7684\u7b54\u6848\uff0c\u53cd\u4e4b\u5219\u65e0\u4ef7\u503c\uff0c\u5047\u5927\u7a7a\u3002**\\n\\n\u5982\u679c\u4f60\u7ed9AI\u7684\u63d0\u793a\u8bcd\u8d28\u91cf\u4e0d\u597d\uff0c\u6216\u8005\u4e0d\u5230\u4f4d\uff0c\u90a3\u4e48 AI \u7ed9\u5230\u4f60\u7684\uff0c\u5f80\u5f80\u5c31\u662f\u90a3\u79cd \u201c\u50cf\u662f\u4e00\u5806\u6b63\u786e\u7684\u5e9f\u8bdd\u5806\u79ef\u800c\u6210\u201d \u7684\u6587\u5b57\u5783\u573e\u3002\\n\\n**\u8be5\u5982\u4f55\u5199\u51fa\u9ad8\u8d28\u91cf\u7684\u63d0\u793a\u8bcd\u5462\uff1f**\\n![\u63d0\u793a\u8bcd\u6a21\u677f](img/gpt-quo.png)\\n\u4e00\u4e2a\u597d\u7684\u63d0\u793a\u8bcd\u662f\u7531\uff1a**\u7acb\u89d2\u8272** + **\u8ff0\u95ee\u9898** + **\u5b9a\u76ee\u6807** + **\u8865\u8981\u6c42**\uff0c\u8fd9\u56db\u90e8\u5206\u6784\u6210\u7684\uff01\uff01\\n1. **\u7acb\u89d2\u8272** \uff1a\u5f15\u5bfcAI\u8fdb\u5165\u5177\u4f53\u573a\u666f\uff0c\u4e3a AI \u8d4b\u4e88\u884c\u5bb6\u8eab\u4efd\u3002\\n2. **\u8ff0\u95ee\u9898** \uff1a\u544a\u8bc9AI\u4f60\u7684\u56f0\u60d1\uff0c\u4f60\u7684\u95ee\u9898\uff0c\u4ee5\u53ca\u4e3aAI\u8865\u5145\u95ee\u9898\u6240\u9700\u8981\u7684\u80cc\u666f\u4fe1\u606f\u3002\\n3. **\u5b9a\u76ee\u6807**\uff1a\u544a\u8bc9AI\u4f60\u7684\u9700\u6c42\uff0c\u4f60\u5e0c\u671b\u5b83\u4e3a\u4f60\u505a\u5230\u4ec0\u4e48\u3002\\n4. **\u8865\u8981\u6c42**\uff1a\u544a\u8bc9AI\uff0c\u5b83\u7684\u56de\u7b54\u9700\u8981\u6ce8\u610f\u4ec0\u4e48\uff0c\u6216\u8005\u4f60\u60f3\u8ba9\u5b83\u4ee5\u4ec0\u4e48\u5f62\u5f0f\u6765\u56de\u590d\u4f60\u3002\\n\\n\u4f8b\u5982\uff1a\u5047\u5982\u4f60\u662f\u4e00\u4e2a\u5bfc\u6e38\uff0c\u73b0\u5728\u6211\u8981\u5230\u4e0a\u6d77\u65c5\u6e38\uff0c\u9884\u7b97\u4e00\u4e07\u5143\uff0c\u65c5\u884c\u4eba\u6570\u662f2\u4e2a\u4eba\uff0c\u884c\u7a0b\u662f7\u5929\uff0c\u8bf7\u5e2e\u6211\u505a\u4e00\u4efd\u65c5\u884c\u653b\u7565\u3002 \\n\u8bf7\u6ce8\u610f\uff0c\u6211\u4e0d\u559c\u6b22\u884c\u7a0b\u592a\u7d27\u51d1\uff0c\u4e0d\u559c\u6b22\u7f51\u7ea2\u7ecf\u5178\uff0c\u66f4\u559c\u6b22\u6709\u6587\u5316\u5e95\u8574\u7684\u7ecf\u5178\uff0c\u53e6\u5916\uff0c\u63a8\u8350\u7ecf\u5178\u8bf7\u9644\u4e0a\u5404\u4e2a\u666f\u70b9\u7684\u4ef7\u683c\u3002\\n![\u56de\u7b541](img/gpt1.PNG)\\n\\n\u52a0\u89d2\u8272\u548c\u6ca1\u52a0\u89d2\u8272\uff0cGPT\u7684\u7b54\u6848\u5dee\u5f02\u975e\u5e38\u5927\u3002\\n\\n\u90a3\u4e48\u8fd8\u6709\u54ea\u4e9b\u65b9\u5f0f\u53ef\u4ee5\u7ed9 GPT \u52a0\u4e0a\u8fd9\u4e2a Buff \u5462\uff1f  \\n\u4ee5\u4e0b\u8fd9\u51e0\u4e2a\u63d0\u793a\u8bcd\u90fd\u53ef\u4ee5~\\n> \u4f60\u73b0\u5728\u662f[xx]  \\n\u8bf7\u4f60\u626e\u6f14[XX]  \\n\u5047\u5982\u4f60\u662f [XX]  \\n\u8bf7\u4f60\u4ee5 [XX] \u7684\u89d2\u5ea6/\u8eab\u4efd/\u8bed\u6c14.....\\n\\n### \u6700\u540e\u5bc4\u8bed\\n\u6700\u540e\uff0c\u5206\u4eab\u4e00\u4e2a\u56fd\u5185\u53ef\u4ee5\u514d\u8d39\u4f7f\u7528\u7684 GPT , [\u5730\u5740](/gpt \\"\u5730\u5740\\")  \\n\u53e6\u5916\uff0c\u8be5\u5730\u5740\u4e0d\u7a33\u5b9a\u52ff\u5206\u4eab\uff0c\u81ea\u5df1\u4f7f\u7528\u5373\u53ef\u3002  \\n\u5982\u679c\u8be5\u5730\u5740\u5931\u6548\uff0c\u53ef\u4ee5\u5173\u6ce8wxh\uff0c\u7136\u540e\u56de\u590dGPT\u83b7\u53d6\u6700\u65b0\u5730\u5740\u3002\\n\\n\u6b22\u8fce\u5173\u6ce8\uff0c\u4e0d\u5b9a\u671f\u66f4\u65b0\u65b0\u7684\u77e5\u8bc6\u548c\u8d44\u6e90\u3002\\n![\u516c\u4f17\u53f7\u4e8c\u7ef4\u7801](/img/qrcode_YUGXZS.jpg)\\n\\n\u611f\u8c22\u60a8\u7684\u652f\u6301\uff01\uff01"},{"id":"gis-lonlat-transform","metadata":{"permalink":"/blog/gis-lonlat-transform","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2023/09-13-Gis\u5f00\u53d1\u4e2d\u7ecf\u7eac\u5ea6\u8f6c\u6362.md","source":"@site/blog/2023/09-13-Gis\u5f00\u53d1\u4e2d\u7ecf\u7eac\u5ea6\u8f6c\u6362.md","title":"Gis\u5f00\u53d1\u4e2d\u7ecf\u7eac\u5ea6\u8f6c\u6362","description":"\u5728gis\u5f00\u53d1\u4e2d\u5e38\u7528\u7684\u5750\u6807\u7cfb\u662f4326\u5750\u6807\u7cfb\u548c\u8499\u5361\u6258\u5750\u6807\u7cfb(3857)\u3002","date":"2023-09-13T00:00:00.000Z","formattedDate":"2023\u5e749\u670813\u65e5","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"geotools","permalink":"/blog/tags/geotools"},{"label":"\u5730\u7406","permalink":"/blog/tags/\u5730\u7406"},{"label":"\u5730\u56fe\u76f8\u5173","permalink":"/blog/tags/\u5730\u56fe\u76f8\u5173"}],"readingTime":1.8066666666666666,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"gis-lonlat-transform","title":"Gis\u5f00\u53d1\u4e2d\u7ecf\u7eac\u5ea6\u8f6c\u6362","date":"2023-09-13T00:00:00.000Z","authors":"yuchengee","tags":["java","geotools","\u5730\u7406","\u5730\u56fe\u76f8\u5173"]},"unlisted":false,"prevItem":{"title":"\u771f\u5f3a!ChatGPT\u514d\u8d39\u4f7f\u7528","permalink":"/blog/gpt-ai-free"},"nextItem":{"title":"\u514d\u8d39\u8d44\u6e90","permalink":"/blog/weixin-source-free"}},"content":"\u5728gis\u5f00\u53d1\u4e2d\u5e38\u7528\u7684\u5750\u6807\u7cfb\u662f4326\u5750\u6807\u7cfb\u548c\u8499\u5361\u6258\u5750\u6807\u7cfb(3857)\u3002\\n\\n\\n\u672c\u6587\u8bb0\u5f55\u5e38\u7528\u5750\u6807\u7684\u8f6c\u6362\u65b9\u6cd5\u3002\\n\x3c!--truncate--\x3e\\n### 4326\u5750\u6807\u8f6c\u8499\u5361\u6258\u5750\u6807(3857)\\n\u4e00\u4e9b\u5e38\u91cf\\n```java\\n    private static final int TILE_WIDTH = 256;\\n    private static final double OFFSET = 20037508.3427892;\\n    private static final double[] resolutions = new double[18];\\n    static {\\n        resolutions[0] = 78271.516953125;// \u9ad8\u5fb7\u8c37\u6b4c\u7b2c1\u7ea7\\n        for (int i = 1; i < 18; i++) {\\n            resolutions[i] = resolutions[i - 1] / 2;\\n        }\\n    }\\n```\\n\\n\\n\u7b2c\u4e00\u79cd\u8f6c\u6362\u65b9\u6cd5\uff0cjava\u76f4\u63a5\u8ba1\u7b97\\n```java\\npublic static double[] lonlat2Mercator(double lon, double lat) {\\n    double x = lon * OFFSET / 180;\\n    double y = Math.log(Math.tan((90 + lat) * Math.PI / 360)) / (Math.PI / 180);\\n    y = y * OFFSET / 180;\\n    return new double[] {x, y};\\n}\\n```\\n\\n\\n  \\n\u7b2c\u4e8c\u79cd\uff0c\u501f\u52a9geotools\uff0c\u53ef\u4ee5\u4efb\u610f\u8f6c\u6362\u30024326->3857\u4e5f\u53ef\u4ee53857->4326\\n```java\\npublic static Coordinate lonlat2Mercator1(double lon, double lat) throws FactoryException, TransformException {\\n    MathTransform TRANS_4326_TO_3857 = CRS.findMathTransform(CRS.decode(\\"EPSG:4326\\", true), CRS.decode(\\"EPSG:3857\\", true));\\n    Coordinate coordinate = new Coordinate(lon, lat);\\n    return JTS.transform(coordinate, coordinate, TRANS_4326_TO_3857);\\n}\\n```\\n\\n\\n### \u8ba1\u7b974326\u5750\u6807\u7684\u74e6\u7247\u5750\u6807\u548c\u74e6\u7247\u5185\u50cf\u7d20\u5750\u6807\\n\u8ba1\u7b97\u74e6\u7247\u5750\u6807\\n```java\\npublic static int[] getTile(double lon, double lat, int level) {\\n    double mercaX = lon * OFFSET / 180;\\n    double mercaY = Math.log(Math.tan((90 + lat) * Math.PI / 360)) / (Math.PI / 180);\\n    mercaY = mercaY * OFFSET / 180;\\n    int x = (int) ((mercaX + OFFSET) / (resolutions[level] * TILE_WIDTH));\\n    int y = (int) ((OFFSET - mercaY) / (resolutions[level] * TILE_WIDTH));\\n    return new int[]{x, y, level};\\n}\\n```\\n\\n  \\n\u8ba1\u7b97\u74e6\u7247\u8303\u56f4(\u8499\u5361\u6258\u5750\u6807)\\n```java\\npublic static double[] getTileBound(int x, int y, int level) {\\n    double minMercaX = x * resolutions[level] * TILE_WIDTH - OFFSET;\\n    double maxMercaY = OFFSET - y * resolutions[level] * TILE_WIDTH;\\n    double minMercaY = maxMercaY - TILE_WIDTH * resolutions[level];\\n    double maxMercaX = minMercaX + TILE_WIDTH * resolutions[level];\\n    return new double[]{minMercaX, minMercaY, maxMercaX, maxMercaY};\\n}\\n```\\n\\n\u8ba1\u7b97\u5750\u6807\u5728\u74e6\u7247\u5185\u7684\u50cf\u7d20\u5750\u6807\\n```java\\npublic static int[] lonlat2Pixel(double lon, double lat, double[] bound){\\n    double minX = bound[0];\\n    double maxX = bound[2];\\n    double minY = bound[1];\\n    double maxY = bound[3];\\n    double pixW = ((maxX - minX) * 3600) / TILE_WIDTH;\\n    double pixH = ((maxY - minY) * 3600) / TILE_WIDTH;\\n\\n    double merLon = lon * OFFSET / 180;\\n    double merLat = Math.log(Math.tan((90 + lat) * Math.PI / 360)) / (Math.PI / 180);\\n    merLat = merLat * OFFSET / 180;\\n    return new int[]{(int) (((merLon - minX) * 3600) / pixW), (int) (((maxY - merLat) * 3600) / pixH)};\\n}\\n```\\n\\n\u4f7f\u7528\u65b9\u5f0f\\n```java\\npublic static void main(String[] args) {\\n    double lon = 112.33;\\n    double lat = 29.56;\\n    // \u8ba1\u7b97\u74e6\u7247\u5750\u6807\\n    int[] tile = getTile(lon, lat, 8);\\n    // \u8ba1\u7b97\u74e6\u7247\u8303\u56f4\\n    double[] bound = getTileBound(tile[0], tile[1], tile[2]);\\n    // \u8ba1\u7b97\u50cf\u7d20\u5750\u6807\\n    int[] point = lonlat2Pixel(lon, lat, bound);\\n    System.out.println();\\n}\\n```"},{"id":"weixin-source-free","metadata":{"permalink":"/blog/weixin-source-free","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2023/09-01-\u514d\u8d39\u8d44\u6e90.md","source":"@site/blog/2023/09-01-\u514d\u8d39\u8d44\u6e90.md","title":"\u514d\u8d39\u8d44\u6e90","description":"\u6536\u96c6\u4e86\u8bb8\u591a\u8d44\u6e90\uff0c\u5982\u5404\u7c7b\u6559\u7a0b\u3001\u6e90\u7801\u3001\u8f6f\u4ef6\u3001\u9762\u8bd5\u9898\u7b49\uff0c\u5982\u679c\u6709\u9700\u8981\uff0c\u53d1\u9001\u5173\u952e\u5b57\u8fdb\u884c\u83b7\u53d6\u3002","date":"2023-09-01T00:00:00.000Z","formattedDate":"2023\u5e749\u67081\u65e5","tags":[{"label":"\u8d44\u6e90","permalink":"/blog/tags/\u8d44\u6e90"},{"label":"\u514d\u8d39","permalink":"/blog/tags/\u514d\u8d39"}],"readingTime":0.39,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"weixin-source-free","title":"\u514d\u8d39\u8d44\u6e90","date":"2023-09-01T00:00:00.000Z","authors":"yuchengee","tags":["\u8d44\u6e90","\u514d\u8d39"]},"unlisted":false,"prevItem":{"title":"Gis\u5f00\u53d1\u4e2d\u7ecf\u7eac\u5ea6\u8f6c\u6362","permalink":"/blog/gis-lonlat-transform"},"nextItem":{"title":"lua\u5b66\u4e60\u4f7f\u7528-\u6a21\u5757","permalink":"/blog/lua-study-module"}},"content":"\u6536\u96c6\u4e86\u8bb8\u591a\u8d44\u6e90\uff0c\u5982\u5404\u7c7b\u6559\u7a0b\u3001\u6e90\u7801\u3001\u8f6f\u4ef6\u3001\u9762\u8bd5\u9898\u7b49\uff0c\u5982\u679c\u6709\u9700\u8981\uff0c\u53d1\u9001\u5173\u952e\u5b57\u8fdb\u884c\u83b7\u53d6\u3002\\n\\n\\n\u8d44\u6e90\u6301\u7eed\u66f4\u65b0\u4e2d...\\n  \\n  \\n\u6e14\u6b4c\u5c0f\u7b51\\n\x3c!--truncate--\x3e\\n\u56de\u590d`\u5173\u952e\u5b57`\u83b7\u53d6\u5404\u79cd\u8d44\u6e90\\n![\u516c\u4f17\u53f7\u4e8c\u7ef4\u7801](/img/qrcode_YUGXZS.jpg)\\n\\n### \u7f16\u7a0b\\n- \u56de\u590d `1001`, 80\u6b3eH5\u5c0f\u6e38\u620f\u5408\u96c6\\n- \u56de\u590d `1051`, \u5927\u5382\u5e38\u8003Java\u7b14\u8bd5\u9898,\u5404\u79cd\u9898\u578b\u90fd\u5305\u62ec\u4e86\\n- \u56de\u590d `1101`, \u9ed1\u9a6c\u7a0b\u5e8f\u5458\u6700\u65b0React\u5165\u95e8\u5230\u5b9e\u6218\u6838\u5fc3\u7cbe\u8bb2"},{"id":"lua-study-module","metadata":{"permalink":"/blog/lua-study-module","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2023/08-16-lua\u5b66\u4e60\u4f7f\u7528-\u6a21\u5757.md","source":"@site/blog/2023/08-16-lua\u5b66\u4e60\u4f7f\u7528-\u6a21\u5757.md","title":"lua\u5b66\u4e60\u4f7f\u7528-\u6a21\u5757","description":"\u6a21\u5757\u7c7b\u4f3c\u4e8e\u4e00\u4e2a\u5c01\u88c5\u5e93\uff0c\u4ece Lua 5.1 \u5f00\u59cb\uff0cLua \u52a0\u5165\u4e86\u6807\u51c6\u7684\u6a21\u5757\u7ba1\u7406\u673a\u5236\uff0c\u53ef\u4ee5\u628a\u4e00\u4e9b\u516c\u7528\u7684\u4ee3\u7801\u653e\u5728\u4e00\u4e2a\u6587\u4ef6\u91cc\uff0c\u4ee5 API \u63a5\u53e3\u7684\u5f62\u5f0f\u5728\u5176\u4ed6\u5730\u65b9\u8c03\u7528\uff0c\u6709\u5229\u4e8e\u4ee3\u7801\u7684\u91cd\u7528\u548c\u964d\u4f4e\u4ee3\u7801\u8026\u5408\u5ea6\u3002","date":"2023-08-16T00:00:00.000Z","formattedDate":"2023\u5e748\u670816\u65e5","tags":[{"label":"lua","permalink":"/blog/tags/lua"},{"label":"\u811a\u672c","permalink":"/blog/tags/\u811a\u672c"},{"label":"\u57fa\u7840","permalink":"/blog/tags/\u57fa\u7840"}],"readingTime":2.1,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"lua-study-module","title":"lua\u5b66\u4e60\u4f7f\u7528-\u6a21\u5757","date":"2023-08-16T00:00:00.000Z","authors":"yuchengee","tags":["lua","\u811a\u672c","\u57fa\u7840"]},"unlisted":false,"prevItem":{"title":"\u514d\u8d39\u8d44\u6e90","permalink":"/blog/weixin-source-free"},"nextItem":{"title":"lua\u5b66\u4e60\u4f7f\u7528-\u6570\u7ec4","permalink":"/blog/lua-study-array"}},"content":"\u6a21\u5757\u7c7b\u4f3c\u4e8e\u4e00\u4e2a\u5c01\u88c5\u5e93\uff0c\u4ece Lua 5.1 \u5f00\u59cb\uff0cLua \u52a0\u5165\u4e86\u6807\u51c6\u7684\u6a21\u5757\u7ba1\u7406\u673a\u5236\uff0c\u53ef\u4ee5\u628a\u4e00\u4e9b\u516c\u7528\u7684\u4ee3\u7801\u653e\u5728\u4e00\u4e2a\u6587\u4ef6\u91cc\uff0c\u4ee5 API \u63a5\u53e3\u7684\u5f62\u5f0f\u5728\u5176\u4ed6\u5730\u65b9\u8c03\u7528\uff0c\u6709\u5229\u4e8e\u4ee3\u7801\u7684\u91cd\u7528\u548c\u964d\u4f4e\u4ee3\u7801\u8026\u5408\u5ea6\u3002\\n  \\n  \\n\u672c\u6587\u8bb0\u5f55lua\u6a21\u5757\u7684\u5b66\u4e60\u3002\\n\x3c!--truncate--\x3e\\n### \u6a21\u5757\\nLua \u7684\u6a21\u5757\u662f\u7531\u53d8\u91cf\u3001\u51fd\u6570\u7b49\u5df2\u77e5\u5143\u7d20\u7ec4\u6210\u7684 table\uff0c\u56e0\u6b64\u521b\u5efa\u4e00\u4e2a\u6a21\u5757\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u521b\u5efa\u4e00\u4e2a table\uff0c\u7136\u540e\u628a\u9700\u8981\u5bfc\u51fa\u7684\u5e38\u91cf\u3001\u51fd\u6570\u653e\u5165\u5176\u4e2d\uff0c\u6700\u540e\u8fd4\u56de\u8fd9\u4e2a table \u5c31\u884c\u3002\u4ee5\u4e0b\u4e3a\u521b\u5efa\u81ea\u5b9a\u4e49\u6a21\u5757 module.lua\uff0c\u6587\u4ef6\u4ee3\u7801\u683c\u5f0f\u5982\u4e0b\uff1a\\n```lua\\n-- \u6587\u4ef6\u540d\u4e3a module.lua\\n-- \u5b9a\u4e49\u4e00\u4e2a\u540d\u4e3a module \u7684\u6a21\u5757\\nmodule = {}\\n\xa0\\n-- \u5b9a\u4e49\u4e00\u4e2a\u5e38\u91cf\\nmodule.constant = \\"\u8fd9\u662f\u4e00\u4e2a\u5e38\u91cf\\"\\n\xa0\\n-- \u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\\nfunction module.func1()\\n\xa0 \xa0 io.write(\\"\u8fd9\u662f\u4e00\u4e2a\u516c\u6709\u51fd\u6570\uff01\\\\n\\")\\nend\\n\xa0\\nlocal function func2()\\n\xa0 \xa0 print(\\"\u8fd9\u662f\u4e00\u4e2a\u79c1\u6709\u51fd\u6570\uff01\\")\\nend\\n\xa0\\nfunction module.func3()\\n\xa0 \xa0 func2()\\nend\\n\xa0\\nreturn module\\n```\\n\u6a21\u5757\u7684\u7ed3\u6784\u5c31\u662f\u4e00\u4e2a table \u7684\u7ed3\u6784\uff0c\u56e0\u6b64\u53ef\u4ee5\u50cf\u64cd\u4f5c\u8c03\u7528 table \u91cc\u7684\u5143\u7d20\u90a3\u6837\u6765\u64cd\u4f5c\u8c03\u7528\u6a21\u5757\u91cc\u7684\u5e38\u91cf\u6216\u51fd\u6570\u3002\\n\\n\u4e0a\u9762\u7684 func2 \u58f0\u660e\u4e3a\u7a0b\u5e8f\u5757\u7684\u5c40\u90e8\u53d8\u91cf\uff0c\u5373\u8868\u793a\u4e00\u4e2a\u79c1\u6709\u51fd\u6570\uff0c\u56e0\u6b64\u662f\u4e0d\u80fd\u4ece\u5916\u90e8\u8bbf\u95ee\u6a21\u5757\u91cc\u7684\u8fd9\u4e2a\u79c1\u6709\u51fd\u6570\uff0c\u5fc5\u987b\u901a\u8fc7\u6a21\u5757\u91cc\u7684\u516c\u6709\u51fd\u6570\u6765\u8c03\u7528\u3002\\n\\n### require \u51fd\u6570\\nLua\u63d0\u4f9b\u4e86\u4e00\u4e2a\u540d\u4e3arequire\u7684\u51fd\u6570\u7528\u6765\u52a0\u8f7d\u6a21\u5757\u3002\u8981\u52a0\u8f7d\u4e00\u4e2a\u6a21\u5757\uff0c\u53ea\u9700\u8981\u7b80\u5355\u5730\u8c03\u7528\u5c31\u53ef\u4ee5\u4e86\u3002\\n`require(\\"<\u6a21\u5757\u540d>\\")`\u6216\u8005`require \\"<\u6a21\u5757\u540d>\\"`\\n\\n\u6267\u884c require \u540e\u4f1a\u8fd4\u56de\u4e00\u4e2a\u7531\u6a21\u5757\u5e38\u91cf\u6216\u51fd\u6570\u7ec4\u6210\u7684 table\uff0c\u5e76\u4e14\u8fd8\u4f1a\u5b9a\u4e49\u4e00\u4e2a\u5305\u542b\u8be5 table \u7684\u5168\u5c40\u53d8\u91cf\u3002\\n```lua\\n-- test_module.lua \u6587\u4ef6\\n-- module \u6a21\u5757\u4e3a\u4e0a\u6587\u63d0\u5230\u5230 module.lua\\nrequire(\\"module\\")\\n\xa0\\nprint(module.constant)\\n\xa0\\nmodule.func3()\\n\\n-- \u6216\u8005\u7ed9\u52a0\u8f7d\u7684\u6a21\u5757\u5b9a\u4e49\u4e00\u4e2a\u522b\u540d\u53d8\u91cf\\nlocal m = require(\\"module\\")\\n \\nprint(m.constant)\\n \\nm.func3()\\n```\\n\\n### \u52a0\u8f7d\u673a\u5236\\n\u5bf9\u4e8e\u81ea\u5b9a\u4e49\u7684\u6a21\u5757\uff0c\u6a21\u5757\u6587\u4ef6\u4e0d\u662f\u653e\u5728\u54ea\u4e2a\u6587\u4ef6\u76ee\u5f55\u90fd\u884c\uff0c\u51fd\u6570 require \u6709\u5b83\u81ea\u5df1\u7684\u6587\u4ef6\u8def\u5f84\u52a0\u8f7d\u7b56\u7565\uff0c\u5b83\u4f1a\u5c1d\u8bd5\u4ece Lua \u6587\u4ef6\u6216 C \u7a0b\u5e8f\u5e93\u4e2d\u52a0\u8f7d\u6a21\u5757\u3002\\n\\nrequire \u7528\u4e8e\u641c\u7d22 Lua \u6587\u4ef6\u7684\u8def\u5f84\u662f\u5b58\u653e\u5728\u5168\u5c40\u53d8\u91cf package.path \u4e2d\uff0c\u5f53 Lua \u542f\u52a8\u540e\uff0c\u4f1a\u4ee5\u73af\u5883\u53d8\u91cf LUA_PATH \u7684\u503c\u6765\u521d\u59cb\u8fd9\u4e2a\u73af\u5883\u53d8\u91cf\u3002\u5982\u679c\u6ca1\u6709\u627e\u5230\u8be5\u73af\u5883\u53d8\u91cf\uff0c\u5219\u4f7f\u7528\u4e00\u4e2a\u7f16\u8bd1\u65f6\u5b9a\u4e49\u7684\u9ed8\u8ba4\u8def\u5f84\u6765\u521d\u59cb\u5316\u3002"},{"id":"lua-study-array","metadata":{"permalink":"/blog/lua-study-array","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2023/08-11-lua\u5b66\u4e60\u4f7f\u7528-\u6570\u7ec4.md","source":"@site/blog/2023/08-11-lua\u5b66\u4e60\u4f7f\u7528-\u6570\u7ec4.md","title":"lua\u5b66\u4e60\u4f7f\u7528-\u6570\u7ec4","description":"\u6570\u7ec4\uff0c\u5c31\u662f\u76f8\u540c\u6570\u636e\u7c7b\u578b\u7684\u5143\u7d20\u6309\u4e00\u5b9a\u987a\u5e8f\u6392\u5217\u7684\u96c6\u5408\uff0c\u53ef\u4ee5\u662f\u4e00\u7ef4\u6570\u7ec4\u548c\u591a\u7ef4\u6570\u7ec4\u3002","date":"2023-08-11T00:00:00.000Z","formattedDate":"2023\u5e748\u670811\u65e5","tags":[{"label":"lua","permalink":"/blog/tags/lua"},{"label":"\u811a\u672c","permalink":"/blog/tags/\u811a\u672c"},{"label":"\u57fa\u7840","permalink":"/blog/tags/\u57fa\u7840"}],"readingTime":1.13,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"lua-study-array","title":"lua\u5b66\u4e60\u4f7f\u7528-\u6570\u7ec4","date":"2023-08-11T00:00:00.000Z","authors":"yuchengee","tags":["lua","\u811a\u672c","\u57fa\u7840"]},"unlisted":false,"prevItem":{"title":"lua\u5b66\u4e60\u4f7f\u7528-\u6a21\u5757","permalink":"/blog/lua-study-module"},"nextItem":{"title":"lua\u5b66\u4e60\u4f7f\u7528-\u6570\u636e\u7ed3\u6784-\u8868-\u4e09\u4e2a\u7279\u6b8a\u51fd\u6570","permalink":"/blog/lua-study-1"}},"content":"\u6570\u7ec4\uff0c\u5c31\u662f\u76f8\u540c\u6570\u636e\u7c7b\u578b\u7684\u5143\u7d20\u6309\u4e00\u5b9a\u987a\u5e8f\u6392\u5217\u7684\u96c6\u5408\uff0c\u53ef\u4ee5\u662f\u4e00\u7ef4\u6570\u7ec4\u548c\u591a\u7ef4\u6570\u7ec4\u3002\\n\\n\\n\u5728 Lua \u4e2d\uff0c\u6570\u7ec4\u4e0d\u662f\u4e00\u79cd\u7279\u5b9a\u7684\u6570\u636e\u7c7b\u578b\uff0c\u800c\u662f\u4e00\u79cd\u7528\u6765\u5b58\u50a8\u4e00\u7ec4\u503c\u7684\u6570\u636e\u7ed3\u6784\u3002\\n  \\n  \\n\u672c\u6587\u8bb0\u5f55lua\u6570\u7ec4\u7684\u5b66\u4e60\u3002\\n\x3c!--truncate--\x3e\\n### lua\u6570\u7ec4\\n\u5b9e\u9645\u4e0a\uff0cLua \u4e2d\u5e76\u6ca1\u6709\u4e13\u95e8\u7684\u6570\u7ec4\u7c7b\u578b\uff0c\u800c\u662f\u4f7f\u7528\u4e00\u79cd\u88ab\u79f0\u4e3a \\"table\\" \u7684\u6570\u636e\u7ed3\u6784\u6765\u5b9e\u73b0\u6570\u7ec4\u7684\u529f\u80fd\u3002\\n\\nLua \u6570\u7ec4\u7684\u7d22\u5f15\u952e\u503c\u53ef\u4ee5\u4f7f\u7528\u6574\u6570\u8868\u793a\uff0c\u6570\u7ec4\u7684\u5927\u5c0f\u4e0d\u662f\u56fa\u5b9a\u7684\u3002\\n\\n:::tip\\n\\n\u5728 Lua \u7d22\u5f15\u503c\u9ed8\u8ba4\u662f\u4ee5 1 \u4e3a\u8d77\u59cb\uff0c\u4f46\u4f60\u4e5f\u53ef\u4ee5\u6307\u5b9a 0 \u5f00\u59cb\u3002\\n\\n:::\\n\\n```lua\\n-- \u521b\u5efa\u4e00\u4e2a\u6570\u7ec4\\nlocal myArray = {10, 20, 30, \\"35\\", 40, 50}\\n\\n-- \u8bbf\u95ee\u6570\u7ec4\u5143\u7d20\\nprint(myArray[0])\\t-- \u8f93\u51fa nil\\nprint(myArray[1])\\t-- \u8f93\u51fa 10\\nprint(myArray[3])\\t-- \u8f93\u51fa 30\\n\\n```\\n\\n### \u6570\u7ec4\u64cd\u4f5c\\n#### \u6570\u7ec4\u957f\u5ea6\\n`local length = #myArray`\\n\\n#### \u6570\u7ec4\u904d\u5386\\n```lua\\nfor i = 1, #myArray do\\n    print(myArray[i])\\nend\\n```\\n\\nlua\u6570\u7ec4\u5e76\u4e0d\u4e00\u5b9a\u4ece1\u5f00\u59cb\uff0c\u751a\u81f3\u53ef\u4ee5\u4ece\u8d1f\u6570\u5f00\u59cb\\n```lua\\narray = {}\\n\\nfor i= -2, 2 do\\n\xa0 \xa0array[i] = i *2\\nend\\n\\nfor i = -2,2 do\\n\xa0 \xa0print(array[i])\\nend\\n```\\n\\n#### \u5411\u6570\u7ec4\u589e\u52a0\u5143\u7d20\\n```lua\\n-- \u6dfb\u52a0\u65b0\u5143\u7d20\u5230\u6570\u7ec4\u672b\u5c3e\\nmyArray[#myArray + 1] = 60\\n```\\n\\n\\n#### \u5220\u9664\u6570\u7ec4\u4e2d\u5143\u7d20\\n```lua\\n-- \u5220\u9664\u7b2c\u4e09\u4e2a\u5143\u7d20\\ntable.remove(myArray, 3)\\n```\\n\\n####  \u4fee\u6539\u6570\u7ec4\u4e2d\u5143\u7d20\\n`myArray[1] = 60`"},{"id":"lua-study-1","metadata":{"permalink":"/blog/lua-study-1","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2023/08-05-lua\u5b66\u4e60\u4f7f\u7528-\u6570\u636e\u7ed3\u6784-\u8868-\u4e09\u4e2a\u7279\u6b8a\u51fd\u6570.md","source":"@site/blog/2023/08-05-lua\u5b66\u4e60\u4f7f\u7528-\u6570\u636e\u7ed3\u6784-\u8868-\u4e09\u4e2a\u7279\u6b8a\u51fd\u6570.md","title":"lua\u5b66\u4e60\u4f7f\u7528-\u6570\u636e\u7ed3\u6784-\u8868-\u4e09\u4e2a\u7279\u6b8a\u51fd\u6570","description":"Lua \u662f\u4e00\u79cd\u8f7b\u91cf\u7ea7\u3001\u9ad8\u6548\u3001\u53ef\u5d4c\u5165\u7684\u811a\u672c\u8bed\u8a00\uff0c\u5e7f\u6cdb\u5e94\u7528\u4e8e\u6e38\u620f\u5f00\u53d1\u3001\u5d4c\u5165\u5f0f\u7cfb\u7edf\u3001\u7f51\u7edc\u7f16\u7a0b\u548c\u5176\u4ed6\u5404\u79cd\u9886\u57df\u3002","date":"2023-08-05T00:00:00.000Z","formattedDate":"2023\u5e748\u67085\u65e5","tags":[{"label":"lua","permalink":"/blog/tags/lua"},{"label":"\u811a\u672c","permalink":"/blog/tags/\u811a\u672c"},{"label":"\u57fa\u7840","permalink":"/blog/tags/\u57fa\u7840"}],"readingTime":3.8633333333333333,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"lua-study-1","title":"lua\u5b66\u4e60\u4f7f\u7528-\u6570\u636e\u7ed3\u6784-\u8868-\u4e09\u4e2a\u7279\u6b8a\u51fd\u6570","date":"2023-08-05T00:00:00.000Z","authors":"yuchengee","tags":["lua","\u811a\u672c","\u57fa\u7840"]},"unlisted":false,"prevItem":{"title":"lua\u5b66\u4e60\u4f7f\u7528-\u6570\u7ec4","permalink":"/blog/lua-study-array"},"nextItem":{"title":"java\u8c03\u7528\u811a\u672c","permalink":"/blog/java-call-cmd"}},"content":"Lua \u662f\u4e00\u79cd\u8f7b\u91cf\u7ea7\u3001\u9ad8\u6548\u3001\u53ef\u5d4c\u5165\u7684\u811a\u672c\u8bed\u8a00\uff0c\u5e7f\u6cdb\u5e94\u7528\u4e8e\u6e38\u620f\u5f00\u53d1\u3001\u5d4c\u5165\u5f0f\u7cfb\u7edf\u3001\u7f51\u7edc\u7f16\u7a0b\u548c\u5176\u4ed6\u5404\u79cd\u9886\u57df\u3002\\n  \\n  \\n\u672c\u6587\u8bb0\u5f55lua\u7684\u5b66\u4e60\u3002\\n\x3c!--truncate--\x3e\\n### lua\u4ecb\u7ecd\\nLua \u662f\u4e00\u79cd\u8f7b\u91cf\u7ea7\u3001\u9ad8\u6548\u3001\u53ef\u5d4c\u5165\u7684\u811a\u672c\u8bed\u8a00\uff0c\u5e7f\u6cdb\u5e94\u7528\u4e8e\u6e38\u620f\u5f00\u53d1\u3001\u5d4c\u5165\u5f0f\u7cfb\u7edf\u3001\u7f51\u7edc\u7f16\u7a0b\u548c\u5176\u4ed6\u5404\u79cd\u9886\u57df\u3002\u5b83\u7531\u5df4\u897f\u91cc\u7ea6\u70ed\u5185\u5362\u5929\u4e3b\u6559\u5927\u5b66\uff08Pontifical Catholic University of Rio de Janeiro\uff09\u7684\u4e00\u4e2a\u5c0f\u56e2\u961f\u5728 1993 \u5e74\u5f00\u53d1\u800c\u6210\u3002\\n\\n\u4ee5\u4e0b\u662f Lua \u7684\u4e00\u4e9b\u5173\u952e\u7279\u70b9\u548c\u7279\u6027\uff1a\\n\\n1. **\u8f7b\u91cf\u7ea7\u548c\u9ad8\u6548\u6027\uff1a** Lua \u7684\u8bbe\u8ba1\u76ee\u6807\u4e4b\u4e00\u662f\u4fdd\u6301\u7b80\u5355\u3001\u9ad8\u6548\u548c\u8f7b\u91cf\u7ea7\u3002\u5b83\u7684\u6838\u5fc3\u5f15\u64ce\u975e\u5e38\u5c0f\u5de7\uff0c\u4e0d\u9700\u8981\u592a\u591a\u8d44\u6e90\u6765\u8fd0\u884c\uff0c\u5e76\u4e14\u5177\u6709\u51fa\u8272\u7684\u6027\u80fd\u3002\\n\\n2. **\u53ef\u5d4c\u5165\u6027\uff1a** Lua \u53ef\u4ee5\u88ab\u5d4c\u5165\u5230\u5176\u4ed6\u5e94\u7528\u7a0b\u5e8f\u4e2d\u4f5c\u4e3a\u4e00\u79cd\u811a\u672c\u8bed\u8a00\u4f7f\u7528\uff0c\u5b83\u7684\u6838\u5fc3\u5e93\u63d0\u4f9b\u4e86\u4e0e\u4e3b\u673a\u7a0b\u5e8f\u4ea4\u4e92\u7684 API\u3002\u8fd9\u4f7f\u5f97 Lua \u6210\u4e3a\u8bb8\u591a\u5e94\u7528\u7a0b\u5e8f\u548c\u6e38\u620f\u5f15\u64ce\u4e2d\u7684\u811a\u672c\u8bed\u8a00\u9009\u62e9\u3002\\n\\n3. **\u52a8\u6001\u7c7b\u578b\uff1a** Lua \u662f\u4e00\u79cd\u52a8\u6001\u7c7b\u578b\u7684\u811a\u672c\u8bed\u8a00\uff0c\u53d8\u91cf\u7684\u7c7b\u578b\u5728\u8fd0\u884c\u65f6\u786e\u5b9a\u3002\\n\\n4. **\u5f3a\u5927\u7684\u8868\uff08table\uff09\uff1a** Lua \u7684\u8868\u662f\u4e00\u79cd\u5f3a\u5927\u7684\u6570\u636e\u7ed3\u6784\uff0c\u53ef\u4ee5\u5145\u5f53\u6570\u7ec4\u3001\u5217\u8868\u3001\u54c8\u5e0c\u8868\u7b49\u5404\u79cd\u6570\u636e\u7ed3\u6784\u7684\u89d2\u8272\u3002\u8868\u662f Lua \u4e2d\u4e3b\u8981\u7684\u6570\u636e\u7ed3\u6784\uff0c\u4e5f\u662f\u6784\u5efa\u5176\u4ed6\u590d\u6742\u6570\u636e\u7ed3\u6784\u548c\u6a21\u5f0f\u7684\u57fa\u7840\u3002\\n\\n5. **\u7b80\u6d01\u7684\u8bed\u6cd5\uff1a** Lua \u7684\u8bed\u6cd5\u975e\u5e38\u7b80\u6d01\uff0c\u6613\u4e8e\u5b66\u4e60\u548c\u4f7f\u7528\u3002\u5b83\u91c7\u7528\u7c7b\u4f3c\u4e8e Pascal \u7684\u5757\u7ed3\u6784\u63a7\u5236\u8bed\u6cd5\uff0c\u5e76\u4e14\u4e0d\u9700\u8981\u989d\u5916\u7684\u7b26\u53f7\u6216\u5173\u952e\u5b57\u6765\u8868\u793a\u5757\u7684\u5f00\u59cb\u6216\u7ed3\u675f\u3002\\n\\n6. **\u6269\u5c55\u6027\u548c\u53ef\u5b9a\u5236\u6027\uff1a** Lua \u63d0\u4f9b\u4e86\u5f3a\u5927\u4e14\u7075\u6d3b\u7684\u673a\u5236\u6765\u8fdb\u884c\u6269\u5c55\u548c\u5b9a\u5236\u3002\u4f60\u53ef\u4ee5\u7f16\u5199\u81ea\u5df1\u7684 C/C++ \u6269\u5c55\u6a21\u5757\u4ee5\u589e\u5f3a Lua \u7684\u529f\u80fd\uff0c\u5e76\u4f7f\u7528\u5143\u8868\uff08metatable\uff09\u548c\u5143\u65b9\u6cd5\uff08metamethod\uff09\u6765\u4fee\u6539\u53d8\u91cf\u548c\u8868\u7684\u884c\u4e3a\u3002\\n\\n7. **\u8de8\u5e73\u53f0\uff1a** Lua \u662f\u4e00\u4e2a\u8de8\u5e73\u53f0\u7684\u811a\u672c\u8bed\u8a00\uff0c\u5b83\u53ef\u4ee5\u8fd0\u884c\u5728\u5927\u591a\u6570\u4e3b\u6d41\u64cd\u4f5c\u7cfb\u7edf\u4e0a\uff0c\u5305\u62ec Windows\u3001macOS\u3001Linux \u548c\u5d4c\u5165\u5f0f\u7cfb\u7edf\u3002\\n\\n\u7531\u4e8e\u5176\u8f7b\u91cf\u7ea7\u3001\u9ad8\u6548\u548c\u53ef\u5d4c\u5165\u6027\uff0cLua \u5728\u6e38\u620f\u5f00\u53d1\u9886\u57df\u5f97\u5230\u4e86\u5e7f\u6cdb\u5e94\u7528\u3002\u8bb8\u591a\u5927\u578b\u6e38\u620f\u5f15\u64ce\uff08\u5982Unity\u548cCorona SDK\uff09\u90fd\u652f\u6301\u4f7f\u7528 Lua \u4f5c\u4e3a\u811a\u672c\u8bed\u8a00\u6765\u7f16\u5199\u6e38\u620f\u903b\u8f91\u548c\u6269\u5c55\u529f\u80fd\u3002\\n\\n\u603b\u4e4b\uff0cLua \u662f\u4e00\u79cd\u7b80\u5355\u3001\u7075\u6d3b\u3001\u9ad8\u6548\u7684\u811a\u672c\u8bed\u8a00\uff0c\u5177\u6709\u5e7f\u6cdb\u7684\u5e94\u7528\u9886\u57df\uff0c\u5e76\u4e14\u5728\u8bb8\u591a\u65b9\u9762\u88ab\u5e7f\u6cdb\u91c7\u7528\u3002\u5176\u7b80\u6d01\u7684\u8bed\u6cd5\u3001\u53ef\u5d4c\u5165\u6027\u548c\u53ef\u6269\u5c55\u6027\u4f7f\u5f97 Lua \u6210\u4e3a\u4e00\u4e2a\u5f3a\u5927\u7684\u811a\u672c\u8bed\u8a00\u9009\u62e9\u3002\\n\\n\\n### \u6570\u636e\u7c7b\u578b\\nlua\u4e2d\u67098\u79cd\u6570\u636e\u7c7b\u578b\uff1a\\n- **nil**\\t\\t\\t\u8fd9\u4e2a\u6700\u7b80\u5355\uff0c\u53ea\u6709\u503cnil\u5c5e\u4e8e\u8be5\u7c7b\uff0c\u8868\u793a\u4e00\u4e2a\u65e0\u6548\u503c\uff08\u5728\u6761\u4ef6\u8868\u8fbe\u5f0f\u4e2d\u76f8\u5f53\u4e8efalse\uff09\u3002\\n- **boolean**\\t\\t\u5305\u542b\u4e24\u4e2a\u503c\uff1afalse\u548ctrue\u3002\\n- **number**\\t\\t\u8868\u793a\u53cc\u7cbe\u5ea6\u7c7b\u578b\u7684\u5b9e\u6d6e\u70b9\u6570\\n- **string**\\t\\t\u5b57\u7b26\u4e32\u7531\u4e00\u5bf9\u53cc\u5f15\u53f7\u6216\u5355\u5f15\u53f7\u6765\u8868\u793a\\n- **function**\\t\\t\u7531 C \u6216 Lua \u7f16\u5199\u7684\u51fd\u6570\\n- **userdata**\\t\\t\u8868\u793a\u4efb\u610f\u5b58\u50a8\u5728\u53d8\u91cf\u4e2d\u7684C\u6570\u636e\u7ed3\u6784\\n- **thread**\\t\\t\u8868\u793a\u6267\u884c\u7684\u72ec\u7acb\u7ebf\u8def\uff0c\u7528\u4e8e\u6267\u884c\u534f\u540c\u7a0b\u5e8f\\n- **table**\\t\\t\\tLua \u4e2d\u7684\u8868\uff08table\uff09\u5176\u5b9e\u662f\u4e00\u4e2a\\"\u5173\u8054\u6570\u7ec4\\"\uff08associative arrays\uff09\uff0c\u6570\u7ec4\u7684\u7d22\u5f15\u53ef\u4ee5\u662f\u6570\u5b57\u3001\u5b57\u7b26\u4e32\u6216\u8868\u7c7b\u578b\u3002\u5728 Lua \u91cc\uff0ctable \u7684\u521b\u5efa\u662f\u901a\u8fc7\\"\u6784\u9020\u8868\u8fbe\u5f0f\\"\u6765\u5b8c\u6210\uff0c\u6700\u7b80\u5355\u6784\u9020\u8868\u8fbe\u5f0f\u662f{}\uff0c\u7528\u6765\u521b\u5efa\u4e00\u4e2a\u7a7a\u8868\u3002\\n\\n:::tip\\n\\nlua\u4e2d\u6ce8\u91ca\u4e3a\u4e24\u4e2a-:--\\n\\n:::\\n\\n\\t\\n### \u8868\\t\\nlua\u4e2d\u7684\u4e00\u4e2a\u8868\u5b9a\u4e49\u5982\u4e0b\\n```lua\\nlocal info =\\n{\\n    name = \\"cyu\\",\\n    age = 18,\\n    sex = \\"man\\",\\n}\\n```\\n\u5176\u4e2d\u67093\u4e2a\u5c5e\u6027\u3002\u53ef\u4ee5\u5982\u4e0b\u5faa\u73af\u904d\u5386\\n```lua\\nfor k,v in pairs(info) do\\n\\tprint(\\"k,v\\",k,v)\\nend\\n```\\n\u53ef\u83b7\u53d6\u5176\u4e2d\u67d0\u4e2a\u5c5e\u6027\uff1a print(info.name)\\n\\n\u5982\u679c\u83b7\u53d6\u4e0d\u5b58\u5728\u7684\u5c5e\u6027\uff0c\u5982\uff1a print(info.address)\uff0c\u7ed3\u679c\u4e3a nil\\n\\n#### __index\u51fd\u6570\\n\u8bbf\u95ee\u8868\u4e2d\u4e0d\u5b58\u5728\u7684\u5c5e\u6027\u4f1a\u8fdb\u5165\u6b64\u65b9\u6cd5\\n```lua\\nlocal mt = {\\n    __index = function(table, key)\\n    print(\\"Sorry,I haven\'t this field : \\" .. key);\\n    end\\n}\\n-- \u8bbe\u7f6e\u539f\u8868\\nsetmetatable(info, mt)\\nprint(info.address) -- Sorry,I haven\'t this field : address\\ninfo.height=188\\t\\t-- \u7ed9info\u8868\u6dfb\u52a0height\u5c5e\u6027\\nprint(info.height)\\t-- 188\\n```\\n\\n#### __newindex\u51fd\u6570\\n\u7ed9\u4e0d\u5b58\u5728\u7684\u5c5e\u6027\u8d4b\u503c\u4f1a\u8fdb\u5165\u6b64\u65b9\u6cd5\\n```lua\\nsetmetatable(info,  {\\n\\t__newindex = function(table, key, value)\\n\\t\\tprint(\\"this is the first time to assignment for the field : \\" .. key..\\" = \\"..value);\\n\\t\\trawset(table, key, value);\\n\\tend\\n})\\ninfo.addresss=\\"ShengZhen\\"\\t-- this is the first time to assignment for the field : addresss = ShengZhen\\nprint(info.addresss)\\t-- ShengZhen\\n```\\n\\n#### __call\u51fd\u6570\\ntable\u5f53\u4f5c\u65b9\u6cd5\u6765\u8c03\u7528\uff0c\u53ef\u4ee5\u5b9e\u73b0\u7c7b\u521d\u59cb\u5316\u7684\u4f5c\u7528\u3002\\n```lua\\nmytable = {}\\nfunction mytable:hello(table,name)\\n    print(\\"Hello, \\" .. name .. \\"!\\")\\n\\ttable.name = name\\nend\\nsetmetatable(mytable, {\\n    __call = function(table, name)\\n        table:hello(table,name)\\n    end\\n})\\nmytable(\\"hhh\\")\\t-- Hello, hhh!\\nprint(mytable.name)\\t-- hhh\\n```"},{"id":"java-call-cmd","metadata":{"permalink":"/blog/java-call-cmd","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2023/07-07-java\u8c03\u7528\u811a\u672c.md","source":"@site/blog/2023/07-07-java\u8c03\u7528\u811a\u672c.md","title":"java\u8c03\u7528\u811a\u672c","description":"\u5728Java\u7f16\u7a0b\u4e2d\uff0c\u6709\u65f6\u4f1a\u9047\u5230\u9700\u8981\u8c03\u7528\u7cfb\u7edf\u7684shell\u811a\u672c\u7684\u60c5\u51b5\uff0c\u672c\u6587\u8bb0\u5f55java\u8c03\u7528\u811a\u672c\u793a\u4f8b\u3002","date":"2023-07-07T00:00:00.000Z","formattedDate":"2023\u5e747\u67087\u65e5","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"linux","permalink":"/blog/tags/linux"},{"label":"shell","permalink":"/blog/tags/shell"}],"readingTime":1.1333333333333333,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"java-call-cmd","title":"java\u8c03\u7528\u811a\u672c","date":"2023-07-07T00:00:00.000Z","authors":"yuchengee","tags":["java","linux","shell"]},"unlisted":false,"prevItem":{"title":"lua\u5b66\u4e60\u4f7f\u7528-\u6570\u636e\u7ed3\u6784-\u8868-\u4e09\u4e2a\u7279\u6b8a\u51fd\u6570","permalink":"/blog/lua-study-1"},"nextItem":{"title":"lucene\u7b80\u5355\u4f7f\u7528","permalink":"/blog/java-lucene-search"}},"content":"\u5728Java\u7f16\u7a0b\u4e2d\uff0c\u6709\u65f6\u4f1a\u9047\u5230\u9700\u8981\u8c03\u7528\u7cfb\u7edf\u7684shell\u811a\u672c\u7684\u60c5\u51b5\uff0c\u672c\u6587\u8bb0\u5f55java\u8c03\u7528\u811a\u672c\u793a\u4f8b\u3002\\n\\n\x3c!--truncate--\x3e\\n```java\\npublic static boolean callShell(String... commands) {\\n\\tProcessBuilder pb = new ProcessBuilder();\\n\\ttry {\\n\\t\\tProcessBuilder processBuilder = new ProcessBuilder(commands);\\n\\t\\t// \u52a0\u4e0a\u4e0b\u9762\u4e24\u884c\u9632\u6b62\\n\\t\\tprocessBuilder.redirectInput(ProcessBuilder.Redirect.PIPE); // \u91cd\u5b9a\u5411\u6807\u51c6\u8f93\u5165\u4e3a\u7a7a\u767d\\n\\t\\tprocessBuilder.redirectOutput(ProcessBuilder.Redirect.PIPE); // \u91cd\u5b9a\u5411\u6807\u51c6\u8f93\u51fa\u5230\u7ba1\u9053\\n\\n\\t\\tProcess process = processBuilder.start();\\n\\n\\t\\tBufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\\n\\t\\tString line;\\n\\t\\twhile ((line = reader.readLine()) != null) {\\n\\t\\t\\tSystem.out.println(line);\\n\\t\\t}\\n\\t\\t// \u8c03\u7528 Process.waitFor() \u65b9\u6cd5\u53ef\u4ee5\u8ba9\u5f53\u524d\u7ebf\u7a0b\u7b49\u5f85\u8fdb\u7a0b\u6267\u884c\u5b8c\u6210\uff0c\u5e76\u4e14\u83b7\u53d6\u5230\u76f8\u5e94\u7684\u9000\u51fa\u7801\u3002\u4f46\u662f\u5728\u8c03\u7528 waitFor() \u65b9\u6cd5\u4e4b\u524d\u5e94\u8be5\u5148\u8bfb\u53d6\u8fdb\u7a0b\u7684\u8f93\u51fa\uff0c\u4ee5\u514d\u5bfc\u81f4\u8fdb\u7a0b\u963b\u585e\\n\\t\\tint exitCode = process.waitFor(); // \u7b49\u5f85Shell\u811a\u672c\u6267\u884c\u5b8c\u6210\\n\\t\\tSystem.out.println(\\"Shell\u811a\u672c\u6267\u884c\u7ed3\u675f\uff0c\u9000\u51fa\u7801\uff1a\\" + exitCode);\\n\\t\\t// 0\uff1a\u4e00\u822c\u8868\u793a\u8fdb\u7a0b\u6267\u884c\u6210\u529f\u5e76\u6b63\u5e38\u9000\u51fa\u3002\\n\\t\\t// \u975e\u96f6\u503c\uff1a\u901a\u5e38\u8868\u793a\u8fdb\u7a0b\u6267\u884c\u5931\u8d25\u6216\u5f02\u5e38\u7ec8\u6b62\u3002\u4e0d\u540c\u7684\u975e\u96f6\u503c\u53ef\u80fd\u6709\u4e0d\u540c\u7684\u542b\u4e49\uff0c\u4f8b\u5982\u67d0\u79cd\u9519\u8bef\u7801\u6216\u7279\u5b9a\u7684\u72b6\u6001\u7801\\n\\t\\treturn exitCode == 0;\\n\\t} catch (Exception e) {\\n\\t\\te.printStackTrace();\\n\\t}\\n\\n\\treturn false;\\n}\\n\\ncallShell(\\"sh\\", \\"-c\\", \\"cat aa.txt\\");\\n```\\n\\n\u5728Java\u4e2d\u8c03\u7528Shell\u811a\u672c\u65f6\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u5361\u4f4f\u7684\u60c5\u51b5\u3002\u8fd9\u901a\u5e38\u662f\u7531\u4e8e\u672a\u6b63\u786e\u5904\u7406\u6807\u51c6\u8f93\u5165\uff08stdin\uff09\u548c\u6807\u51c6\u8f93\u51fa\uff08stdout\uff09\u5f15\u8d77\u7684\u3002\u4e0a\u9762\u4ee3\u7801\u52a0\u5165\u91cd\u5b9a\u5411\u8f93\u5165\u8f93\u51fa\u53ef\u4ee5\u9632\u6b62\u7a0b\u5e8f\u5361\u6b7b\u3002"},{"id":"java-lucene-search","metadata":{"permalink":"/blog/java-lucene-search","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2023/06-17-lucene\u7b80\u5355\u4f7f\u7528.md","source":"@site/blog/2023/06-17-lucene\u7b80\u5355\u4f7f\u7528.md","title":"lucene\u7b80\u5355\u4f7f\u7528","description":"Lucene\u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u5168\u6587\u641c\u7d22\u5f15\u64ce\u5e93\uff0c\u5b83\u63d0\u4f9b\u4e86\u5bf9\u6587\u672c\u5185\u5bb9\u8fdb\u884c\u7d22\u5f15\u548c\u641c\u7d22\u7684\u529f\u80fd\u3002","date":"2023-06-17T00:00:00.000Z","formattedDate":"2023\u5e746\u670817\u65e5","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"lucene","permalink":"/blog/tags/lucene"},{"label":"\u641c\u7d22\u5f15\u64ce","permalink":"/blog/tags/\u641c\u7d22\u5f15\u64ce"},{"label":"\u5012\u6392\u7d22\u5f15","permalink":"/blog/tags/\u5012\u6392\u7d22\u5f15"},{"label":"Elasticsearch","permalink":"/blog/tags/elasticsearch"}],"readingTime":11.43,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"java-lucene-search","title":"lucene\u7b80\u5355\u4f7f\u7528","date":"2023-06-17T00:00:00.000Z","authors":"yuchengee","tags":["java","lucene","\u641c\u7d22\u5f15\u64ce","\u5012\u6392\u7d22\u5f15","Elasticsearch"]},"unlisted":false,"prevItem":{"title":"java\u8c03\u7528\u811a\u672c","permalink":"/blog/java-call-cmd"},"nextItem":{"title":"java\u8bfb\u5199zip\u538b\u7f29\u5305","permalink":"/blog/java-zip-wr"}},"content":"Lucene\u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u5168\u6587\u641c\u7d22\u5f15\u64ce\u5e93\uff0c\u5b83\u63d0\u4f9b\u4e86\u5bf9\u6587\u672c\u5185\u5bb9\u8fdb\u884c\u7d22\u5f15\u548c\u641c\u7d22\u7684\u529f\u80fd\u3002\\n\\n\\n\u672c\u6587\u7b80\u5355\u4ecb\u7ecdlucene\u7684\u4f7f\u7528\u3002\\n\x3c!--truncate--\x3e\\n### 1. lucene\u4ecb\u7ecd\\nLuene\u662f\u4e00\u6b3e\u9ad8\u6027\u80fd\u3001\u53ef\u6269\u5c55\u7684\u4fe1\u606f\u68c0\u7d22\u5e93\uff0c\u7528\u4e8e\u5b8c\u6210\u6587\u6863\u5143\u4fe1\u606f\u3001\u6587\u6863\u5185\u5bb9\u7b49\u641c\u7d22\u529f\u80fd\u3002\u7528\u6237\u53ef\u4ee5\u4f7f\u7528Lucene \u6216 \u57fa\u4e8eLucene\u7684\u6210\u719f\u4ea7\u54c1Nutch/Solr/Elasticsearch\u7b49\u6765\u5feb\u901f\u6784\u5efa\u641c\u7d22\u670d\u52a1\uff0c\u5982\u6587\u4ef6\u641c\u7d22\u3001\u7f51\u9875\u641c\u7d22\u7b49\u3002\\n\\n\\nLucene\u4ec5\u4ec5\u662f\u4e00\u4e2aJava\u7c7b\u5e93\uff0c\u5bf9\u4e8e\u7ebf\u4e0a\u5927\u89c4\u6a21\u4f7f\u7528\uff0c\u9664\u4e86\u9700\u8981\u7ecf\u8fc7\u5c01\u88c5\u5f00\u53d1\u5f62\u6210\u4ea7\u54c1\u5916\uff0c\u8fd8\u9700\u8981\u8003\u8651\u53ef\u9760\u6027\u3001\u5206\u5e03\u5f0f\u5316\u7b49\u95ee\u9898\u3002\u56e0\u6b64\u51fa\u73b0\u4e86\u57fa\u4e8eLucene\u7684\u4ea7\u54c1\u5316\u7cfb\u7edf\uff0c\u4f8b\u5982Nutch\u3001Solr\u3001Elasticsearch\u7b49\u3002\u5b66\u6821lucene\u53ef\u4ee5\u66f4\u597d\u7406\u89e3es\u7684\u5de5\u4f5c\u539f\u7406\u3002\\n\\n### 2. \u539f\u7406\u4ecb\u7ecd\\n![lucene\u6267\u884c\u6d41\u7a0b](img/lucene-run-step.png \\"lucene\u6267\u884c\u6d41\u7a0b\\")\\n\\n\\nlucene\u662f\u7531\u7d22\u5f15\u548c\u641c\u7d22\u4e24\u4e2a\u8fc7\u7a0b\uff0c\u5305\u542b\u4e86\u521b\u5efa\u7d22\u5f15\uff0c\u7d22\u5f15\u5e93\u548c\u641c\u7d22\u4e09\u4e2a\u8981\u70b9\u3002\\n\\n\u67e5\u8be2\u524d\u4f1a\u5148\u5c06\u67e5\u8be2\u7684\u5185\u5bb9\u63d0\u53d6\u51fa\u6765\u7ec4\u6210\u6587\u6863\uff08\u6b63\u6587\uff09\uff0c \u5bf9\u6587\u6863\u8fdb\u884c\u5207\u5206\u8bcd\u7ec4\u6210\u7d22\u5f15\uff08\u76ee\u5f55\uff09\uff0c \u7d22\u5f15\u548c\u6587\u6863\u6709\u5173\u8054\u5173\u7cfb\uff0c\u67e5\u8be2\u7684\u65f6\u5019\u5148\u67e5\u8be2\u7d22\u5f15\uff0c\u901a\u8fc7\u7d22\u5f15\u627e\u6587\u6863\u3002\u88ab\u7528\u6765\u5b58\u50a8\u5728\u5168\u6587\u641c\u7d22\u4e0b\u67d0\u4e2a\u5355\u8bcd\u5728\u4e00\u4e2a\u6587\u6863\u6216\u8005\u4e00\u7ec4\u6587\u6863\u4e2d\u7684\u5b58\u50a8\u4f4d\u7f6e\u7684\u6620\u5c04\uff0cLucene\u4f1a\u5bf9\u6587\u6863\u8fdb\u884c\u5012\u6392\u7d22\u5f15\u3002\\n\\n### 3. \u5e38\u7528\u672f\u8bed\\n1. Index\uff08\u7d22\u5f15\uff09\\n\u7d22\u5f15\uff0c\u7531\u5f88\u591a\u7684Document\u7ec4\u6210\u3002\u7c7b\u4f3c\u6570\u636e\u5e93\u7684\u8868\u7684\u6982\u5ff5\uff0c\u4f46\u53c8\u6709\u5f88\u5927\u4e0d\u540c\u3002\u4f20\u7edf\u5173\u7cfb\u578b\u6570\u636e\u5e93\u6216\u8005NoSQL\u6570\u636e\u5e93\u7684\u8868\uff0c\u5728\u521b\u5efa\u65f6\u8981\u5b9a\u4e49\u8868\u7684Scheme\uff0c\u5b9a\u4e49\u8868\u7684\u4e3b\u952e\u6216\u5217\u7b49\uff0c\u6709\u660e\u786e\u5b9a\u4e49\u7684\u7ea6\u675f\u3002\u4f46\u662fLucene\u7684Index\u5b8c\u5168\u6ca1\u6709\u7ea6\u675f\u3002\\n\\n2. Document\uff08\u6587\u6863\uff09\\n\u5efa\u7acb\u7d22\u5f15\u548c\u67e5\u8be2\u7684\u6700\u5c0f\u5355\u4f4d\uff0c\u7531\u5f88\u591aField\u7ec4\u6210\uff0c\u7c7b\u4f3c\u6570\u636e\u5e93\u7684\u8bb0\u5f55\u6216\u8005\u6587\u6863\u6570\u636e\u5e93\u4e2d\u6587\u6863\u7684\u6982\u5ff5\u3002\u5199\u5165Index\u7684Document\u4f1a\u88ab\u5206\u914d\u4e00\u4e2a\u552f\u4e00\u7684ID\uff0c\u5373Sequence Number\uff08\u66f4\u591a\u88ab\u53eb\u505aDocId)\u3002\\n\\n3. Field\uff08\u5b57\u6bb5\uff09\\nLucene\u4e2d\u6570\u636e\u7d22\u5f15\u7684\u6700\u5c0f\u5b9a\u4e49\u5355\u4f4d\uff0c\u7531Field name,Field value\u548cField type\u7ec4\u6210\uff0c\u4e0d\u540c\u7684Filed type\uff08StringField\u3001TextField\u3001LongFiled\u6216NumericDocValuesField\uff09\u51b3\u5b9a\u4e86\u4e0d\u540c\u7684\u7d22\u5f15\u65b9\u5f0f\uff08Store Field\uff0cDocValues\u7b49\u7b49\uff09\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5b9e\u73b0IndexableField\u63a5\u53e3\u6765\u8bbe\u7f6eField\u7684\u5c5e\u6027\u3002\\n\\n4. Term \u548c Term Dictionary\\n\u4e00\u4e2aField\uff08\u4e3b\u8981\u6307TextField\u7684value\uff09\u4f1a\u7531\u4e00\u4e2a\u6216\u591a\u4e2aTerm\u7ec4\u6210\u3002Term\u662f\u7531Field\u7ecf\u8fc7Analyzer\uff08\u5206\u8bcd\uff09\u4ea7\u751f\uff0c\u8868\u793a\u6587\u672c\u7684\u4e00\u4e2a\u8bcd\u8bed\u3002\u5b83\u6709\u4e24\u4e2a\u5143\u7d20\u7ec4\u6210\uff1a\u8bcd\u8bed\u7684\u5185\u5bb9\uff08\u67e5\u8be2\u65f6\u7684\u5173\u952e\u5b57\uff09\u548c\u6587\u672c\u6240\u5728\u7684\u57df\uff08\u5373Field name\uff09\u3002\u8fd9\u91cc\u9700\u8981\u4e0etocken\u533a\u522b\u5f00\uff0cToken\u662f\u4e00\u4e2a\u5728\u5206\u8bcd\u8fc7\u7a0b\u4e2d\u4ea7\u751f\u7684\u5bf9\u8c61\uff0c\u5bf9\u5e94\u7684Token\u5bf9\u8c61\u5305\u542b\u4e86\u8fd9\u4e2a\u8bcd\u8bed\u7684\u81ea\u8eab\u5185\u5bb9\uff0c\u5728\u8fd9\u53e5\u8bdd\u4e2d\u7684\u5f00\u59cb\u4f4d\u7f6e\u3001\u7ed3\u675f\u4f4d\u7f6e\u4ee5\u53ca\u4e00\u4e2a\u53ef\u4ee5\u50a8\u5b58\u5176\u4ed6\u4fe1\u606f\u7684payload\u5bf9\u8c61\uff08Tocken\u5728lucene2.9\u4e4b\u540e\u88abAttuibutes\u63a5\u53e3\u5b9e\u73b0\u7c7b\u4ee3\u66ff\uff09\u3002Term Dictionary\u5373Term\u8bcd\u5178\uff0clucene\u4f7f\u7528FST\u6570\u636e\u7ed3\u6784\u6765\u5b58\u50a8term\u5b57\u5178\uff0clucene\u662f\u6839\u636eTerm\u8bcd\u5178\u6765\u67e5\u8be2Term\u5bf9\u5e94\u7684\u6587\u6863ID\u3002\\n\\n5. Segment\\n\u4e00\u4e2aIndex\u4f1a\u7531\u4e00\u4e2a\u6216\u591a\u4e2asub-index\u6784\u6210\uff0csub-index\u88ab\u79f0\u4e3aSegment\u3002Lucene\u4e2d\u7684\u6570\u636e\u4f1a\u5148\u5199\u5165\u5185\u5b58\u7684\u4e00\u4e2aBuffer\uff08\u7c7b\u4f3cLSM\u7684MemTable\uff0c\u4f46\u662f\u4e0d\u53ef\u8bfb\uff09\uff0c\u5f53Buffer\u5185\u6570\u636e\u8fbe\u5230\u4e00\u5b9a\u91cf\u540e\u4f1a\u88abflush\u6210\u4e00\u4e2aSegment\uff0c\u6bcf\u4e2aSegment\u6709\u81ea\u5df1\u72ec\u7acb\u7684\u7d22\u5f15\uff0c\u53ef\u72ec\u7acb\u88ab\u67e5\u8be2\uff0c\u4f46\u6570\u636e\u6c38\u8fdc\u4e0d\u80fd\u88ab\u66f4\u6539\u3002\u8fd9\u79cd\u6a21\u5f0f\u907f\u514d\u4e86\u968f\u673a\u5199\uff0c\u6570\u636e\u5199\u5165\u90fd\u662fBatch\u548cAppend\uff0c\u80fd\u8fbe\u5230\u5f88\u9ad8\u7684\u541e\u5410\u91cf\u3002Segment\u4e2d\u5199\u5165\u7684\u6587\u6863\u4e0d\u53ef\u88ab\u4fee\u6539\uff0c\u4f46\u53ef\u88ab\u5220\u9664\uff0c\u5220\u9664\u7684\u65b9\u5f0f\u4e5f\u4e0d\u662f\u5728\u6587\u4ef6\u5185\u90e8\u539f\u5730\u66f4\u6539\uff0c\u800c\u662f\u4f1a\u7531\u53e6\u5916\u4e00\u4e2a\u6587\u4ef6\u4fdd\u5b58\u9700\u8981\u88ab\u5220\u9664\u7684\u6587\u6863\u7684DocID\uff0c\u4fdd\u8bc1\u6570\u636e\u6587\u4ef6\u4e0d\u53ef\u88ab\u4fee\u6539\u3002Index\u7684\u67e5\u8be2\u9700\u8981\u5bf9\u591a\u4e2aSegment\u8fdb\u884c\u67e5\u8be2\u5e76\u5bf9\u7ed3\u679c\u8fdb\u884c\u5408\u5e76\uff0c\u8fd8\u9700\u8981\u5904\u7406\u88ab\u5220\u9664\u7684\u6587\u6863\uff0c\u4e3a\u4e86\u5bf9\u67e5\u8be2\u8fdb\u884c\u4f18\u5316\uff0cLucene\u4f1a\u6709\u7b56\u7565\u5bf9\u591a\u4e2aSegment\u8fdb\u884c\u5408\u5e76\uff0c\u8fd9\u70b9\u4e0eLSM\u5bf9SSTable\u7684Merge\u7c7b\u4f3c\u3002\\n\\n6. \u53cd\u5411\u7d22\u5f15\\n\u53cd\u5411\u7d22\u5f15\uff0c\u5373\u7531\u5355\u8bcd->\u6587\u6863\u7684\u7d22\u5f15\uff0c\u6bcf\u4e2a\u5355\u8bcd\u5bf9\u5e94\u6587\u6863id\u5217\u8868\uff0c\u4e0e\u6b63\u5411\u7d22\u5f15\u76f8\u53cd\uff08\u6587\u6863->\u5355\u8bcd\uff0c\u6bcf\u4e2a\u6587\u6863\u5bf9\u5e94\u5355\u8bcdid\u5217\u8868\uff09\u3002\u5728\u6ca1\u6709\u641c\u7d22\u5f15\u64ce\u65f6\uff0c\u6211\u4eec\u662f\u76f4\u63a5\u8f93\u5165\u4e00\u4e2a\u7f51\u5740\uff0c\u7136\u540e\u83b7\u53d6\u7f51\u7ad9\u5185\u5bb9\uff0c\u8fd9\u65f6\u6211\u4eec\u7684\u884c\u4e3a\u662f\uff1adocument -> to -> words\u3002 \u901a\u8fc7\u6587\u7ae0\uff0c\u83b7\u53d6\u91cc\u9762\u7684\u5355\u8bcd\uff0c\u6b64\u8c13\u300c\u6b63\u5411\u7d22\u5f15\u300d\uff0cforward index\u3002\u540e\u6765\uff0c\u6211\u4eec\u5e0c\u671b\u80fd\u591f\u8f93\u5165\u4e00\u4e2a\u5355\u8bcd\uff0c\u627e\u5230\u542b\u6709\u8fd9\u4e2a\u5355\u8bcd\uff0c\u6216\u8005\u548c\u8fd9\u4e2a\u5355\u8bcd\u6709\u5173\u7cfb\u7684\u6587\u7ae0\uff1aword -> to -> documents\uff0c\u8fd9\u5c31\u662f\u53cd\u5411\u7d22\u5f15\uff0c\u4e5f\u8bd1\u4e3a\u5012\u6392\u7d22\u5f15\u3002\\n\\n7. \u5206\u8bcd\u5668\\n\u5206\u8bcd\u5668(Analyzer)\u7684\u4f5c\u7528\u662f\u628a\u4e00\u6bb5\u6587\u672c\u4e2d\u7684\u8bcd\u6309\u89c4\u5219\u53d6\u51fa\u6240\u5305\u542b\u7684\u6240\u6709\u8bcd\uff0c\u5bf9\u5e94\u7684\u662fAnalyzer\u7c7b\u3002\u5728\u521b\u5efa\u7d22\u5f15\u7684\u65f6\u5019\u9700\u8981\u7528\u5230\u5206\u8bcd\u5668\uff0c\u5728\u4f7f\u7528\u5b57\u7b26\u4e32\u641c\u7d22\u7684\u65f6\u5019\u4e5f\u4f1a\u7528\u5230\u5206\u8bcd\u5668\uff0c\u5e76\u4e14\u8fd9\u4e24\u4e2a\u5730\u65b9\u8981\u4f7f\u7528\u540c\u4e00\u4e2a\u5206\u8bcd\u5668\uff0c\u5426\u5219\u53ef\u80fd\u4f1a\u641c\u7d22\u4e0d\u51fa\u6765\u7ed3\u679c\u3002lucene\u81ea\u5e26\u7684\u5206\u8bcd\u5668\u5bf9\u4e2d\u6587\u4e0d\u592a\u53cb\u597d\uff0c\\n\u5728Lucene\u4e2d\uff0c\u6709\u591a\u4e2a\u4e2d\u6587\u5206\u8bcd\u5668\u53ef\u4f9b\u9009\u62e9\uff0c\u4ee5\u4e0b\u662f\u5176\u4e2d\u51e0\u4e2a\u5e38\u7528\u7684\u4e2d\u6587\u5206\u8bcd\u5668\uff1a\\n- SmartChineseAnalyzer\uff1a\u8fd9\u662fLucene\u5185\u7f6e\u7684\u4e2d\u6587\u5206\u8bcd\u5668\u4e4b\u4e00\u3002\u5b83\u91c7\u7528\u4e86\u4e2d\u6587\u667a\u80fd\u5207\u5206\u7b97\u6cd5\uff0c\u80fd\u591f\u6839\u636e\u8bed\u4e49\u548c\u4e0a\u4e0b\u6587\u8fdb\u884c\u8bcd\u6c47\u5207\u5206\uff0c\u63d0\u4f9b\u8f83\u597d\u7684\u5206\u8bcd\u6548\u679c\u3002SmartChineseAnalyzer\u652f\u6301\u591a\u79cd\u5206\u8bcd\u6a21\u5f0f\uff0c\u5982\u6700\u7ec6\u7c92\u5ea6\u5207\u5206\u3001\u641c\u7d22\u5f15\u64ce\u5207\u5206\u548cN-\u6700\u77ed\u8def\u5f84\u5207\u5206\u3002\\n\\n- IKAnalyzer\uff1aIKAnalyzer\u662f\u4e00\u4e2a\u7b2c\u4e09\u65b9\u5f00\u6e90\u7684\u4e2d\u6587\u5206\u8bcd\u5668\uff0c\u4e5f\u662fLucene\u751f\u6001\u7cfb\u7edf\u4e2d\u6700\u6d41\u884c\u7684\u4e2d\u6587\u5206\u8bcd\u5668\u4e4b\u4e00\u3002\u5b83\u5177\u6709\u826f\u597d\u7684\u6027\u80fd\u548c\u51c6\u786e\u6027\uff0c\u5e76\u652f\u6301\u591a\u79cd\u5206\u8bcd\u6a21\u5f0f\u3002IKAnalyzer\u8fd8\u63d0\u4f9b\u4e86\u81ea\u5b9a\u4e49\u8bcd\u5178\u548c\u505c\u7528\u8bcd\u8fc7\u6ee4\u7b49\u529f\u80fd\uff0c\u4f7f\u7528\u6237\u53ef\u4ee5\u6839\u636e\u9700\u6c42\u7075\u6d3b\u5730\u8fdb\u884c\u5206\u8bcd\u5b9a\u5236\u3002\\n- Ansj\u5206\u8bcd\u5668\uff1aAnsj\u662f\u53e6\u4e00\u4e2a\u5e38\u7528\u7684\u4e2d\u6587\u5206\u8bcd\u5668\uff0c\u4e5f\u662f\u5f00\u6e90\u7684\u3002\u5b83\u57fa\u4e8eNLP\uff08\u81ea\u7136\u8bed\u8a00\u5904\u7406\uff09\u7b97\u6cd5\u5b9e\u73b0\uff0c\u5177\u6709\u8f83\u597d\u7684\u5206\u8bcd\u6548\u679c\u548c\u6027\u80fd\u3002Ansj\u5206\u8bcd\u5668\u652f\u6301\u7ec6\u7c92\u5ea6\u5207\u5206\u548c\u591a\u79cd\u5206\u8bcd\u6a21\u5f0f\uff0c\u5e76\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u6269\u5c55\u529f\u80fd\uff0c\u5982\u547d\u540d\u5b9e\u4f53\u8bc6\u522b\u3001\u5173\u952e\u8bcd\u63d0\u53d6\u7b49\u3002\\n\\n- Jieba\u5206\u8bcd\u5668\uff1aJieba\u662f\u4e00\u6b3e\u6d41\u884c\u7684Python\u4e2d\u6587\u5206\u8bcd\u5668\uff0c\u4e5f\u6709\u5bf9\u5e94\u7684Java\u7248\u672c\u53ef\u4ee5\u4e0eLucene\u96c6\u6210\u4f7f\u7528\u3002\u5b83\u91c7\u7528\u4e86\u57fa\u4e8eTrie\u6811\u7684\u5206\u8bcd\u7b97\u6cd5\uff0c\u80fd\u591f\u5feb\u901f\u5207\u5206\u4e2d\u6587\u6587\u672c\u3002Jieba\u5206\u8bcd\u5668\u5177\u6709\u826f\u597d\u7684\u6027\u80fd\u548c\u51c6\u786e\u5ea6\uff0c\u5e76\u652f\u6301\u7528\u6237\u81ea\u5b9a\u4e49\u8bcd\u5178\u548c\u505c\u7528\u8bcd\u8fc7\u6ee4\u7b49\u529f\u80fd\u3002\\n\\n\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u9009\u62e9\u5408\u9002\u7684\u4e2d\u6587\u5206\u8bcd\u5668\u53d6\u51b3\u4e8e\u5177\u4f53\u5e94\u7528\u573a\u666f\u548c\u9700\u6c42\u3002\u67d0\u4e9b\u5206\u8bcd\u5668\u53ef\u80fd\u66f4\u9002\u7528\u4e8e\u7279\u5b9a\u7684\u6587\u672c\u7c7b\u578b\u6216\u9886\u57df\uff0c\u56e0\u6b64\u5728\u4f7f\u7528\u4e2d\u6587\u5206\u8bcd\u5668\u65f6\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u4e0d\u540c\u7684\u5206\u8bcd\u5668\u6765\u786e\u5b9a\u6700\u9002\u5408\u81ea\u5df1\u5e94\u7528\u7684\u6548\u679c\u3002\u540c\u65f6\uff0c\u8fd8\u53ef\u4ee5\u7ed3\u5408\u81ea\u5b9a\u4e49\u8bcd\u5178\u548c\u5176\u4ed6\u5206\u6790\u5668\u7ec4\u4ef6\u6765\u8fdb\u4e00\u6b65\u4f18\u5316\u548c\u5b9a\u5236\u5206\u8bcd\u6548\u679c\u3002\\n\\n### 4. \u4ee3\u7801\u793a\u4f8b\\n#### 4.1 \u5f15\u5165\u4f9d\u8d56\\n```html\\n<dependency>\\n\\t<groupId>org.apache.lucene</groupId>\\n\\t<artifactId>lucene-analyzers-smartcn</artifactId>\\n\\t<version>7.6.0</version>\\n</dependency>\\n<dependency>\\n\\t<groupId>org.apache.lucene</groupId>\\n\\t<artifactId>lucene-queryparser</artifactId>\\n\\t<version>7.6.0</version>\\n</dependency>\\n```\\n\\n#### 4.2 \u521b\u5efa\u7d22\u5f15\\n```java\\npublic void createIndex() throws IOException {\\n\\tList<Content> list1 = new ArrayList<>();\\n\\tlist1.add(new Content(null, \\"Java\u9762\u5411\u5bf9\u8c61\\", \\"10\\", null, \\"Java\u9762\u5411\u5bf9\u8c61\u4ece\u5165\u95e8\u5230\u7cbe\u901a,\u7b80\u5355\u4e0a\u624b\\"));\\n\\tlist1.add(new Content(null, \\"Java\u9762\u5411\u5bf9\u8c61java\\", \\"10\\", null, \\"Java\u9762\u5411\u5bf9\u8c61\u4ece\u5165\u95e8\u5230\u7cbe\u901a,\u7b80\u5355\u4e0a\u624b\\"));\\n\\tlist1.add(new Content(null, \\"Java\u9762\u5411\u7f16\u7a0b\\", \\"15\\", null, \\"Java\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u4e66\u7c4d\\"));\\n\\tlist1.add(new Content(null, \\"JavaScript\u5165\u95e8\\", \\"18\\", null, \\"JavaScript\u5165\u95e8\u7f16\u7a0b\u4e66\u7c4d\\"));\\n\\tlist1.add(new Content(null, \\"\u6df1\u5165\u7406\u89e3Java\u7f16\u7a0b\\", \\"13\\", null, \\"\u5341\u4e09\u56db\u5929\u638c\u63e1Java\u57fa\u7840\\"));\\n\\tlist1.add(new Content(null, \\"\u4ece\u5165\u95e8\u5230\u653e\u5f03_Java\\", \\"20\\", null, \\"\u4e00\u95e8\u4ece\u5165\u95e8\u5230\u653e\u5f03\u7684\u4e66\u7c4d\\"));\\n\\tlist1.add(new Content(null, \\"Head First Java\\", \\"30\\", null, \\"\u300aHead First Java\u300b\u662f\u4e00\u672c\u5b8c\u6574\u5730\u9762\u5411\u5bf9\u8c61(object-oriented\uff0cOO)\u7a0b\u5e8f\u8bbe\u8ba1\u548cJava\u7684\u5b66\u4e60\u6307\u5bfc\u7528\u4e66\\"));\\n\\tlist1.add(new Content(null, \\"Java \u6838\u5fc3\u6280\u672f\uff1a\u53771 \u57fa\u7840\u77e5\u8bc6\\", \\"22\\", null, \\"\u5168\u4e66\u517114\u7ae0\uff0c\u5305\u62ecJava\u57fa\u672c\u7684\u7a0b\u5e8f\u7ed3\u6784\u3001\u5bf9\u8c61\u4e0e\u7c7b\u3001\u7ee7\u627f\u3001\u63a5\u53e3\u4e0e\u5185\u90e8\u7c7b\u3001\u56fe\u5f62\u7a0b\u5e8f\u8bbe\u8ba1\u3001\u4e8b\u4ef6\u5904\u7406\u3001Swing\u7528\u6237\u754c\u9762\u7ec4\u4ef6\\"));\\n\\tlist1.add(new Content(null, \\"Java \u7f16\u7a0b\u601d\u60f3\\", \\"12\\", null, \\"\u672c\u4e66\u8d62\u5f97\u4e86\u5168\u7403\u7a0b\u5e8f\u5458\u7684\u5e7f\u6cdb\u8d5e\u8a89\uff0c\u5373\u4f7f\u662f\u6700\u6666\u6da9\u7684\u6982\u5ff5\uff0c\u5728Bruce Eckel\u7684\u6587\u5b57\u4eb2\u548c\u529b\u548c\u5c0f\u800c\u76f4\u63a5\u7684\u7f16\u7a0b\u793a\u4f8b\u9762\u524d\u4e5f\u4f1a\u5316\u89e3\u4e8e\u65e0\u5f62\\"));\\n\\tlist1.add(new Content(null, \\"Java\u5f00\u53d1\u5b9e\u6218\u7ecf\u5178\\", \\"51\\", null, \\"\u672c\u4e66\u662f\u4e00\u672c\u7efc\u5408\u8bb2\u89e3Java\u6838\u5fc3\u6280\u672f\u7684\u4e66\u7c4d\uff0c\u5728\u4e66\u4e2d\u4f7f\u7528\u5927\u91cf\u7684\u4ee3\u7801\u53ca\u6848\u4f8b\u8fdb\u884c\u77e5\u8bc6\u70b9\u7684\u5206\u6790\u4e0e\u8fd0\u7528\\"));\\n\\tlist1.add(new Content(null, \\"Effective Java\\", \\"10\\", null, \\"\u672c\u4e66\u4ecb\u7ecd\u4e86\u5728Java\u7f16\u7a0b\u4e2d57\u6761\u6781\u5177\u5b9e\u7528\u4ef7\u503c\u7684\u7ecf\u9a8c\u89c4\u5219\uff0c\u8fd9\u4e9b\u7ecf\u9a8c\u89c4\u5219\u6db5\u76d6\u4e86\u5927\u591a\u6570\u5f00\u53d1\u4eba\u5458\u6bcf\u5929\u6240\u9762\u4e34\u7684\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6848\\"));\\n\\tlist1.add(new Content(null, \\"\u5206\u5e03\u5f0f Java \u5e94\u7528\uff1a\u57fa\u7840\u4e0e\u5b9e\u8df5\\", \\"14\\", null, \\"\u672c\u4e66\u4ecb\u7ecd\u4e86\u7f16\u5199\u5206\u5e03\u5f0fJava\u5e94\u7528\u6d89\u53ca\u7684\u4f17\u591a\u77e5\u8bc6\u70b9\uff0c\u5206\u4e3a\u4e86\u57fa\u4e8eJava\u5b9e\u73b0\u7f51\u7edc\u901a\u4fe1\u3001RPC;\u57fa\u4e8eSOA\u5b9e\u73b0\u5927\u578b\u5206\u5e03\u5f0fJava\u5e94\u7528\\"));\\n\\tlist1.add(new Content(null, \\"http\u6743\u5a01\u6307\u5357\\", \\"11\\", null, \\"\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae(Hypertext Transfer Protocol\uff0cHTTP)\u662f\u5728\u4e07\u7ef4\u7f51\u4e0a\u8fdb\u884c\u901a\u4fe1\u65f6\u6240\u4f7f\u7528\u7684\u534f\u8bae\u65b9\u6848\\"));\\n\\tlist1.add(new Content(null, \\"Spring\\", \\"15\\", null, \\"\u8fd9\u662f\u5565\uff0c\u8fd8\u9700\u8981\u5b66\u4e60\u5417\uff1fJava\u7a0b\u5e8f\u5458\u5fc5\u5907\u4e66\u7c4d\\"));\\n\\tlist1.add(new Content(null, \\"\u6df1\u5165\u7406\u89e3 Java \u865a\u62df\u673a\\", \\"18\\", null, \\"\u4f5c\u4e3a\u4e00\u4f4dJava\u7a0b\u5e8f\u5458\uff0c\u4f60\u662f\u5426\u4e5f\u66fe\u7ecf\u60f3\u6df1\u5165\u7406\u89e3Java\u865a\u62df\u673a\uff0c\u4f46\u662f\u5374\u88ab\u5b83\u7684\u590d\u6742\u548c\u6df1\u5965\u62d2\u4e4b\u95e8\u5916\\"));\\n\\tlist1.add(new Content(null, \\"springboot\u5b9e\u6218\\", \\"11\\", null, \\"\u5b8c\u6210\u5bf9\u4e8espringboot\u7684\u7406\u89e3\uff0c\u662f\u6bcf\u4e2aJava\u7a0b\u5e8f\u5458\u5fc5\u5907\u7684\u59ff\u52bf\\"));\\n\\tlist1.add(new Content(null, \\"springmvc\u5b66\u4e60\\", \\"72\\", null, \\"springmvc\u5b66\u4e60\u6307\u5357\\"));\\n\\tlist1.add(new Content(null, \\"vue\u5165\u95e8\u5230\u653e\u5f03\\", \\"20\\", null, \\"vue\u5165\u95e8\u5230\u653e\u5f03\u4e66\u7c4d\u4fe1\u606f\\"));\\n\\tlist1.add(new Content(null, \\"vue\u5165\u95e8\u5230\u7cbe\u901a\\", \\"20\\", null, \\"vue\u5165\u95e8\u5230\u7cbe\u901a\u76f8\u5173\u4e66\u7c4d\u4fe1\u606f\\"));\\n\\tlist1.add(new Content(null, \\"vue\u4e4b\u65c5\\", \\"20\\", null, \\"\u7531\u6d45\u5165\u6df1\u5730\u5168\u9762\u4ecb\u7ecdvue\u6280\u672f\uff0c\u5305\u542b\u5927\u91cf\u6848\u4f8b\u4e0e\u4ee3\u7801\\"));\\n\\tlist1.add(new Content(null, \\"vue\u5b9e\u6218\\", \\"20\\", null, \\"\u4ee5\u5b9e\u6218\u4e3a\u5bfc\u5411\uff0c\u7cfb\u7edf\u8bb2\u89e3\u5982\u4f55\u4f7f\u7528 \\"));\\n\\tlist1.add(new Content(null, \\"vue\u5165\u95e8\u4e0e\u5b9e\u8df5\\", \\"20\\", null, \\"\u73b0\u5df2\u5f97\u5230\u82f9\u679c\u3001\u5fae\u8f6f\u3001\u8c37\u6b4c\u7b49\u4e3b\u6d41\u5382\u5546\u5168\u9762\u652f\u6301\\"));\\n\\tlist1.add(new Content(null, \\"Vue.js\u5e94\u7528\u6d4b\u8bd5\\", \\"20\\", null, \\"Vue.js\u521b\u59cb\u4eba\u5c24\u96e8\u6eaa\u9f0e\u529b\u63a8\u8350\uff01Vue\u5b98\u65b9\u6d4b\u8bd5\u5de5\u5177\u4f5c\u8005\u4eb2\u7b14\u64b0\u5199\uff0cVue.js\u5e94\u7528\u6d4b\u8bd5\u5b8c\u5168\u5b66\u4e60\u6307\u5357\\"));\\n\\tlist1.add(new Content(null, \\"PHP\u548cMySQL Web\u5f00\u53d1\\", \\"20\\", null, \\"\u672c\u4e66\u662f\u5229\u7528PHP\u548cMySQL\u6784\u5efa\u6570\u636e\u5e93\u9a71\u52a8\u7684Web\u5e94\u7528\u7a0b\u5e8f\u7684\u6743\u5a01\u6307\u5357\\"));\\n\\tlist1.add(new Content(null, \\"Web\u9ad8\u6548\u7f16\u7a0b\u4e0e\u4f18\u5316\u5b9e\u8df5\\", \\"20\\", null, \\"\u4ece\u601d\u60f3\u63d0\u5347\u548c\u5185\u5bb9\u4fee\u70bc\u4e24\u4e2a\u7ef4\u5ea6\uff0c\u56f4\u7ed5\u524d\u7aef\u5de5\u7a0b\u5e08\u5fc5\u5907\u7684\u524d\u7aef\u6280\u672f\u548c\u7f16\u7a0b\u57fa\u7840\\"));\\n\\tlist1.add(new Content(null, \\"Vue.js 2.x\u5b9e\u8df5\u6307\u5357\\", \\"20\\", null, \\"\u672c\u4e66\u65e8\u5728\u8ba9\u521d\u5b66\u8005\u80fd\u591f\u5feb\u901f\u4e0a\u624bvue\u6280\u672f\u6808\uff0c\u5e76\u80fd\u591f\u5229\u7528\u6240\u5b66\u77e5\u8bc6\u72ec\u7acb\u52a8\u624b\u8fdb\u884c\u9879\u76ee\u5f00\u53d1\\"));\\n\\tlist1.add(new Content(null, \\"\u521d\u59cbvue\\", \\"20\\", null, \\"\u89e3\u5f00vue\u7684\u9762\u7eb1\\"));\\n\\tlist1.add(new Content(null, \\"\u4ec0\u4e48\u662fvue\\", \\"20\\", null, \\"\u4e00\u6b65\u4e00\u6b65\u7684\u4e86\u89e3vue\u76f8\u5173\u4fe1\u606f\\"));\\n\\tlist1.add(new Content(null, \\"\u6df1\u5165\u6d45\u51favue\\", \\"20\\", null, \\"\u6df1\u5165\u6d45\u51favue\uff0c\u6162\u6162\u638c\u63e1\\"));\\n\\tlist1.add(new Content(null, \\"\u4e09\u5929vue\u5b9e\u6218\\", \\"20\\", null, \\"\u4e09\u5929\u638c\u63e1vue\u5f00\u53d1\\"));\\n\\tlist1.add(new Content(null, \\"\u4e0d\u77e5\u706b\u821e\\", \\"20\\", null, \\"\u4e0d\u77e5\u540d\u7684vue\\"));\\n\\tlist1.add(new Content(null, \\"\u5a1c\u53ef\u9732\u9732\\", \\"20\\", null, \\"\u4e00\u62db\u79d2\u4eba\\"));\\n\\tlist1.add(new Content(null, \\"\u5bab\u672c\u6b66\u85cf\\", \\"20\\", null, \\"\u6211\u5c31\u662f\u4e00\u4e2a\u8d85\u7ea7\u5175\\"));\\n\\tlist1.add(new Content(null, \\"vue\u5bab\u672cvue\\", \\"20\\", null, \\"\u6211\u5c31\u662f\u4e00\u4e2a\u8d85\u7ea7\u5175\\"));\\n\\tlist1.add(new Content(null, \\"\u57ce\u533a\\", \\"20\\", null, \\"\u798f\u5efa\u7701\u6cc9\u5dde\u5e02\u9ca4\u57ce\u533a\\"));\\n\\n\\t// \u521b\u5efa\u6587\u6863\u7684\u96c6\u5408\\n\\tList<Document> docs = new ArrayList<>();\\n\\tfor (int i = 0; i < list1.size(); i++) {\\n\\t\\t//contentMapper.insertSelective(list1.get(i));\\n\\t\\t// \u521b\u5efa\u6587\u6863\u5bf9\u8c61\\n\\t\\tDocument document = new Document();\\n\\t\\t//StringField\u4f1a\u521b\u5efa\u7d22\u5f15\uff0c\u4f46\u662f\u4e0d\u4f1a\u88ab\u5206\u8bcd\uff0cTextField\uff0c\u5373\u521b\u5efa\u7d22\u5f15\u53c8\u4f1a\u88ab\u5206\u8bcd\u3002\\n\\t\\tdocument.add(new StringField(\\"id\\", (i + 1) + \\"\\", Field.Store.YES));\\n\\t\\tdocument.add(new TextField(\\"title\\", list1.get(i).getTitle(), Field.Store.YES));\\n\\t\\tdocument.add(new TextField(\\"price\\", list1.get(i).getPrice(), Field.Store.YES));\\n\\t\\tdocument.add(new TextField(\\"descs\\", list1.get(i).getDescs(), Field.Store.YES));\\n\\t\\tdocs.add(document);\\n\\t}\\n\\n\\t// \u7d22\u5f15\u76ee\u5f55\u7c7b,\u6307\u5b9a\u7d22\u5f15\u5728\u786c\u76d8\u4e2d\u7684\u4f4d\u7f6e\uff0c\u6211\u7684\u8bbe\u7f6e\u4e3aD\u76d8\u7684indexDir\u6587\u4ef6\u5939\\n\\tDirectory directory = FSDirectory.open(FileSystems.getDefault().getPath(searchPath));\\n\\t// \u5f15\u5165IK\u5206\u8bcd\u5668\\n\\tAnalyzer analyzer = new SmartChineseAnalyzer();\\n\\t// \u7d22\u5f15\u5199\u51fa\u5de5\u5177\u7684\u914d\u7f6e\u5bf9\u8c61\uff0c\u8fd9\u4e2a\u5730\u65b9\u5c31\u662f\u6700\u4e0a\u9762\u62a5\u9519\u7684\u95ee\u9898\u89e3\u51b3\u65b9\u6848\\n\\tIndexWriterConfig conf = new IndexWriterConfig(analyzer);\\n\\t// \u8bbe\u7f6e\u6253\u5f00\u65b9\u5f0f\uff1aOpenMode.APPEND \u4f1a\u5728\u7d22\u5f15\u5e93\u7684\u57fa\u7840\u4e0a\u8ffd\u52a0\u65b0\u7d22\u5f15\u3002OpenMode.CREATE\u4f1a\u5148\u6e05\u7a7a\u539f\u6765\u6570\u636e\uff0c\u518d\u63d0\u4ea4\u65b0\u7684\u7d22\u5f15\\n\\tconf.setOpenMode(IndexWriterConfig.OpenMode.CREATE);\\n\\t// \u521b\u5efa\u7d22\u5f15\u7684\u5199\u51fa\u5de5\u5177\u7c7b\u3002\u53c2\u6570\uff1a\u7d22\u5f15\u7684\u76ee\u5f55\u548c\u914d\u7f6e\u4fe1\u606f\\n\\tIndexWriter indexWriter = new IndexWriter(directory, conf);\\n\\t// \u628a\u6587\u6863\u96c6\u5408\u4ea4\u7ed9IndexWriter\\n\\tindexWriter.addDocuments(docs);\\n\\t// \u63d0\u4ea4\\n\\tindexWriter.commit();\\n\\t// \u5173\u95ed\\n\\tindexWriter.close();\\n}\\n```\\n\\n#### 4.3 \u641c\u7d22\\n```java\\npublic List<Content> searchText(String keyword) throws IOException, ParseException {\\n\\tDirectory directory = FSDirectory.open(FileSystems.getDefault().getPath(searchPath));\\n\\t// \u7d22\u5f15\u8bfb\u53d6\u5de5\u5177\\n\\tIndexReader reader = DirectoryReader.open(directory);\\n\\t// \u7d22\u5f15\u641c\u7d22\u5de5\u5177\\n\\tIndexSearcher searcher = new IndexSearcher(reader);\\n\\t// \u521b\u5efa\u67e5\u8be2\u89e3\u6790\u5668,\u4e24\u4e2a\u53c2\u6570\uff1a\u9ed8\u8ba4\u8981\u67e5\u8be2\u7684\u5b57\u6bb5\u7684\u540d\u79f0\uff0c\u5206\u8bcd\u5668\\n\\tQueryParser parser = new QueryParser(\\"descs\\", new SmartChineseAnalyzer());\\n\\t// \u521b\u5efa\u67e5\u8be2\u5bf9\u8c61\\n\\tQuery query = parser.parse(keyword);\\n\\t// \u83b7\u53d6\u524d\u5341\u6761\u8bb0\u5f55\\n\\tTopDocs topDocs = searcher.search(query, 10);\\n\\t// \u83b7\u53d6\u603b\u6761\u6570\\n\\tSystem.out.println(\\"\u672c\u6b21\u641c\u7d22\u5171\u627e\u5230\\" + topDocs.totalHits + \\"\u6761\u6570\u636e\\");\\n\\t// \u83b7\u53d6\u5f97\u5206\u6587\u6863\u5bf9\u8c61\uff08ScoreDoc\uff09\u6570\u7ec4.SocreDoc\u4e2d\u5305\u542b\uff1a\u6587\u6863\u7684\u7f16\u53f7\u3001\u6587\u6863\u7684\u5f97\u5206\\n\\tScoreDoc[] scoreDocs = topDocs.scoreDocs;\\n\\tList<Content> list = new ArrayList<>();\\n\\tfor (ScoreDoc scoreDoc : scoreDocs) {\\n\\t\\t// \u53d6\u51fa\u6587\u6863\u7f16\u53f7\\n\\t\\tint docID = scoreDoc.doc;\\n\\t\\t// \u6839\u636e\u7f16\u53f7\u53bb\u627e\u6587\u6863\\n\\t\\tDocument doc = reader.document(docID);\\n\\t\\t//Content content = contentMapper.selectByPrimaryKey(doc.get(\\"id\\"));\\n\\t\\tContent content = new Content();\\n\\t\\tcontent.setId(Integer.valueOf(doc.get(\\"id\\")));\\n\\t\\tcontent.setTitle(doc.get(\\"title\\"));\\n\\t\\tcontent.setDescs(doc.get(\\"descs\\"));\\n\\t\\tlist.add(content);\\n\\t}\\n\\treturn list;\\n}\\n```\\n\\n#### 4.4 \u5220\u9664\u7d22\u5f15\\n```java\\npublic void deleteIndex() throws IOException {\\n\\t// \u521b\u5efa\u76ee\u5f55\u5bf9\u8c61\\n\\tDirectory directory = FSDirectory.open(FileSystems.getDefault().getPath(searchPath));\\n\\t// \u521b\u5efa\u914d\u7f6e\u5bf9\u8c61\\n\\tIndexWriterConfig conf = new IndexWriterConfig(new SmartChineseAnalyzer());\\n\\t// \u521b\u5efa\u7d22\u5f15\u5199\u51fa\u5de5\u5177\\n\\tIndexWriter writer = new IndexWriter(directory, conf);\\n\\t// \u6839\u636e\u8bcd\u6761\u8fdb\u884c\u5220\u9664\\n\\twriter.deleteAll();\\n\\t//        writer.deleteDocuments(new Term(\\"id\\", \\"34\\"));\\n\\t// \u63d0\u4ea4\\n\\twriter.commit();\\n\\t// \u5173\u95ed\\n\\twriter.close();\\n}\\n```"},{"id":"java-zip-wr","metadata":{"permalink":"/blog/java-zip-wr","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2023/06-01-java\u8bfb\u5199zip\u538b\u7f29\u5305.md","source":"@site/blog/2023/06-01-java\u8bfb\u5199zip\u538b\u7f29\u5305.md","title":"java\u8bfb\u5199zip\u538b\u7f29\u5305","description":"zip\u538b\u7f29\u662f\u4e00\u79cd\u5e38\u7528\u7684\u6587\u4ef6\u538b\u7f29\u65b9\u5f0f\uff0c\u7ecf\u5e38\u9700\u8981\u4f7f\u7528\u8fd9\u79cd\u6587\u4ef6\u6765\u4f20\u8f93\u548c\u5b58\u50a8\u4fe1\u606f\u3002","date":"2023-06-01T00:00:00.000Z","formattedDate":"2023\u5e746\u67081\u65e5","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"io","permalink":"/blog/tags/io"},{"label":"zip","permalink":"/blog/tags/zip"}],"readingTime":1.0433333333333332,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"java-zip-wr","title":"java\u8bfb\u5199zip\u538b\u7f29\u5305","date":"2023-06-01T00:00:00.000Z","authors":"yuchengee","tags":["java","io","zip"]},"unlisted":false,"prevItem":{"title":"lucene\u7b80\u5355\u4f7f\u7528","permalink":"/blog/java-lucene-search"},"nextItem":{"title":"java\u4e2dFuture\u7528\u6cd5","permalink":"/blog/java-future-thread"}},"content":"zip\u538b\u7f29\u662f\u4e00\u79cd\u5e38\u7528\u7684\u6587\u4ef6\u538b\u7f29\u65b9\u5f0f\uff0c\u7ecf\u5e38\u9700\u8981\u4f7f\u7528\u8fd9\u79cd\u6587\u4ef6\u6765\u4f20\u8f93\u548c\u5b58\u50a8\u4fe1\u606f\u3002\\n\\n\u672c\u6587\u8bb0\u5f55java\u4e2d\u8bfb\u5199zip\u538b\u7f29\u5305\u7684\u65b9\u5f0f\u3002\\n\x3c!--truncate--\x3e\\n### \u8bfb\u538b\u7f29\u5305\\n\u8bfb\u53d6\u6587\u672c\\n```java\\npublic static List<String> readDataFromZip(File zipFile, String entryKey) {\\n        List<String> lines = new ArrayList<>();\\n        if (!zipFile.exists()) return lines;\\n        try (ZipFile zf = new ZipFile(zipFile);\\n             BufferedReader br = new BufferedReader(new InputStreamReader(zf.getInputStream(new ZipEntry(entryKey)), StandardCharsets.UTF_8))) {\\n            String line;\\n            while ((line = br.readLine()) != null) {\\n                lines.add(line);\\n            }\\n            return lines;\\n        } catch (ZipException e) {\\n            throw new RuntimeException(e);\\n        } catch (IOException e) {\\n            throw new RuntimeException(e);\\n        }\\n}\\n\\nList<String> data = readDataFromZip(new File(\\"/data/data.zip\\"), \\"1/2.txt\\");\\n```\\n\\n\u8bfb\u53d6\u56fe\u7247\\n```java\\npublic static BufferedImage readImageFromZip(File zipFile, String tileKey) {\\n        if (!zipFile.exists()) return null;\\n        try (ZipFile zf = new ZipFile(zipFile)) {\\n            ZipEntry entry = zf.getEntry(tileKey);\\n            return ImageIO.read(zf.getInputStream(entry));\\n        } catch (ZipException e) {\\n            throw new RuntimeException(e);\\n        } catch (IOException e) {\\n            throw new RuntimeException(e);\\n        }\\n}\\n\\nBufferedImage bufferedImage = readImageFromZip(new File(\\"/data/img.zip\\"), \\"16/51701-26893.png\\");\\n```\\n\\n### \u5199\u538b\u7f29\u5305\\n\u5199\u6587\u672c\\n```java\\npublic static void writeDataToZip(List<String> datas, String zipPath) {\\n        try (ZipOutputStream out = new ZipOutputStream(new FileOutputStream(CfgManager.checkUpPathStr(zipPath)), StandardCharsets.UTF_8);\\n             BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(out, StandardCharsets.UTF_8))) {\\n            out.putNextEntry(new ZipEntry(\\"data\\" + File.separator + \\"1\\"));\\n            for (String data : datas) {\\n                bw.write(data);\\n                bw.newLine();\\n            }\\n            bw.flush();\\n            out.flush();\\n        } catch (FileNotFoundException e) {\\n            throw new RuntimeException(e);\\n        } catch (IOException e) {\\n            throw new RuntimeException(e);\\n        }\\n\\n}\\n\\n\\twriteDataToZip(Lists.newArrayList(\\"aaaa\\", \\"bbb\\"), \\"/data/a.zip\\");\\n```\\n\u5199\u56fe\u7247\\n```java\\n public static void writeImgToZip(BufferedImage image, String zipPath) {\\n        try (ZipOutputStream out = new ZipOutputStream(new FileOutputStream(CfgManager.checkUpPathStr(zipPath)), StandardCharsets.UTF_8)) {\\n            out.putNextEntry(new ZipEntry(\\"data\\" + File.separator + \\"aa.png\\"));\\n            ImageIO.write(image, \\"png\\", out);\\n            out.flush();\\n        } catch (FileNotFoundException e) {\\n            throw new RuntimeException(e);\\n        } catch (IOException e) {\\n            throw new RuntimeException(e);\\n        }\\n\\n }\\n\\n\\tBufferedImage imgage = ImageIO.read(new File(\\"/data/aa.png\\"));\\n\\twriteImgToZip(imgage, \\"/data/img.zip\\");\\n```"},{"id":"java-future-thread","metadata":{"permalink":"/blog/java-future-thread","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2023/05-23-java\u4e2dFuture\u7528\u6cd5.md","source":"@site/blog/2023/05-23-java\u4e2dFuture\u7528\u6cd5.md","title":"java\u4e2dFuture\u7528\u6cd5","description":"java\u4e2dfuture\u7528\u6cd5","date":"2023-05-23T00:00:00.000Z","formattedDate":"2023\u5e745\u670823\u65e5","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"\u591a\u7ebf\u7a0b","permalink":"/blog/tags/\u591a\u7ebf\u7a0b"},{"label":"\u9ad8\u5e76\u53d1","permalink":"/blog/tags/\u9ad8\u5e76\u53d1"},{"label":"future","permalink":"/blog/tags/future"}],"readingTime":0.6566666666666666,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"java-future-thread","title":"java\u4e2dFuture\u7528\u6cd5","date":"2023-05-23T00:00:00.000Z","authors":"yuchengee","tags":["java","\u591a\u7ebf\u7a0b","\u9ad8\u5e76\u53d1","future"]},"unlisted":false,"prevItem":{"title":"java\u8bfb\u5199zip\u538b\u7f29\u5305","permalink":"/blog/java-zip-wr"},"nextItem":{"title":"geotools\u5feb\u901f\u5f00\u59cb","permalink":"/blog/geotools-start"}},"content":"java\u4e2dfuture\u7528\u6cd5\\n\u5728Java\u7f16\u7a0b\u4e2d\uff0cFuture\u662f\u4e00\u4e2a\u63a5\u53e3\uff0c\u7528\u4e8e\u8868\u793a\u4e00\u4e2a\u5f02\u6b65\u8ba1\u7b97\u7684\u7ed3\u679c\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u79cd\u83b7\u53d6\u5f02\u6b65\u64cd\u4f5c\u7ed3\u679c\u7684\u65b9\u5f0f\uff0c\u5e76\u4e14\u53ef\u4ee5\u5728\u672a\u6765\u7684\u67d0\u4e2a\u65f6\u95f4\u70b9\u68c0\u67e5\u4efb\u52a1\u662f\u5426\u5df2\u7ecf\u5b8c\u6210\u3002\\n  \\n\u672c\u6587\u4ecb\u7ecdFuture\u7684\u7528\u6cd5\u3002\\n\x3c!--truncate--\x3e\\n```java\\nimport java.util.concurrent.ExecutionException;\\nimport java.util.concurrent.ExecutorService;\\nimport java.util.concurrent.Executors;\\nimport java.util.concurrent.Future;\\n\\npublic class FutureTest {\\n    public static void main(String[] args) {\\n        ExecutorService executor = Executors.newFixedThreadPool(2);\\n        // \u5f02\u6b65\u5411\u7535\u5546S1\u8be2\u4ef7\\n        Future<Integer> f1 = executor.submit(() -> {\\n            Thread.sleep(2000);\\n            return 1000;\\n        });\\n        // \u5f02\u6b65\u5411\u7535\u5546S2\u8be2\u4ef7\\n        Future<Integer> f2 = executor.submit(() -> {\\n            return 999;\\n        });\\n        // \u83b7\u53d6\u7535\u5546S1\u62a5\u4ef7\u5e76\u5f02\u6b65\u8f93\u51fa\\n        executor.execute(() -> print(f1));\\n        // \u83b7\u53d6\u7535\u5546S2\u62a5\u4ef7\u5e76\u5f02\u6b65\u8f93\u51fa\\n        executor.execute(() -> print(f2));\\n\\n        executor.shutdown();\\n    }\\n\\n    public static void print(Future<Integer> f) {\\n        try {\\n            System.out.println(f.get());\\n        } catch (InterruptedException e) {\\n            e.printStackTrace();\\n        } catch (ExecutionException e) {\\n            e.printStackTrace();\\n        }\\n    }\\n}\\n```"},{"id":"geotools-start","metadata":{"permalink":"/blog/geotools-start","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2023/05-07-geotools\u5feb\u901f\u5f00\u59cb.md","source":"@site/blog/2023/05-07-geotools\u5feb\u901f\u5f00\u59cb.md","title":"geotools\u5feb\u901f\u5f00\u59cb","description":"Geotools \u662f\u4e00\u4e2a\u7528\u4e8e\u5904\u7406\u5730\u7406\u7a7a\u95f4\u6570\u636e\u7684\u5f00\u6e90 Java \u5e93\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u5957\u529f\u80fd\u4e30\u5bcc\u7684\u5de5\u5177\u548cAPI\uff0c\u7528\u4e8e\u8bfb\u53d6\u3001\u5199\u5165\u3001\u5206\u6790\u548c\u64cd\u4f5c\u5730\u7406\u4fe1\u606f\u7cfb\u7edf\uff08GIS\uff09\u6570\u636e\u3002","date":"2023-05-07T00:00:00.000Z","formattedDate":"2023\u5e745\u67087\u65e5","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"geotools","permalink":"/blog/tags/geotools"},{"label":"\u5730\u7406","permalink":"/blog/tags/\u5730\u7406"},{"label":"\u5730\u56fe\u76f8\u5173","permalink":"/blog/tags/\u5730\u56fe\u76f8\u5173"}],"readingTime":2.7733333333333334,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"geotools-start","title":"geotools\u5feb\u901f\u5f00\u59cb","date":"2023-05-07T00:00:00.000Z","authors":"yuchengee","tags":["java","geotools","\u5730\u7406","\u5730\u56fe\u76f8\u5173"]},"unlisted":false,"prevItem":{"title":"java\u4e2dFuture\u7528\u6cd5","permalink":"/blog/java-future-thread"},"nextItem":{"title":"junit\u6d4b\u8bd5\u63a5\u53e3","permalink":"/blog/junit-springboot"}},"content":"Geotools \u662f\u4e00\u4e2a\u7528\u4e8e\u5904\u7406\u5730\u7406\u7a7a\u95f4\u6570\u636e\u7684\u5f00\u6e90 Java \u5e93\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u5957\u529f\u80fd\u4e30\u5bcc\u7684\u5de5\u5177\u548cAPI\uff0c\u7528\u4e8e\u8bfb\u53d6\u3001\u5199\u5165\u3001\u5206\u6790\u548c\u64cd\u4f5c\u5730\u7406\u4fe1\u606f\u7cfb\u7edf\uff08GIS\uff09\u6570\u636e\u3002\\n  \\nGeotools \u662f\u4e00\u4e2a\u6210\u719f\u4e14\u529f\u80fd\u5f3a\u5927\u7684 GIS \u5e93\uff0c\u9002\u7528\u4e8e\u5404\u79cd\u5730\u7406\u7a7a\u95f4\u6570\u636e\u5904\u7406\u548c\u5206\u6790\u7684\u5e94\u7528\u573a\u666f\uff0c\u5305\u62ec\u5730\u56fe\u5236\u4f5c\u3001\u7a7a\u95f4\u6570\u636e\u7ba1\u7406\u3001\u5730\u7406\u6570\u636e\u5206\u6790\u3001\u4f4d\u7f6e\u667a\u80fd\u7b49\u3002\u5b83\u662f\u4e00\u4e2a\u5f00\u6e90\u9879\u76ee\uff0c\u5177\u6709\u6d3b\u8dc3\u7684\u793e\u533a\u652f\u6301\u548c\u5e7f\u6cdb\u7684\u7528\u6237\u57fa\u7840\u3002\u60a8\u53ef\u4ee5\u8bbf\u95ee Geotools \u7684[\u5b98\u65b9\u7f51\u7ad9](https://geotools.org \\"\u5b98\u65b9\u7f51\u7ad9\\")\\n\u672c\u6587\u8bb0\u5f55geotools\u7684\u7b80\u5355\u4f7f\u7528\u53casld\u6837\u5f0f\u8bfb\u53d6\u3002\u540e\u7eed\u4f1a\u6709\u66f4\u591a\u5173\u4e8egeotools\u5185\u5bb9\u3002\\n\x3c!--truncate--\x3e\\n\\n### 1. \u4f9d\u8d56\\ngeotools\u6709\u5f88\u591a\u4f9d\u8d56jar\u5305\uff0c\u53ef\u4ee5\u4f7f\u7528maven\u5bfc\u5165\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5728\u5b98\u7f51\u4e0b\u8f7d\u3002[\u5b98\u65b9\u4e0b\u8f7d\u5730\u5740](https://sourceforge.net/projects/geotools/files/ \\"\u5b98\u65b9\u4e0b\u8f7d\u5730\u5740\\")\\n\u76f4\u63a5\u4e0b\u8f7d\u5b98\u65b9\u5305\uff0c\u538b\u7f29\u5305\u5185\u7684lib\u5c31\u662f\u9700\u8981\u7684\u5168\u90e8\u4f9d\u8d56\uff0c\u4f7f\u7528\u7684\u65f6\u5019\u5c06lib\u52a0\u5165\u5de5\u7a0b\u5373\u53ef\u3002\\n\\n### 2. \u4ee3\u7801\u793a\u4f8b\\n\u672c\u6587\u4f7f\u7528\u7684geotools\u7248\u672c\u4e3a14.5\\n```java\\nimport com.vividsolutions.jts.geom.Geometry;\\nimport com.vividsolutions.jts.io.ParseException;\\nimport com.vividsolutions.jts.io.WKTReader;\\nimport cyu.geotools.utils.SLDUtils;\\nimport org.geotools.data.collection.ListFeatureCollection;\\nimport org.geotools.data.simple.SimpleFeatureCollection;\\nimport org.geotools.feature.simple.SimpleFeatureBuilder;\\nimport org.geotools.feature.simple.SimpleFeatureTypeBuilder;\\nimport org.geotools.map.FeatureLayer;\\nimport org.geotools.map.Layer;\\nimport org.geotools.map.MapContent;\\nimport org.geotools.styling.Style;\\nimport org.geotools.swing.JMapFrame;\\nimport org.opengis.feature.simple.SimpleFeature;\\nimport org.opengis.feature.simple.SimpleFeatureType;\\n\\nimport java.io.File;\\nimport java.util.ArrayList;\\nimport java.util.List;\\n\\npublic class HelloGeo {\\n    public static void main(String[] args) throws ParseException {\\n        String filed1 = \\"type\\";\\n        // \u6784\u5efa\u5143\u7d20\u7684type\uff0c\u5176\u4e2d\u5305\u542b feature \u7684\u5168\u90e8\u5c5e\u6027\u548c\u56fe\u5f62\u5c5e\u6027\\n        SimpleFeatureTypeBuilder typeBuilder = new SimpleFeatureTypeBuilder();\\n        typeBuilder.setName(\\"location\\");\\n        typeBuilder.add(\\"geom\\", Geometry.class);\\n        typeBuilder.add(filed1, String.class);\\n        SimpleFeatureType type = typeBuilder.buildFeatureType();\\n\\n        SimpleFeatureBuilder featureBuilder = new SimpleFeatureBuilder(type);\\n        // wkt\u6570\u636e\u683c\u5f0f\u8bfb\u53d6\u5668\\n        WKTReader wktReader = new WKTReader();\\n        List<SimpleFeature> features = new ArrayList<>();\\n\\n        featureBuilder.set(filed1, \\"line\\");\\n        featureBuilder.set(\\"geom\\", wktReader.read(\\"LINESTRING (-2 -2, 2 2)\\"));\\n        features.add(featureBuilder.buildFeature(\\"2\\"));\\n\\n        featureBuilder.set(filed1, \\"polygon\\");\\n        featureBuilder.set(\\"geom\\", wktReader.read(\\"POLYGON ((-1 -1, 1 -1, 1 1, -1 1, -1 -1))\\"));\\n        features.add(featureBuilder.buildFeature(\\"3\\"));\\n\\n        featureBuilder.set(filed1, \\"point\\");\\n        featureBuilder.set(\\"geom\\", wktReader.read(\\"POINT (0 0)\\"));\\n        features.add(featureBuilder.buildFeature(\\"1\\"));\\n        // \u5b58\u50a8\u5168\u90e8feature\u7684\u96c6\u5408\\n        SimpleFeatureCollection featureCollection = new ListFeatureCollection(type, features);\\n        // \u6700\u7b80\u5355\u7684sld\u6837\u5f0f,\u5982\u679c\u60f3\u8981\u4f7f\u5730\u56fe\u66f4\u597d\u770b\uff0c\u9700\u8981\u590d\u6742\u7684\u6837\u5f0f\uff0c\u9700\u8981\u5b66\u4e60sld\u77e5\u8bc6\\n        Style style = SLDUtils.getStyle(new File(\\"src/atest/in/common.xml\\"));\\n\\n        // \u56fe\u5c42 \u5305\u542b\u6570\u636e\u96c6\u5408 \u4e0e \u6837\u5f0f\\n        Layer layer2 = new FeatureLayer(featureCollection, style);\\n        // \u5730\u56fe\u5185\u5bb9\uff0c\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u56fe\u5c42\uff0c\u53ef\u4ee5\u51fa\u56fe\u3002\\n        MapContent map = new MapContent();\\n        map.setTitle(\\"\u753b\u677f\u663e\u793a\\");\\n        map.addLayer(layer2);\\n        // geotools\u5b98\u65b9\u63d0\u4f9b\u7684Java Swing\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u5c06\u4e0a\u9762\u7ed3\u679c\u663e\u793a\u51fa\u6765\\n        JMapFrame.showMap(map);\\n    }\\n}\\n```\\n\\ncommon.xml\u6587\u4ef6\u5982\u4e0b\uff1a\\n```xml\\n<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n<sld:StyledLayerDescriptor xmlns=\\"http://www.opengis.net/sld\\" xmlns:sld=\\"http://www.opengis.net/sld\\"\\n                           xmlns:gml=\\"http://www.opengis.net/gml\\" xmlns:ogc=\\"http://www.opengis.net/ogc\\"\\n                           version=\\"1.0.0\\">\\n    <sld:NamedLayer>\\n        <sld:Name/>\\n        <sld:UserStyle>\\n            <sld:Name>Default Styler</sld:Name>\\n            <sld:FeatureTypeStyle>\\n                <sld:Name>name</sld:Name>\\n                <sld:Rule>\\n                    <ogc:Filter>\\n                        <ogc:PropertyIsEqualTo>\\n                            <ogc:PropertyName>type</ogc:PropertyName>\\n                            <ogc:Literal>point</ogc:Literal>\\n                        </ogc:PropertyIsEqualTo>\\n                    </ogc:Filter>\\n                    <sld:PointSymbolizer>\\n                        <sld:Graphic>\\n                            <sld:Mark>\\n                                <sld:WellKnownName>circle</sld:WellKnownName>\\n                                <sld:Fill>\\n                                    <sld:CssParameter name=\\"fill\\">#FF0000</sld:CssParameter>\\n                                </sld:Fill>\\n                                <sld:Stroke/>\\n                            </sld:Mark>\\n                            <sld:Size>20.0</sld:Size>\\n                        </sld:Graphic>\\n                    </sld:PointSymbolizer>\\n                </sld:Rule>\\n                <sld:Rule>\\n                    <ogc:Filter>\\n                        <ogc:PropertyIsEqualTo>\\n                            <ogc:PropertyName>type</ogc:PropertyName>\\n                            <ogc:Literal>line</ogc:Literal>\\n                        </ogc:PropertyIsEqualTo>\\n                    </ogc:Filter>\\n                    <sld:LineSymbolizer>\\n                        <sld:Stroke>\\n                            <sld:CssParameter name=\\"stroke\\">#000110</sld:CssParameter>\\n                        </sld:Stroke>\\n                    </sld:LineSymbolizer>\\n                </sld:Rule>\\n                <sld:Rule>\\n                    <ogc:Filter>\\n                        <ogc:PropertyIsEqualTo>\\n                            <ogc:PropertyName>type</ogc:PropertyName>\\n                            <ogc:Literal>polygon</ogc:Literal>\\n                        </ogc:PropertyIsEqualTo>\\n                    </ogc:Filter>\\n                    <sld:PolygonSymbolizer>\\n                        <sld:Fill>\\n                            <sld:CssParameter name=\\"fill\\">#00FF00</sld:CssParameter>\\n                            <sld:CssParameter name=\\"fill-opacity\\">0.8</sld:CssParameter>\\n                        </sld:Fill>\\n                        <sld:Stroke>\\n                            <sld:CssParameter name=\\"stroke\\">#000000</sld:CssParameter>\\n                        </sld:Stroke>\\n                    </sld:PolygonSymbolizer>\\n                </sld:Rule>\\n            </sld:FeatureTypeStyle>\\n        </sld:UserStyle>\\n    </sld:NamedLayer>\\n</sld:StyledLayerDescriptor>\\n```\\n\\n\u4e0a\u9762\u4ee3\u7801\u6784\u5efa\u4e86\u4e00\u4e2a\u6700\u7b80\u5355\u7684geotools\u7a0b\u5e8f\uff0c\u4f7f\u7528\u4e86\u7b80\u5355\u7684\u6837\u5f0f\u7ed8\u5236\u4e86\u70b9\u3001\u7ebf\u3001\u9762\u4e09\u79cd\u7c7b\u578b\u6570\u636e\u3002  \\n\u4f7f\u7528geotools\u81ea\u5e26\u7684GUI\u663e\u793a\u7ed3\u679c\u5982\u4e0b:  \\n\x3c!-- [![\u663e\u793a\u6548\u679c](img/geotoolsfirst.PNG \\"\u663e\u793a\u6548\u679c\\")](https://geotools.org \\"\u53bbgeotools\u5b98\u7f51\u770b\u770b\\") --\x3e\\n![\u663e\u793a\u6548\u679c](img/geotoolsfirst.PNG \\"\u663e\u793a\u6548\u679c\\")\\n\\n\\n### 3. \u6837\u5f0f\u8f93\u51fa\u4e0e\u8bfb\u53d6\\n\u6837\u5f0f\u4e00\u822c\u662f\u5199\u5165xml\u6587\u4ef6\u4e2d\u7684\uff0c\u8fd9\u6837\u65b9\u4fbf\u4fee\u6539\u5730\u56fe\u6837\u5f0f\u3002\\n\u6253\u5370style\u5bf9\u8c61\uff0c\u8f93\u51fa\u7684\u5c31\u662fsld\u6587\u4ef6\u5185\u5bb9\uff1a\\n  \\n```java\\n public static void printSLD(Style style) {\\n    StyleFactory sf = CommonFactoryFinder.getStyleFactory();\\n    NamedLayer namedLayer = sf.createNamedLayer();\\n    namedLayer.addStyle(style);\\n    StyledLayerDescriptor sld = sf.createStyledLayerDescriptor();\\n    sld.layers().add(namedLayer);\\n\\n    SLDTransformer sldTransformer = new SLDTransformer();\\n    try {\\n        String transform = sldTransformer.transform(sld);\\n        System.out.println(transform);\\n    } catch (TransformerException e) {\\n        e.printStackTrace();\\n    }\\n}\\n```\\n\u8bfb\u53d6sld\u6587\u4ef6\u4ee3\u7801\uff1a\\n```java\\npublic static Style getStyle(File sld) {\\n    StyleFactory styleFactory = CommonFactoryFinder.getStyleFactory();\\n    try {\\n        SLDParser sldParser = new SLDParser(styleFactory, sld);\\n        Style[] styles = sldParser.readXML();\\n        return styles[0];\\n    } catch (Exception e) {\\n        e.printStackTrace();\\n    }\\n    return null;\\n}\\n```"},{"id":"junit-springboot","metadata":{"permalink":"/blog/junit-springboot","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2023/04-28-junit\u6d4b\u8bd5\u63a5\u53e3.md","source":"@site/blog/2023/04-28-junit\u6d4b\u8bd5\u63a5\u53e3.md","title":"junit\u6d4b\u8bd5\u63a5\u53e3","description":"junit\u6d4b\u8bd5\u63a5\u53e3","date":"2023-04-28T00:00:00.000Z","formattedDate":"2023\u5e744\u670828\u65e5","tags":[{"label":"springboot","permalink":"/blog/tags/springboot"},{"label":"junit","permalink":"/blog/tags/junit"},{"label":"\u6d4b\u8bd5","permalink":"/blog/tags/\u6d4b\u8bd5"}],"readingTime":1.0933333333333333,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"junit-springboot","title":"junit\u6d4b\u8bd5\u63a5\u53e3","date":"2023-04-28T00:00:00.000Z","authors":"yuchengee","tags":["springboot","junit","\u6d4b\u8bd5"]},"unlisted":false,"prevItem":{"title":"geotools\u5feb\u901f\u5f00\u59cb","permalink":"/blog/geotools-start"},"nextItem":{"title":"java\u8c03\u7528chatgpt","permalink":"/blog/java-request-chatgpt"}},"content":"junit\u6d4b\u8bd5\u63a5\u53e3\\n\x3c!--truncate--\x3e\\n\u5728\u4f7f\u7528springboot\u5f00\u53d1web\u5e94\u7528\u65f6\uff0c\u901a\u5e38\u9700\u8981\u5199\u6d4b\u8bd5\u7528\u4f8b\uff0c\u6765\u4fdd\u8bc1\u4ee3\u7801\u7684\u8d28\u91cf\u3002\u5f53\u6211\u4eec\u5f00\u53d1\u4e00\u4e2aweb\u63a5\u53e3\u540e\uff0c\u5f00\u53d1\u4eba\u5458\u9700\u8981\u4f7f\u7528junit\u5bf9\u8be5\u63a5\u53e3\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5373\u81ea\u6d4b\u3002\\n\\n### \u9996\u5148\u4f7f\u7528\u7684\u4f9d\u8d56\\n```\\n<dependency>\\n\\t<groupId>org.springframework.boot</groupId>\\n\\t<artifactId>spring-boot-starter-test</artifactId>\\n\\t<scope>test</scope>\\n</dependency>\\n```\\n\\n\u7136\u540e\u662f\u6d4b\u8bd5\u63a5\u53e3\u7684\u4ee3\u7801\\n\\n  \\n\\n### application/json\u63a5\u53e3\\n\\n```java\\n@SpringBootTest\\npublic class AreaManageControllerTest {\\n    @Autowired\\n    private WebApplicationContext webApplicationContext;\\n\\t// \u6d4b\u8bd5\u6570\u636e\u7684\u4ee3\u7801\u76ee\u5f55 \u9879\u76ee/test/resources/data/\\n\\tprivate static final String dataPath = ClassLoader.getSystemClassLoader().getResource(\\"data\\").getPath() + File.separator;\\n    private MockMvc mockMvc;\\n\\n    @BeforeEach\\n    public void setUp() {\\n        //\u4f7f\u7528\u4e0a\u4e0b\u6587\u6784\u5efaMockMvc\\n        mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\\n    }\\n\\n\\t// json\u8bf7\u6c42\\n    @Test\\n    public void testUser() throws Exception {\\n        MvcResult mvcResult = mockMvc.perform(MockMvcRequestBuilders.post(\\"/user\\")\\n                .contentType(MediaType.APPLICATION_JSON)\\n                .content(\\"{\\" +\\n                        \\"    \\\\\\"age\\\\\\": 18,\\" +\\n                        \\"    \\\\\\"name\\\\\\": \\\\\\"xxx\\\\\\"\\" +\\n                        \\"}\\")).andReturn();\\n        Assertions.assertEquals(\\"0\\", JSON.parseObject(mvcResult.getResponse().getContentAsString()).getString(\\"retcode\\"));\\n    }\\n}\\n```\\n\\n  \\n\\n### formdata\uff0c\u9700\u8981\u4f7f\u7528session\u7684\u63a5\u53e3\\n\\n```java\\nprivate void testUser() throws Exception {\\n\\t\\tMockHttpSession session = new MockHttpSession();\\n\\t\\tMultiValueMap<String, String> params = new LinkedMultiValueMap<>();\\n        params1.add(\\"name\\", \\"xx\\");\\n        params1.add(\\"age\\", \\"11\\");\\n        long l = System.currentTimeMillis();\\n        MvcResult mvcResult = mockMvc.perform(MockMvcRequestBuilders.post(\\"/user\\")\\n                .params(params).session(session)).andReturn();\\n        System.out.print(\\"cost:\\" + (System.currentTimeMillis() - l)+\\"ms\\");\\n        // \u83b7\u53d6\u8fd4\u56de\u7ed3\u679c\\n        String result = JSON.parseObject(mvcResult.getResponse().getContentAsString()).get(\\"Result\\").toString();\\n        Assertions.assertEquals(\\"Success\\", result);\\n}\\n```\\n  \\n### \u9700\u8981\u4e0a\u4f20\u6587\u4ef6\u7684\u63a5\u53e3\\n\\n```java\\n@Test\\n    public void testGetLayerInfo() throws Exception {\\n        // \u4e0a\u4f20\u666e\u901a\u6587\u4ef6\\n        InputStream inputStream1 = new FileInputStream(testPath + \\"a.txt\\");\\n        InputStream inputStream2 = new FileInputStream(testPath + \\"b.png\\");\\n        InputStream inputStream3 = new FileInputStream(testPath + \\"c.csv\\");\\n        InputStream inputStream4 = new FileInputStream(testPath + \\"d.zip\\");\\n        MvcResult mvcResult = mockMvc.perform(\\n                MockMvcRequestBuilders\\n                        .multipart(\\"/upload\\")\\n                        .file(new MockMultipartFile(\\"files\\", \\"a.txt\\", \\"multipart/form-data\\", inputStream1))\\n                        .file(new MockMultipartFile(\\"files\\", \\"b.png\\", \\"multipart/form-data\\", inputStream2))\\n                        .file(new MockMultipartFile(\\"files\\", \\"c.csv\\", \\"multipart/form-data\\", inputStream3))\\n                        .file(new MockMultipartFile(\\"files\\", \\"d.zip\\", \\"multipart/form-data\\", inputStream4))\\n                        .param(\\"name\\", \\"aaa\\")\\n                        .param(\\"age\\", \\"21\\")\\n        ).andReturn();\\n        String result = JSON.parseObject(mvcResult.getResponse().getContentAsString()).get(\\"Result\\").toString();\\n        Assertions.assertEquals(\\"Success\\", result);\\n    }\\n```"},{"id":"java-request-chatgpt","metadata":{"permalink":"/blog/java-request-chatgpt","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2023/04-07-java\u8c03\u7528chatgpt.md","source":"@site/blog/2023/04-07-java\u8c03\u7528chatgpt.md","title":"java\u8c03\u7528chatgpt","description":"java\u8c03\u7528chatgpt","date":"2023-04-07T00:00:00.000Z","formattedDate":"2023\u5e744\u67087\u65e5","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"chatgpt","permalink":"/blog/tags/chatgpt"},{"label":"http","permalink":"/blog/tags/http"}],"readingTime":1.2133333333333334,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"java-request-chatgpt","title":"java\u8c03\u7528chatgpt","date":"2023-04-07T00:00:00.000Z","authors":"yuchengee","tags":["java","chatgpt","http"]},"unlisted":false,"prevItem":{"title":"junit\u6d4b\u8bd5\u63a5\u53e3","permalink":"/blog/junit-springboot"},"nextItem":{"title":"java\u9632\u5fa1zip\u538b\u7f29\u5305\u70b8\u5f39","permalink":"/blog/java-upload-zip"}},"content":"java\u8c03\u7528chatgpt\\n\x3c!--truncate--\x3e\\n\u53c2\u8003 https://blog.csdn.net/m0_51545690/article/details/129739621\\n\\napiKey\u9700\u8981\u6ce8\u518c\u8d26\u53f7\uff0c\u7136\u540e\u81ea\u5df1\u751f\u6210\u3002\\n\\n### \u4f9d\u8d56\\n\u4f7f\u7528hutool\u53d1\u9001http\u8bf7\u6c42\\n```\\n<dependency>\\n\\t<groupId>cn.hutool</groupId>\\n\\t<artifactId>hutool-all</artifactId>\\n\\t<version>5.8.16</version>\\n</dependency>\\n```\\n\\n### \u4ee3\u7801\\nChatGptMessage\\n```\\n@Getter\\n@Setter\\n@AllArgsConstructor\\npublic class ChatGptMessage {\\n    private String role;\\n    private String content;\\n}\\n```\\n\\nChatGptRequestParameter\\n```\\n@Getter\\n@Setter\\n@NoArgsConstructor\\n@AllArgsConstructor\\npublic class ChatGptRequestParameter {\\n    private String model = \\"gpt-3.5-turbo\\";\\n    private List<ChatGptMessage> messages = new ArrayList<>();\\n\\n    public void addMessage(ChatGptMessage chatGptMessage) {\\n        messages.add(chatGptMessage);\\n    }\\n}\\n```\\n\\nChatGptResponseParameter\\n```\\n@Getter\\n@Setter\\n@AllArgsConstructor\\npublic class ChatGptResponseParameter {\\n    private String id;\\n    private String object;\\n    private String created;\\n    private String model;\\n    private Usage usage;\\n    private List<Choices> choices;\\n}\\n```\\n\\nChoices\\n```\\n@Getter\\n@Setter\\n@AllArgsConstructor\\npublic class Choices {\\n    private ChatGptMessage message;\\n    private String finish_reason;\\n    private Integer index;\\n}\\n```\\nUsage\\n```\\n@Getter\\n@Setter\\n@AllArgsConstructor\\npublic class Usage {\\n    private String prompt_tokens;\\n    private String completion_tokens;\\n    private String total_tokens;\\n}\\n```\\n\\n```\\n@Service\\npublic class CustomChatGpt {\\n    @Autowired\\n    private ObjectMapper objectMapper; // \u521b\u5efa\u4e00\u4e2aObjectMapper\uff0c\u7528\u4e8e\u89e3\u6790\u548c\u521b\u5efajson\\n    // \u4f7f\u7528\u7684\u6a21\u578b\\n    private String model = \\"gpt-3.5-turbo-0301\\";\\n    // \u5bf9\u5e94\u7684\u8bf7\u6c42\u63a5\u53e3\\n    private String url = \\"https://api.openai.com/v1/chat/completions\\";\\n    // \u9ed8\u8ba4\u7f16\u7801\\n    private Charset charset = StandardCharsets.UTF_8;\\n\\n    // \u521b\u5efa\u4e00\u4e2aChatGptRequestParameter\uff0c\u7528\u4e8e\u643a\u5e26\u8bf7\u6c42\u53c2\u6570\\n    private ChatGptRequestParameter chatGptRequestParameter = new ChatGptRequestParameter();\\n\\n    public String hutoolHttp(String apiKey, String question) {\\n        // \u8bbe\u7f6e\u8bf7\u6c42\u53c2\u6570\\n        chatGptRequestParameter.addMessage(new ChatGptMessage(\\"user\\", question));\\n\\n        try {\\n            // Proxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(\\"\\", 80));\\n            String resStr = cn.hutool.http.HttpRequest.post(url)\\n            //       .setProxy(proxy)\\n                    .header(HttpHeaders.CONTENT_TYPE, \\"application/json\\")\\n                    .header(HttpHeaders.AUTHORIZATION, \\"Bearer \\" + apiKey)\\n                    .body(objectMapper.writeValueAsString(chatGptRequestParameter))\\n                    .execute().body();\\n            ChatGptResponseParameter responseParameter = objectMapper.readValue(resStr, ChatGptResponseParameter.class);\\n            String ans = \\"\\";\\n            // \u904d\u5386\u6240\u6709\u7684Choices\uff08\u4e00\u822c\u90fd\u53ea\u6709\u4e00\u4e2a\uff09\\n            for (Choices choice : responseParameter.getChoices()) {\\n                ChatGptMessage message = choice.getMessage();\\n                chatGptRequestParameter.addMessage(new ChatGptMessage(message.getRole(), message.getContent()));\\n                String s = message.getContent().replaceAll(\\"\\\\n+\\", \\"\\\\n\\");\\n                ans += s;\\n            }\\n            // \u8fd4\u56de\u4fe1\u606f\\n            return ans;\\n        } catch (IOException e) {\\n            e.printStackTrace();\\n        }\\n        // \u53d1\u751f\u5f02\u5e38\uff0c\u79fb\u9664\u521a\u521a\u6dfb\u52a0\u7684ChatGptMessage\\n        chatGptRequestParameter.getMessages().remove(chatGptRequestParameter.getMessages().size() - 1);\\n        return \\"\u60a8\u5f53\u524d\u7684\u7f51\u7edc\u65e0\u6cd5\u8bbf\u95ee\\";\\n    }\\n}\\n```"},{"id":"java-upload-zip","metadata":{"permalink":"/blog/java-upload-zip","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2023/03-15-java\u9632\u5fa1zip\u538b\u7f29\u5305\u70b8\u5f39.md","source":"@site/blog/2023/03-15-java\u9632\u5fa1zip\u538b\u7f29\u5305\u70b8\u5f39.md","title":"java\u9632\u5fa1zip\u538b\u7f29\u5305\u70b8\u5f39","description":"java\u9632\u5fa1zip\u538b\u7f29\u5305\u70b8\u5f39","date":"2023-03-15T00:00:00.000Z","formattedDate":"2023\u5e743\u670815\u65e5","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"\u5b89\u5168","permalink":"/blog/tags/\u5b89\u5168"},{"label":"\u4e0a\u4f20","permalink":"/blog/tags/\u4e0a\u4f20"},{"label":"\u6587\u4ef6","permalink":"/blog/tags/\u6587\u4ef6"},{"label":"zip","permalink":"/blog/tags/zip"}],"readingTime":1.7766666666666666,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"java-upload-zip","title":"java\u9632\u5fa1zip\u538b\u7f29\u5305\u70b8\u5f39","date":"2023-03-15T00:00:00.000Z","authors":"yuchengee","tags":["java","\u5b89\u5168","\u4e0a\u4f20","\u6587\u4ef6","zip"]},"unlisted":false,"prevItem":{"title":"java\u8c03\u7528chatgpt","permalink":"/blog/java-request-chatgpt"},"nextItem":{"title":"kafka\u5b89\u88c5\u4e0e\u7b80\u5355\u4f7f\u7528","permalink":"/blog/kafka-useage"}},"content":"java\u9632\u5fa1zip\u538b\u7f29\u5305\u70b8\u5f39\\n\x3c!--truncate--\x3e\\n\\n\u200b\\t\u53c2\u8003 https://www.cnblogs.com/lnlvinso/p/11838904.html\\n\\n\u200b\\t\\t\\thttps://blog.csdn.net/j2IaYU7Y/article/details/82321082\\n\\n\u200b\\t\u538b\u7f29\u5305\u70b8\u5f39\u82f1\u6587\u4e3aArc.Bomb\uff0c\u662f\u4e00\u6b3e\u538b\u7f29\u5305\u75c5\u6bd2\u3002\u5b83\u901a\u5e38\u53ea\u6709\u51e0\u767eKB\uff0c\u4f46\u662f\u89e3\u538b\u540e\u4f1a\u53d8\u6210\u4e0a\u767eMB\u7684\u5e9e\u7136\u5927\u7269\u3002\u5b83\u80fd\u52ab\u6301\u7f51\u94f6\u652f\u4ed8\u94fe\u63a5\uff0c\u628a\u7f51\u8d2d\u4ea4\u6613\u8d44\u91d1\u52ab\u6301\u5230\u9ed1\u5ba2\u8d26\u6237\u3002\u5b83\u80fd\u591f\u5229\u7528\u7279\u6b8a\u7684\u6280\u672f\u9003\u8fc7\u6740\u6bd2\u8f6f\u4ef6\u7684\u4e91\u67e5\u6740\u7cfb\u7edf\u3002\\n\\n\u200b\\t\u4e00\u822c\u6765\u8bf4\uff0c\u538b\u7f29\u6587\u4ef6\u7684\u538b\u7f29\u6bd4\uff0c\u5c31\u662f\u538b\u7f29\u6587\u4ef6\u5927\u5c0f\u548c\u89e3\u538b\u7f29\u4e4b\u540e\u6587\u4ef6\u5927\u5c0f\u7684\u6bd4\u4f8b\uff0c\u8d85\u8fc720\u500d\uff0c\u4e00\u4e9b\u6740\u6bd2\u5373\u62a5\u544a\u4e3a\u538b\u7f29\u5305\u70b8\u5f39\uff0c\u6216\u8005\u53eb\u89e3\u538b\u7f29\u70b8\u5f39\u3002\\n\\n\\n\\n\u200b\\tJava\u5f00\u53d1\u4e2d\u7ecf\u5e38\u9047\u5230\u4e0a\u4f20\u6587\u4ef6\u7684\u573a\u666f\uff0c\u6709\u65f6\u5019\u9700\u8981\u4e0a\u4f20\u538b\u7f29\u5305\u6587\u4ef6\uff0c\u5c31\u6709\u53ef\u80fd\u51fa\u73b0\u538b\u7f29\u5305\u70b8\u5f39\u653b\u51fb\u7684\u5b89\u5168\u95ee\u9898\uff0c\u9700\u8981\u505a\u4e00\u4e9b\u9632\u5fa1\u63aa\u65bd\u3002\\n\\n\u200b\\t\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u9700\u8981\u7ed3\u5408\u81ea\u5df1\u7684\u4e1a\u52a1\u8fdb\u884c\u5224\u5b9a\u662f\u5426\u5728zip\u70b8\u5f39\u3002\u4e0b\u9762\u7ed9\u51fa\u4e00\u4e2a\u793a\u4f8b\uff1a\\n\\n- \u5355\u4e2aEntry\u8d85\u8fc72G\\n- \u5355\u4e2aEntry\u538b\u7f29\u7387\u8d85\u8fc7200\\n- \u603bEntry\u8d85\u8fc71000\u4e2a (\u8fd9\u4e2a\u9700\u8981\u7ed3\u5408\u4e1a\u52a1\uff0c\u4e00\u822c\u6bcf\u4e2a\u538b\u7f29\u5305\u6700\u5927\u4e0d\u8d85\u8fc7\u591a\u5c11\u3002\u5982\u679c\u662f\u5730\u56fe\u8fd9\u79cd\uff0centry\u603b\u6570\u5f88\u591a\u7684\u8bdd\uff0c\u7a0b\u5e8f\u9700\u8981\u82b1\u5f88\u957f\u65f6\u95f4)\\n\\n```java\\nprivate static final long MAX_ENTRY_SIZE = 2 * 1024 * 1024 * 1024L;\\n\\npublic static boolean isZipBomb(MultipartFile file) {\\n        byte[] buffer = new byte[8 * 1024 * 1024];\\n        int numOfEntry = 0;\\n        try (ZipInputStream zipInputStream = new ZipInputStream(file.getInputStream(), Charset.forName(\\"gbk\\"))) {\\n            ZipEntry zipEntry;\\n            while ((zipEntry = zipInputStream.getNextEntry()) != null) {\\n                long size = zipEntry.getSize();\\n                if (size > MAX_ENTRY_SIZE) return true;\\n                long compressedSize = zipEntry.getCompressedSize();\\n                // ZipEntry\u7684size\u53ef\u80fd\u4e3a-1\uff0c\u8868\u793a\u672a\u77e5\\n                if (size == -1) {\\n                    int len;\\n                    while ((len = zipInputStream.read(buffer, 0, buffer.length)) != -1) {\\n                        size += len;\\n                    }\\n                }\\n                if (compressedSize != 0 && size / compressedSize > 200) return true;\\n                numOfEntry++;\\n                if (numOfEntry > 1000) return true;\\n                zipInputStream.closeEntry();\\n            }\\n        } catch (IOException e) { log.error(e.getMessage(), e); }\\n        return false;\\n}\\n\\n```\\n\\n\u200b\\t\\n\\n\u200b\\t\u4e5f\u53ef\u4ee5\u8ba1\u7b97\u603b\u7684entry size\uff0c\u4e5f\u5c31\u662f\u89e3\u538b\u540e\u7684\u5927\u5c0f\uff0c\u548c\u538b\u7f29\u5305\u7684\u5927\u5c0f\u7684\u6bd4\u7387\u3002\u8fd9\u6837\u6709\u4e00\u4e2a\u95ee\u9898\uff0c\u5982\u679c\u5728\u4e00\u5806\u6b63\u5e38\u7684\u6587\u4ef6\u4e2d\u5939\u6742\u4e00\u4e9b\u6709\u95ee\u9898\u7684entry\uff0c\u53ef\u80fd\u5c31\u8bc6\u522b\u4e0d\u51fa\u6765\u3002\\n\\n\u200b\\t`Sum(entry.size) / zipFile.size > MAX`\\n\\n\\n\\n\u200b\\t\u5404\u79cd\u6587\u4ef6\u7684\u6587\u4ef6\u5934\u6807\u5fd7\uff1ahttps://blog.csdn.net/rrrfff/article/details/7484109"},{"id":"kafka-useage","metadata":{"permalink":"/blog/kafka-useage","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2023/02-27-kafka.md","source":"@site/blog/2023/02-27-kafka.md","title":"kafka\u5b89\u88c5\u4e0e\u7b80\u5355\u4f7f\u7528","description":"kafka\u5b89\u88c5\u4e0e\u7b80\u5355\u4f7f\u7528","date":"2023-02-27T00:00:00.000Z","formattedDate":"2023\u5e742\u670827\u65e5","tags":[{"label":"kafka","permalink":"/blog/tags/kafka"},{"label":"\u4e2d\u95f4\u4ef6","permalink":"/blog/tags/\u4e2d\u95f4\u4ef6"},{"label":"\u5206\u5e03\u5f0f","permalink":"/blog/tags/\u5206\u5e03\u5f0f"}],"readingTime":1.4133333333333333,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"kafka-useage","title":"kafka\u5b89\u88c5\u4e0e\u7b80\u5355\u4f7f\u7528","date":"2023-02-27T00:00:00.000Z","authors":"yuchengee","tags":["kafka","\u4e2d\u95f4\u4ef6","\u5206\u5e03\u5f0f"],"keywords":["kafka","\u4e2d\u95f4\u4ef6","\u5206\u5e03\u5f0f"]},"unlisted":false,"prevItem":{"title":"java\u9632\u5fa1zip\u538b\u7f29\u5305\u70b8\u5f39","permalink":"/blog/java-upload-zip"},"nextItem":{"title":"linux\u5e38\u7528\u547d\u4ee4","permalink":"/blog/linux-cmd-useage"}},"content":"kafka\u5b89\u88c5\u4e0e\u7b80\u5355\u4f7f\u7528\\n\x3c!--truncate--\x3e\\n\\n\u53c2\u8003 https://blog.csdn.net/u010889616/article/details/80641922\\n\\n### 1. \u5355\u673a\\n\u5b89\u88c5\u5305\uff1ahttps://kafka.apache.org/downloads\\n\\n\u89e3\u538b\uff1atar xvf kafka_2.12-3.3.1.tgz\\n\\n\u521b\u5efa\u6570\u636e\u76ee\u5f55\uff1a/usr/local/kafka/logs\\n\\n\u4fee\u6539\u914d\u7f6e: vim config/server.properties\\n```\\nbroker.id=1\\nlisteners=PLAINTEXT://:9092\\n# \u5bf9\u5916\u76ee\u5f55\\nadvertised.listeners=PLAINTEXT://xx.xx.xx.xx:9092\\nlog.dirs=/usr/local/kafka/logs\\n```\\n\\n\u542f\u52a8zk:\\nbin/zookeeper-server-start.sh -daemon config/zookeeper.properties\\n\\n\u542f\u52a8kafka\\n```\\n# \u524d\u7aef\u542f\u52a8\\nbin/kafka-server-start.sh config/server.properties\\n# \u540e\u7aef\u542f\u52a8\\nbin/kafka-server-start.sh -daemon config/server.properties\\n# \u505c\u6b62\\nbin/kafka-server-stop.sh\\n```\\n\\n\u4f7f\u7528\uff1a\\n```\\n# \u67e5\u770b topic \u5217\u8868\\nbin/kafka-topics.sh --list --bootstrap-server localhost:9092\\n\\n# \u521b\u5efatopic\\nbin/kafka-topics.sh --create --bootstrap-server localhost:9092 --replication-factor 1 --partitions 1 --topic test1\\n# partitions:kafka\u5206\u533a\u6570\u91cf\uff0c\u9ed8\u8ba41\\n# replication-factor\uff1a\u5206\u533a\u7684\u590d\u5236\u56e0\u5b50\u6570\u91cf\uff0c\u9ed8\u8ba41\\n\\n# \u5220\u9664\u4e3b\u9898\\nbin/kafka-topics.sh --delete --bootstrap-server localhost:9092 --topic test1\\n\\n# \u67e5\u770btopic\u63cf\u8ff0\u60c5\u51b5\\nbin/kafka-topics.sh --describe --topic test1 --bootstrap-server localhost:9092\\n\\n# \u521b\u5efa\u751f\u4ea7\u8005\\nbin/kafka-console-producer.sh --broker-list localhost:9092 --topic test1\\n\\n# \u521b\u5efa\u6d88\u8d39\u8005\\nbin/kafka-console-consumer.sh --topic test1 --from-beginning --bootstrap-server localhost:9092\\n\\n```\\n\\n### 2. \u96c6\u7fa4\\n\u4f7f\u7528docker\u8fdb\u884c\u642d\u5efakafka\u96c6\u7fa4\u3002\\n\\ndocker\u4f9d\u8d56zk\uff0c\u6240\u4ee5\u9700\u8981\u5148\u642d\u5efazk\u96c6\u7fa4\u3002\\n\\nzk\u96c6\u7fa4\\n```\\n#\u4e0b\u8f7dzk\u5b89\u88c5\u5305\uff0c\u5206\u522b\u57283\u4e2a\u673a\u5668\u4e0a\u5b89\u88c5zk\uff0c\u5f62\u6210zk\u96c6\u7fa4\\n\\n# \u89e3\u538b\u540e\uff0c\u5206\u522b\u4fee\u6539\u914d\u7f6e\u6587\u4ef6 zoo.cfg\\nserver.1=x.x.x.x:2888:3888\\nserver.2=x.x.x.x:2888:3888\\nserver.3=x.x.x.x:2888:3888\\n\\n# \u5206\u522b\u521b\u5efa\u5982\u4e0b\u6587\u4ef6\\necho 1 > /tmp/zookeeper/myid\\necho 2 > /tmp/zookeeper/myid\\necho 3 > /tmp/zookeeper/myid\\n\\n# \u5206\u522b\u542f\u52a8\u540e\u5f62\u6210\u96c6\u7fa4\\nbin/zkServer.sh start\\n\\n# \u67e5\u770b\u8282\u70b9\u72b6\u6001\uff08leader/follower\uff09\\nbin/zkServer.sh status\\n```\\n\\nkafka\u96c6\u7fa4\\n```\\n# \u542f\u52a83\u4e2a\u5bb9\u5668\u4f5c\u4e3akafka\u8282\u70b9\uff0c\u5176\u4e2d openjdk18\u662f\u542b\u6709jdk8\u7684\u955c\u50cf\\ndocker run -it --name kafka1 -v /data6/cyu/testdata/:/data/ -p 9093:9093 openjdk18:v1.0\\ndocker run -it --name kafka2 -v /data6/cyu/testdata/:/data/ -p 9094:9094 openjdk18:v1.0\\ndocker run -it --name kafka3 -v /data6/cyu/testdata/:/data/ -p 9095:9095 openjdk18:v1.0\\n\\n# \u5206\u522b\u4fee\u6539\u914d\u7f6e config/server.properties\\nbroker.id=1\\nbroker.id=2\\nbroker.id=3\\n\\nlisteners=PLAINTEXT://:9093\\nlisteners=PLAINTEXT://:9094\\nlisteners=PLAINTEXT://:9095\\n\\nadvertised.listeners=PLAINTEXT://x.x.x.x:9093   # \u8fd9\u91cc\u9700\u8981\u6539\u4e3a \u5916\u90e8\u53ef\u4ee5\u8bbf\u95ee\u5230\u7684 ip\u5730\u5740\\nadvertised.listeners=PLAINTEXT://x.x.x.x:9094\\nadvertised.listeners=PLAINTEXT://x.x.x.x:9095\\n\\nzookeeper.connect=x.x.x.x:2181,x.x.x.x:2181,x.x.x.x:2181\\n\\n# \u5206\u522b\u542f\u52a8\\nbin/kafka-server-start.sh -daemon config/server.properties\\n\\n# topic\u4e3b\u9898\\nbin/kafka-topics.sh --create --bootstrap-server x.x.x.x:9093 --replication-factor 1 --partitions 1 --topic test1\\nbin/kafka-topics.sh --list --bootstrap-server x.x.x.x:9093\\n\\n# \u751f\u4ea7\u8005\\nbin/kafka-console-producer.sh --broker-list x.x.x.x:9093 --topic test1\\n\\n# \u6d88\u8d39\u8005\\nbin/kafka-console-consumer.sh --topic test1 --from-beginning --bootstrap-server x.x.x.x:9093\\n```"},{"id":"linux-cmd-useage","metadata":{"permalink":"/blog/linux-cmd-useage","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2023/02-15-linux\u5e38\u7528\u547d\u4ee4.md","source":"@site/blog/2023/02-15-linux\u5e38\u7528\u547d\u4ee4.md","title":"linux\u5e38\u7528\u547d\u4ee4","description":"linux\u5e38\u7528\u547d\u4ee4","date":"2023-02-15T00:00:00.000Z","formattedDate":"2023\u5e742\u670815\u65e5","tags":[{"label":"linux","permalink":"/blog/tags/linux"}],"readingTime":3.42,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"linux-cmd-useage","title":"linux\u5e38\u7528\u547d\u4ee4","date":"2023-02-15T00:00:00.000Z","authors":"yuchengee","tags":["linux"]},"unlisted":false,"prevItem":{"title":"kafka\u5b89\u88c5\u4e0e\u7b80\u5355\u4f7f\u7528","permalink":"/blog/kafka-useage"},"nextItem":{"title":"docker\u4f7f\u7528\u6307\u5357","permalink":"/blog/docker-useage"}},"content":"linux\u5e38\u7528\u547d\u4ee4\\n\x3c!--truncate--\x3e\\n### 1. \u89e3\u538b\u6253\u5305\\n```\\n\u89e3\u538b\uff1atar xvf aaa.tar\\n\u538b\u7f29\uff1atar zcvf /data/soft/shp.tar.gz /data/soft/dxf/ --exclude=*.zip\\t\\t# \u8fc7\u6ee4zip\u6587\u4ef6\\n```\\n\\n### 2. \u67e5\u770b\u65e5\u5fd7\\n```\\ntail -f log.log \u52a8\u6001\u67e5\u770b\u65e5\u5fd7 \\ntail -f log.log | grep \'Bi\\\\|error line\\\\|error\'  # \u53ea\u67e5\u770b\u6307\u5b9a\u5185\u5bb9 \u65e5\u5fd7\\ntail -f log.log | grep -Ev \'(DownloadTask|DownloadExec|wms)\' # \u4e0d\u770b\u6307\u5b9a\u5185\u5bb9\u7684\u65e5\u5fd7 \\n```\\n\\n### 3. \u67e5\u770b\u7cfb\u7edf\u4fe1\u606f\\n```\\ncat /proc/version //\u6216\u8005\\ncat /etc/redhat-release\\n\\n\u67e5\u770b\u7cfb\u7edf\u652f\u6301\u7684\u7f16\u7801:iconv -l\\n```\\n\\n### 4. \u4fee\u6539\u65f6\u95f4\\n```\\ndate -s \\"4/30/2018 10:00\\"\\n```\\n\\n### 5. \u7528\u6237\\n```\\n\u521b\u5efa\uff1aadduser es\\n\u8bbe\u7f6e\u5bc6\u7801\uff1apasswd es\\n\u76ee\u5f55\u6743\u9650\uff1achown -R es:es /data\\n```\\n\\n### 6. \u7aef\u53e3\\n```\\n\u67e5\u770b\u8fdb\u7a0b\u7aef\u53e3\uff1anetstat -nap|grep 13000\\n\u67e5\u770b\u7aef\u53e3\u5360\u7528\uff1alsof -i:5432\\n```\\n\\n### 7. \u6587\u4ef6\\n```\\n\u7edf\u8ba1\u6587\u4ef6\u4e2a\u6570\uff1a\\n\\tls -l|grep \\"^-\\"|wc -l\\n\u67e5\u8be2\u67d0\u6587\u4ef6\u884c\u6570\uff1a\\n\\twc -l \u6587\u4ef6\u540d\\n\u67e5\u627e\u6587\u4ef6/\u76ee\u5f55\uff1a\\n\\tfind . \u2013type d \u2013name zxwinmo-b-support-zgis-web\\n\u627e\u51fa\u5927\u4e8e 3000k\u7684\u6587\u4ef6\u5e76\u5220\u9664\uff1a\\n\\tfind . -type f -size +1000k|xargs rm -rf\\n\u7edf\u8ba1\u6587\u4ef6\u4e2d\u67d0\u4e2a\u5b57\u7b26\u51fa\u73b0\u7684\u6b21\u6570\uff1a\\n\\tgrep -o \\"\u5b57\u7b26\\" \u6587\u4ef6\u540d | wc -l\\n\u6587\u4ef6\u592a\u591a\u5220\u9664\u4e0d\u4e86\u65f6\uff08/bin/rm: argument list too long\uff09\uff1a\\n\\tls | xargs -n 9 rm -rf\\n\u67e5\u770b\u76ee\u5f55\u603b\u5927\u5c0f:\\n\\tdu -sh /data6/\\n\\n\u8f6f\u8fde\u63a5:\\n\\tln -s \u6e90\u76ee\u6807\u6587\u4ef6  \u8f6f\u94fe\u6587\u4ef6\\n\\n\u5168\u5c40\u66ff\u6362\uff1a\\n\\tsed -i \\"s/str1/str2/g\\" test.txt\\t# \u5c06str1\u66ff\u6362\u6210str2\u3002-i\u8868\u793a\u4fee\u6539\u6587\u4ef6\uff1bs\u8868\u793a\u66ff\u6362\uff1bg\u8868\u793a\u5168\u5c40\\n\\n\u4ece\u8fdc\u7a0b\u4e0b\u8f7d\u6587\u4ef6\uff1a\\n\\tscp xx.xx.xx.xx:/data6/xxx.tar.gz  .\\n\u4e0a\u4f20\u6587\u4ef6\u5230\u8fdc\u7a0b\uff1a\\n\\tscp \u672c\u5730\u6587\u4ef6 10.9.224.116:/data6/\\n```\\n\\n### 8. \u9632\u706b\u5899\\n```\\n\u67e5\u8be2\u9ed8\u8ba4\u533a\u57df\uff1a\\n\\tfirewall-cmd --get-default-zone\\n\u54ea\u4e2a\u533a\u57df\u5904\u4e8e\u6fc0\u6d3b\u72b6\u6001\uff1a\\n\\tfirewall-cmd --get-active-zones\\n\u914d\u7f6e IP \u767d\u540d\u5355\uff1a\\n\\tfirewall-cmd --permanent --zone=trusted --add-source=x.x.x.0/24\\n\\tfirewall-cmd --reload\\n\u786e\u8ba4 trusted \u533a\u57df\u662f\u5426\u8bbe\u7f6e\u6b63\u786e\uff1a\\n\\tfirewall-cmd --zone=trusted --list-all\\n\u5207\u6362\u9ed8\u8ba4\u533a\u57df\u4ece public \u5230 drop\uff1a\\n\\tfirewall-cmd --set-default-zone=drop\\n\u5c06\u9ed8\u8ba4\u7f51\u5361 eth0 \u5206\u914d\u7ed9 drop \u533a\u57df\uff1a\\n\\tfirewall-cmd --permanent --zone=drop --change-interface=eth0\\n\\n\u4f7f\u767d\u540d\u5355\u6700\u7ec8\u751f\u6548\uff1a\\n\\tfirewall-cmd --reload\\n\\n\u6dfb\u52a0\u5f00\u653e\u7aef\u53e3\uff0c\u4e0d\u7528reload\\n\\t\\tfirewall-cmd --add-port=8080/tcp\\n\u67e5\u770b\u5f00\u653e\u7aef\u53e3\\n\\t\\t firewall-cmd --list-ports\\n```\\n\\n### 9. curl\\n```\\ncurl -X POST \\"127.0.0.1:8081/aaa/uploadFile\\" \\\\\\n-F \\"appName=ngi-support-init\\" \\\\\\n-F \\"appVersionNo=01.01.02.00.n01\\" \\\\ \\n-F \\"filename=@/data/tempData/data.zip\\" \\\\\\n-H \\"Cookie:CODE-8081=822211804_0b8d139a97894defaed57a0c09e530a5;sessionid=822211804_0b8d139a97894defaed57ac09e530a5\\"  \\n--referer https://10.231.43.190:14290/webgis/map.htm\\n```\\n\\n### 10. \u670d\u52a1\u5668\u5b57\u4f53\\n```\\n\u7b2c\u4e00\u6b65\uff1a\u5728/usr/share/fonts\u76ee\u5f55\u4e0b\u5efa\u7acb\u4e00\u4e2a\u5b50\u76ee\u5f55\uff0c\u4f8b\u5982chinese\uff0c\u547d\u4ee4\u5982\u4e0b\uff1a\\n# mkdir /usr/share/fonts/chinese\\n\\n\u7b2c\u4e8c\u6b65\uff1a\u5c06\u5b57\u4f53\u6587\u4ef6\u590d\u5236\u5230\u8be5\u76ee\u5f55\u4e0b\uff0c\u4f8b\u5982\u8fd9\u4e24\u4e2a\u6587\u4ef6\u653e\u5728/root/desktop\u4e0b\uff0c\u547d\u4ee4\u5982\u4e0b\uff1a\\n# cd /root/desktop\\n# cp font.ttf /usr/share/fonts/chinese/\\n\\n\u7b2c\u4e09\u6b65\uff1a\u5efa\u7acb\u5b57\u4f53\u7d22\u5f15\u4fe1\u606f\uff0c\u66f4\u65b0\u5b57\u4f53\u7f13\u5b58\uff0c\u547d\u4ee4\u5982\u4e0b\uff1a\\n# cd /usr/share/fonts/chinese\\n# mkfontscale\\n# mkfontdir\\n# fc-cache\\n```\\n\\n### 11. \u7b80\u5355\u6392\u67e5java\u7a0b\u5e8f\\n```\\ntop -c  \\t\\t\\t\\t\\t\\t\\t\u67e5\u770bCPU\u4f7f\u7528\u6700\u9ad8\u7684\u8fdb\u7a0bpid\\ntop -H -p pid\\t\\t\\t\\t\\t\\t\u67e5\u8be2\u4e0a\u8ff0\u8fdb\u7a0b\u7684 \u4f7f\u7528cpu\u6700\u9ad8\u7ebf\u7a0b pid,\u628a\u8be5pid\u8f6c\u621016\u8fdb\u5236\\nprintf \\"%x\\\\n\\" pid \\t\\t\\t\\t\\t\u8f6c16\u8fdb\u5236\\njstack 20835|grep 5163 -A 30\\t\\t\u627e\u5230\u8be5\u7ebf\u7a0b\u6b63\u5728\u505a\u4ec0\u4e48\uff0c\u53ef\u4ee5\u627e\u51fa\u8be5\u7ebf\u7a0b\u5bf9\u5e94\u7684java \u65b9\u6cd5\\n\\n\u627e\u5230java\u7684pid\u540e \u67e5\u770b\u7ebf\u7a0b\u76f8\u5173\u7684\\njstack -l 63|grep gis\\n\\n\u67e5\u770b\u7cfb\u7edf\u5185\u5b58\u4f7f\u7528\\nfree -g\\n\\njps\\t\u67e5\u770b\u6240\u6709java\u8fdb\u7a0b\uff0c\u8f93\u51faJVM\u4e2d\u8fd0\u884c\u7684\u8fdb\u7a0b\u72b6\u6001\u4fe1\u606f\\n-m\\t\u8f93\u51fa\u4f20\u5165main\u65b9\u6cd5\u7684\u53c2\u6570\\n-l\\t\u8f93\u51famain\u7c7b\u6216Jar\u7684\u5168\u9650\u540d\\n=============================================================================================\\n\u67e5\u770bgc\\n\u76d1\u63a7jvm\uff0c\u6bcf5\u79d2\u6253\u5370\u4e00\u6b21\uff0c\u5faa\u73af100\u6b21\\ngcutil/gc\\njstat -gcutil 33 1000 100\\nS0C\uff1a\u7b2c\u4e00\u4e2a\u5e78\u5b58\u533a\u7684\u5927\u5c0f\\nS1C\uff1a\u7b2c\u4e8c\u4e2a\u5e78\u5b58\u533a\u7684\u5927\u5c0f\\nS0U\uff1a\u7b2c\u4e00\u4e2a\u5e78\u5b58\u533a\u7684\u4f7f\u7528\u5927\u5c0f\\nS1U\uff1a\u7b2c\u4e8c\u4e2a\u5e78\u5b58\u533a\u7684\u4f7f\u7528\u5927\u5c0f\\nEC\uff1a\u4f0a\u7538\u56ed\u533a\u7684\u5927\u5c0f\\nEU\uff1a\u4f0a\u7538\u56ed\u533a\u7684\u4f7f\u7528\u5927\u5c0f\\nOC\uff1a\u8001\u5e74\u4ee3\u5927\u5c0f\\nOU\uff1a\u8001\u5e74\u4ee3\u4f7f\u7528\u5927\u5c0f\\nMC\uff1a\u65b9\u6cd5\u533a\u5927\u5c0f\\nMU\uff1a\u65b9\u6cd5\u533a\u4f7f\u7528\u5927\u5c0f\\nCCSC:\u538b\u7f29\u7c7b\u7a7a\u95f4\u5927\u5c0f\\nCCSU:\u538b\u7f29\u7c7b\u7a7a\u95f4\u4f7f\u7528\u5927\u5c0f\\nYGC\uff1a\u5e74\u8f7b\u4ee3\u5783\u573e\u56de\u6536\u6b21\u6570\\nYGCT\uff1a\u5e74\u8f7b\u4ee3\u5783\u573e\u56de\u6536\u6d88\u8017\u65f6\u95f4\\nFGC\uff1a\u8001\u5e74\u4ee3\u5783\u573e\u56de\u6536\u6b21\u6570\\nFGCT\uff1a\u8001\u5e74\u4ee3\u5783\u573e\u56de\u6536\u6d88\u8017\u65f6\u95f4\\nGCT\uff1a\u5783\u573e\u56de\u6536\u6d88\u8017\u603b\u65f6\u95f4\\n=============================================================================================\\n\u67e5\u770b\u5806\\njmap -histo 21 | head -n 20 // pid\u662f\u8fdb\u7a0b\u53f7\uff0c20\u8868\u793a\u6392\u540d\u524d\u4e8c\u5341\uff0cinstances\u8868\u793a\u5b9e\u4f8b\u6570\u91cf\uff0cbytes\u8868\u793a\u5360\u7528\u5185\u5b58\u5927\u5c0f\\n num     #instances         #bytes  class name\\n----------------------------------------------\\n   1:     156859803     7603445776  [C\\n   2:     150807729     3619385496  java.lang.String\\n   3:        260011     1602048120  [I\\n   ...\\n=============================================================================================\\njmat\u5bfc\u51fa\u5185\u5b58\u5bf9\u8c61 \u628ajava\u7684\u5806\u4ee5hprof \u4e8c\u8fdb\u5236\u683c\u5f0f\u8f93\u51fa\u5230\u4e00\u4e2a\u6587\u4ef6\u4e2d\uff0c\u7136\u540e\u901a\u8fc7jhat\u6216\u5176\u4ed6\u5de5\u5177\u6765\u67e5\u770b\\njmap -dump:format=b,file=dump.hprof pid\\n\\njhat dump.hprof\\n\\n\u67e5\u8be2java\u5e94\u7528\u5185\u5b58\u4f7f\u7528\\n\\tjmap -heap 44\\n```"},{"id":"docker-useage","metadata":{"permalink":"/blog/docker-useage","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2023/01-10-docker\u4f7f\u7528\u6307\u5357.md","source":"@site/blog/2023/01-10-docker\u4f7f\u7528\u6307\u5357.md","title":"docker\u4f7f\u7528\u6307\u5357","description":"docker\u4f7f\u7528\u6307\u5357","date":"2023-01-10T00:00:00.000Z","formattedDate":"2023\u5e741\u670810\u65e5","tags":[{"label":"docker","permalink":"/blog/tags/docker"},{"label":"linux","permalink":"/blog/tags/linux"}],"readingTime":2.953333333333333,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"docker-useage","title":"docker\u4f7f\u7528\u6307\u5357","date":"2023-01-10T00:00:00.000Z","authors":"yuchengee","tags":["docker","linux"]},"unlisted":false,"prevItem":{"title":"linux\u5e38\u7528\u547d\u4ee4","permalink":"/blog/linux-cmd-useage"},"nextItem":{"title":"docker\u8bbe\u7f6e\u5bb9\u5668\u65f6\u95f4","permalink":"/blog/docker-time-set"}},"content":"docker\u4f7f\u7528\u6307\u5357\\n\\n### 1. \u5b89\u88c5\\n\u4e0b\u8f7d\u79bb\u7ebf\u5b89\u88c5\u5305\\n\\thttps://download.docker.com/linux/static/stable/x86_64/docker-20.10.7.tgz\\n\\n1.\u89e3\u538b\\n`tar xvf docker-18.06.1-ce.tgz`\\n\\n2.\u590d\u5236\u4e8c\u8fdb\u5236\u6587\u4ef6\u5230bin\u76ee\u5f55\u4e0b\\n`cp docker/* /usr/bin/`\\n\\n3.\u542f\u52a8docker\u8fdb\u7a0b\\n`dockerd &`\\n\\n4.\u8bbe\u7f6e\u5f00\u673a\u542f\u52a8(\u53ef\u9009)\\n`systemctl enable docker`\\n\\n5.\u9a8c\u8bc1docker\u662f\u5426\u6b63\u5e38\\n`Docker version \u6216\u8005 systemctl status docker`\\n\x3c!--truncate--\x3e\\n### 2. \u955c\u50cf\u4e0e\u5bb9\u5668\u64cd\u4f5c\\n1.\u955c\u50cf\u76f8\u5173\u64cd\u4f5c\\n\\n\u62c9\u53d6\u955c\u50cf\uff1a`docker pull \u955c\u50cf\u540d\u79f0:\u7248\u672c\u53f7`\\n\\n\u5220\u9664\u955c\u50cf\uff1a`docker rmi \u955c\u50cf\u540d\u79f0:\u7248\u672c\u53f7`\\n\\n\u5236\u4f5c\u955c\u50cf: `docker build -t \u955c\u50cf\u540d:\u7248\u672c\u53f7 .`\\n\\n\u5bb9\u5668\u4fdd\u5b58\u4e3a\u955c\u50cf\uff1a`docker commit \u5bb9\u5668id \u955c\u50cf\u540d:\u7248\u672c\u53f7`\\n\\n\u5bfc\u51fa\u955c\u50cf\u4e3a\u6587\u4ef6\uff1a`docker save -o \u955c\u50cf\u540d.tar \u539f\u59cb\u955c\u50cf\u540d`\\n\\n\u52a0\u8f7d\u955c\u50cf\u6587\u4ef6\uff1a`docker load -i \u955c\u50cf\u540d.tar`\\n\\n\\n2.\u5bb9\u5668\u76f8\u5173\u64cd\u4f5c\\n\\n\u542f\u52a8\u5bb9\u5668:`docker run -p 5438:5432 -p 8878:8080 -v /data1/temp:/geo/src --name \u5bb9\u5668\u540d -i -t \u955c\u50cf\u540d:\u7248\u672c\u53f7 /bin/bash`\\n- -p 5438:5432\uff1a \u7aef\u53e3\u6620\u5c04\uff0c\u672c\u5730\u7aef\u53e3\u4e0e\u5bb9\u5668\u5185\u7aef\u53e3\u5bf9\u5e94\\n- -v\uff1a \u6302\u8f7d\u76ee\u5f55\uff0c\u672c\u5730\u76ee\u5f55\u4e0e\u5bb9\u5668\u5185\u76ee\u5f55\u5bf9\u5e94\\n- \u2013-name\uff1a\u4e3a\u5bb9\u5668\u8bbe\u7f6e\u4e00\u4e2a\u540d\u5b57\\n- -i -t\uff1a\u4f7f\u5f97\u5bb9\u5668\u542f\u52a8\u540e\u80fd\u83b7\u53d6\u8be5\u5bb9\u5668\u7684shell\\n- -d\uff1a\u4f7f\u5bb9\u5668\u4ee5\u540e\u53f0\u7684\u5f62\u5f0f\u8fd0\u884c\uff0c\u4e0d\u4f1a\u5173\u95ed\\n- -m 3g\uff1a\u5bb9\u5668\u5185\u5b58\u9650\u52363G\\n- --cpus 3\uff1a\u5bb9\u5668cpu\u9650\u52363\u4e2acpu\\n- --network testnet\uff1a\u6307\u5b9a\u5bb9\u5668\u4f7f\u7528\u7684\u7f51\u7edc\uff0c\u4e00\u822c\u4e0d\u7528\u8bbe\u7f6e\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e3ahost\u4f7f\u7528\u672c\u5730\u7684\u7f51\u7edc\u3002\\n- /bin/bash\uff1a\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u662f\u8fd0\u884c\u65f6\u9700\u8981\u9700\u8981\u6267\u884c\u7684\u547d\u4ee4\uff0c\u8fd9\u91cc\u6267\u884c/bin/bash\u4f7f\u5f97\u5bb9\u5668\u8fd0\u884c\u540e\u542f\u52a8\u4e00\u4e2abash\u4f9b\u6211\u4eec\u548c\u5bb9\u5668\u4ea4\u4e92\u3002\\n\\n\u8fdb\u5165\u5bb9\u5668\uff1a`docker exec -it 1b92115d37b8 /bin/sh`\\n\\n\u9000\u51fa\u5bb9\u5668\uff1a`exit\u6216ctrl+p+q`\\n\\n\u505c\u6b62\u5bb9\u5668\uff1a`docker stop 1b92115d37b8`\\n\\n\u505c\u6b62\u540e\u542f\u52a8\u5bb9\u5668\uff1a`docker start 1b92115d37b8`\\n\\n\u5220\u9664\u5bb9\u5668\uff1a`docker rm 1b92115d37b8`\\n\\n\u540e\u53f0\u8fd0\u884c\u5bb9\u5668\uff1a`-d -it`\\n> \u6709\u7684\u955c\u50cf\u6ca1\u6709\u524d\u53f0\u8fdb\u7a0b\uff0c\u8d77\u5bb9\u5668\u65f6\uff0c\u4e00\u8fd0\u884c\u5c31\u81ea\u52a8\u7ed3\u675f\u4e86\u3002\u52a0\u4e0a\u8fd9\u4e2a\u5c31\u4e0d\u4f1a\u81ea\u52a8\u5173\u95ed\u5bb9\u5668\u4e86\u3002\\n\\n\u67e5\u770b\u5bb9\u5668\u5177\u4f53\u4fe1\u606f\uff1a`docker inspect 1b92115d37b8`\\n\\n\u67e5\u770b\u5bb9\u5668\u5185\u5b58cpu\uff1a`docker stats 1b92115d37b8`\\n\\n\\n\u5bb9\u5668\u66f4\u65b0\\n`docker container update [OPTIONS] CONTAINER [CONTAINER...]`\\n\u7528\u4e8e\u66f4\u65b0\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\u7684\u914d\u7f6e\u3002\u8fd9\u4e2a\u547d\u4ee4\u5141\u8bb8\u4f60\u4fee\u6539\u5bb9\u5668\u7684\u5404\u79cd\u5c5e\u6027\uff0c\u4f8b\u5982\u8d44\u6e90\u9650\u5236\u3001\u73af\u5883\u53d8\u91cf\u3001\u91cd\u542f\u7b56\u7565\u7b49\uff0c\u800c\u65e0\u9700\u505c\u6b62\u548c\u91cd\u65b0\u542f\u52a8\u5bb9\u5668\u3002  \\n\u5e38\u7528\u9009\u9879\uff1a\\n- --memory \u6216 -m\uff1a\u8bbe\u7f6e\u5bb9\u5668\u53ef\u4ee5\u4f7f\u7528\u7684\u6700\u5927\u5185\u5b58\u91cf\u3002\\n`docker container update --memory=\\"256m\\" <container_id_or_name>`\\n\\n- --cpus\uff1aCPU\u6570\u91cf\\n`docker container update --cpus 1 <container_id_or_name>`\\n\\n- --memory-swap\uff1a\u8bbe\u7f6e\u5bb9\u5668\u53ef\u4ee5\u4f7f\u7528\u7684\u6700\u5927\u5185\u5b58\u52a0\u4ea4\u6362\u7a7a\u95f4\u7684\u603b\u91cf\u3002\\n`docker container update --memory-swap=\\"512m\\" <container_id_or_name>`\\n\\n- --restart\uff1a\u66f4\u65b0\u5bb9\u5668\u7684\u91cd\u542f\u7b56\u7565\u3002\\n`docker container update --restart unless-stopped <container_id_or_name>`\\n\\n`docker container update --help`\\n\\n\\n### 3. \u7f51\u7edc\u76f8\u5173\\n\u67e5\u770b\u7f51\u7edc\uff1a`docker network ls`\\n\u521b\u5efabridge\u7f51\u7edc\uff1a`docker network create testnet`\\n\\n\u7f51\u7edc\u6545\u969c\uff0c\u5982\u679c\u5bb9\u5668\u4e4b\u95f4\u65e0\u6cd5\u76f8\u4e92\u8bbf\u95ee\uff0cping,\u6267\u884c\\n```\\nfirewall-cmd --permanent --zone=trusted --change-interface=docker0\\nfirewall-cmd --reload\\n```\\n\u5982\u679c\u4e0a\u9762\u4e0d\u8d77\u6548\uff0c\u6267\u884c\u4e0b\u9762\u547d\u4ee4,\u89e3\u51b3\u5404\u5bb9\u5668\u4e4b\u95f4\u65e0\u6cd5\u76f8\u4e92\u8bbf\u95ee\u95ee\u9898\\n```\\nfirewall-cmd --zone=public --add-masquerade --permanent\\nfirewall-cmd --reload\\nsystemctl restart docker\\n```\\n\\n\\n\u6709\u65f6\u5019\u7f51\u7edc\u4e0d\u901a\uff0c\u5bb9\u5668\u542f\u52a8\u65f6\u62a5\u4e0b\u9762\u7684\u8b66\u544a\uff0c\u5bfc\u81f4\u670d\u52a1\u5668\u4e0d\u80fd\u8bbf\u95ee\uff0c\u89e3\u51b3\u65b9\u6848\u53c2\u8003 https://www.cnblogs.com/python-wen/p/11224828.html\\n\\n`WARNING: IPv4 forwarding is disabled. Networking will not work.`\\n\\n\u7b2c\u4e00\u6b65\uff1a\u5728\u5bbf\u4e3b\u673a\u4e0a\u6267\u884c`echo \\"net.ipv4.ip_forward=1\\" >>/usr/lib/sysctl.d/00-system.conf`\\n\\n\u7b2c\u4e8c\u6b65\uff1a\u91cd\u542fnetwork\u548cdocker(\u53ef\u4ee5\u4e0d\u91cd\u542f)\u670d\u52a1\uff1a`systemctl restart network && systemctl restart docker`\\n\\n\\n### 4. \u5bb9\u5668\u5185\u7f3a\u5931\u4e00\u4e9b\u547d\u4ee4\\n1. \u5bb9\u5668\u91cc\u9762\u6ca1\u6709vi\u7684\u89e3\u51b3\u65b9\u6cd5\\n```\\napt-get update\\napt-get install vim\\n```\\n\\n### 5. \u5e38\u7528\u955c\u50cf\u5bb9\u5668\u542f\u52a8\u547d\u4ee4\\nnginx\\n```\\ndocker run -d --name nging --network host -v /wrw/conf:/etc/nginx/conf.d nginx:1.17.5\\n```\\n\\nmysql\\n```\\ndocker run -d -p 3308:3306 --name mysql0310 -v /mysqldata/conf/:/etc/mysql/conf.d  \\\\\\n-v /mysqldata/logs:/var/log -v /mysqldata/data:/var/lib/mysql --restart=always \\\\\\n-e MYSQL_ROOT_PASSWORD=root mysql:5.7\\n```"},{"id":"docker-time-set","metadata":{"permalink":"/blog/docker-time-set","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2022/12-27-docker\u5bb9\u5668\u8bbe\u7f6e\u65f6\u95f4.md","source":"@site/blog/2022/12-27-docker\u5bb9\u5668\u8bbe\u7f6e\u65f6\u95f4.md","title":"docker\u8bbe\u7f6e\u5bb9\u5668\u65f6\u95f4","description":"\u6709\u65f6\u5019docker\u8d77\u4e86\u4e00\u4e2a\u5bb9\u5668\uff0c\u53d1\u73b0\u5bb9\u5668\u91cc\u9762\u7684\u65f6\u95f4\u548c\u5916\u9762\u4e0d\u4e00\u6837\uff0c\u76f8\u5dee\u5f88\u5927\uff0c\u60f3\u8981\u4fee\u6539\u65f6\u95f4\uff0c\u5374\u53d1\u73b0\u6ca1\u6709\u6743\u9650","date":"2022-12-27T00:00:00.000Z","formattedDate":"2022\u5e7412\u670827\u65e5","tags":[{"label":"docker","permalink":"/blog/tags/docker"},{"label":"linux","permalink":"/blog/tags/linux"}],"readingTime":0.4066666666666667,"hasTruncateMarker":false,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"docker-time-set","title":"docker\u8bbe\u7f6e\u5bb9\u5668\u65f6\u95f4","date":"2022-12-27T00:00:00.000Z","authors":"yuchengee","tags":["docker","linux"]},"unlisted":false,"prevItem":{"title":"docker\u4f7f\u7528\u6307\u5357","permalink":"/blog/docker-useage"},"nextItem":{"title":"\u624b\u673aQQ\u4e0b\u8f7d\u6587\u4ef6\u4f4d\u7f6e","permalink":"/blog/other-whereqqreceivefile"}},"content":"\u6709\u65f6\u5019docker\u8d77\u4e86\u4e00\u4e2a\u5bb9\u5668\uff0c\u53d1\u73b0\u5bb9\u5668\u91cc\u9762\u7684\u65f6\u95f4\u548c\u5916\u9762\u4e0d\u4e00\u6837\uff0c\u76f8\u5dee\u5f88\u5927\uff0c\u60f3\u8981\u4fee\u6539\u65f6\u95f4\uff0c\u5374\u53d1\u73b0\u6ca1\u6709\u6743\u9650\\n```\\ndate -s \\"2022-12-27 12:00:00\\"\\n```\\ndate: can\'t set date: Operation not permitted\\n\\n\u8fd9\u65f6\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u65b9\u6cd5\u4fee\u6539\u3002\\n\\n1. \u628a\u5bbf\u4e3b\u673a\u7684\u65f6\u95f4\u6587\u4ef6\u62f7\u8d1d\u8fdb\u5bb9\u5668\uff0c\u6ca1\u6709\u76ee\u5f55\u65f6\uff0c\u9700\u521b\u5efa\\n```\\ndocker cp /usr/share/zoneinfo/Asia/Shanghai \u5bb9\u5668id:/usr/share/zoneinfo/Asia\\n```\\n2. \u8fdb\u5165\u5bb9\u5668\uff0c\u8bbe\u7f6e\u65f6\u95f4\\n```\\ncp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\\n```\\n3. \u67e5\u770b\u65f6\u95f4\\n```\\n/ # date\\nTue Dec 27 12:00:11 CST 2022\\n```"},{"id":"other-whereqqreceivefile","metadata":{"permalink":"/blog/other-whereqqreceivefile","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2022/12-20-\u624b\u673aQQ\u4e0b\u8f7d\u6587\u4ef6\u4f4d\u7f6e.md","source":"@site/blog/2022/12-20-\u624b\u673aQQ\u4e0b\u8f7d\u6587\u4ef6\u4f4d\u7f6e.md","title":"\u624b\u673aQQ\u4e0b\u8f7d\u6587\u4ef6\u4f4d\u7f6e","description":"\u8bbf\u95ee\u5e76\u590d\u5236\u6587\u4ef6\uff0c\u53ea\u80fd\u8bfb\u4e0d\u80fd\u5199","date":"2022-12-20T00:00:00.000Z","formattedDate":"2022\u5e7412\u670820\u65e5","tags":[{"label":"\u5176\u4ed6","permalink":"/blog/tags/\u5176\u4ed6"},{"label":"QQ","permalink":"/blog/tags/qq"}],"readingTime":0.05333333333333334,"hasTruncateMarker":false,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"other-whereqqreceivefile","title":"\u624b\u673aQQ\u4e0b\u8f7d\u6587\u4ef6\u4f4d\u7f6e","date":"2022-12-20T00:00:00.000Z","authors":"yuchengee","tags":["\u5176\u4ed6","QQ"]},"unlisted":false,"prevItem":{"title":"docker\u8bbe\u7f6e\u5bb9\u5668\u65f6\u95f4","permalink":"/blog/docker-time-set"},"nextItem":{"title":"\u6570\u7ec4\u548clist\u76f8\u4e92\u8f6c\u6362","permalink":"/blog/java-array-list"}},"content":"```\\n/storage/emulated/0/Android/data/com.tencent.mobileqq/Tencent/QQfile_recv/\\n```      \\n\u8bbf\u95ee\u5e76\u590d\u5236\u6587\u4ef6\uff0c\u53ea\u80fd\u8bfb\u4e0d\u80fd\u5199"},{"id":"java-array-list","metadata":{"permalink":"/blog/java-array-list","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2022/12-19-\u6570\u7ec4\u548clist\u76f8\u4e92\u8f6c\u6362.md","source":"@site/blog/2022/12-19-\u6570\u7ec4\u548clist\u76f8\u4e92\u8f6c\u6362.md","title":"\u6570\u7ec4\u548clist\u76f8\u4e92\u8f6c\u6362","description":"\u5728java\u4e2d\u5982\u4f55\u6570\u7ec4\u548clist\u76f8\u4e92\u8f6c\u6362","date":"2022-12-19T19:00:00.000Z","formattedDate":"2022\u5e7412\u670819\u65e5","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"\u6570\u7ec4","permalink":"/blog/tags/\u6570\u7ec4"},{"label":"\u96c6\u5408","permalink":"/blog/tags/\u96c6\u5408"},{"label":"list","permalink":"/blog/tags/list"}],"readingTime":0.10666666666666667,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"java-array-list","title":"\u6570\u7ec4\u548clist\u76f8\u4e92\u8f6c\u6362","date":"2022-12-19T19:00","authors":"yuchengee","tags":["java","\u6570\u7ec4","\u96c6\u5408","list"]},"unlisted":false,"prevItem":{"title":"\u624b\u673aQQ\u4e0b\u8f7d\u6587\u4ef6\u4f4d\u7f6e","permalink":"/blog/other-whereqqreceivefile"},"nextItem":{"title":"\u904d\u5386map","permalink":"/blog/java-map-iterate"}},"content":"\u5728java\u4e2d\u5982\u4f55\u6570\u7ec4\u548clist\u76f8\u4e92\u8f6c\u6362\\n\x3c!--truncate--\x3e\\n```java title=\'list-array\' icon=\'logos:java\'\\nString[] array = new String[8];\\nList<String> list = Stream.of(array).collect(Collectors.toList());\\nString[] strings = list.toArray(new String[0]);\\n```"},{"id":"java-map-iterate","metadata":{"permalink":"/blog/java-map-iterate","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2022/12-19-\u904d\u5386map.md","source":"@site/blog/2022/12-19-\u904d\u5386map.md","title":"\u904d\u5386map","description":"\u5728java\u4e2d\u5982\u4f55\u5feb\u901f\u9ad8\u6548\u904d\u5386map","date":"2022-12-19T09:00:00.000Z","formattedDate":"2022\u5e7412\u670819\u65e5","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"map","permalink":"/blog/tags/map"},{"label":"\u96c6\u5408","permalink":"/blog/tags/\u96c6\u5408"}],"readingTime":0.13,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"java-map-iterate","title":"\u904d\u5386map","date":"2022-12-19T09:00","authors":"yuchengee","tags":["java","map","\u96c6\u5408","map"]},"unlisted":false,"prevItem":{"title":"\u6570\u7ec4\u548clist\u76f8\u4e92\u8f6c\u6362","permalink":"/blog/java-array-list"},"nextItem":{"title":"java\u8bfb\u5199xml\u76f8\u5173","permalink":"/blog/java-xml-wr"}},"content":"\u5728java\u4e2d\u5982\u4f55\u5feb\u901f\u9ad8\u6548\u904d\u5386map\\n\x3c!--truncate--\x3e\\n```java title=\'map\' icon=\'logos:java\'\\nMap<String, Set<String>> map = new HashMap<>();\\nfor (Map.Entry<String, Set<String>> entry : map.entrySet()) {\\n        String key = entry.getKey();\\n        Set<String> value = entry.getValue();\\n}\\n\\n```"},{"id":"java-xml-wr","metadata":{"permalink":"/blog/java-xml-wr","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2022/12-12-XML\u8bfb\u5199\u76f8\u5173.md","source":"@site/blog/2022/12-12-XML\u8bfb\u5199\u76f8\u5173.md","title":"java\u8bfb\u5199xml\u76f8\u5173","description":"\u5728java\u4e2d\u5982\u4f55\u8bfb\u5199xml","date":"2022-12-12T09:00:00.000Z","formattedDate":"2022\u5e7412\u670812\u65e5","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"xml","permalink":"/blog/tags/xml"},{"label":"io","permalink":"/blog/tags/io"}],"readingTime":0.5433333333333333,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"java-xml-wr","title":"java\u8bfb\u5199xml\u76f8\u5173","date":"2022-12-12T09:00","authors":"yuchengee","tags":["java","xml","io"]},"unlisted":false,"prevItem":{"title":"\u904d\u5386map","permalink":"/blog/java-map-iterate"},"nextItem":{"title":"\u8bfb\u5199txt\u6587\u6863\u7c7b\u6587\u4ef6","permalink":"/blog/java-read-write-txt"}},"content":"\u5728java\u4e2d\u5982\u4f55\u8bfb\u5199xml\\n\x3c!--truncate--\x3e\\n\u8bfb xml \u6587\u4ef6\\n```java  title=\'readXml\' icon=\'logos:java\'\\n//  commons-configuration\\nXMLConfiguration xmlConfiguration = new XMLConfiguration(new File(\\"xmlpath\\"));\\ndouble bufferWidth = xmlConfiguration.getDouble(\\"bufferWidth\\", 1.0);\\n// \u591a\u7ea7\\nString cellDrawType = xmlConfiguration.getString(\\"IMPORTER.AREAGRIDTASKNUM\\", \\"sec\\");\\n\\t\\n// \u6216\u8005  dom4j\\nSAXReader reader = new SAXReader();\\nDocument document = reader.read(confFile);\\n// highlight-start\\nElement element = (Element) document.selectObject(\\"/Area2Grids/tableName\\");\\nString hourFileStartDealTime = element.getStringValue();\\n// highlight-end\\n```\\n\\n------------\\n\\n\u5199 xml \u6587\u4ef6\\n```java  title=\'writeXml\' icon=\'logos:java\'\\ntry {\\n        SAXReader reader = new SAXReader();\\n        Document document = reader.read(optionFile);\\n        Element rootElement = document.getRootElement();\\n\\n        String mapKey = \\"GOOGLEKEY\\";\\n        Element mapKeyEle = rootElement.element(mapKey);\\n        if (mapKeyEle == null) mapKeyEle = rootElement.addElement(mapKey);\\n        mapKeyEle.setText(nodeValue);\\n\\n        //\u683c\u5f0f\u5316\u8f93\u51fa\u6d41,\u6307\u5b9a\u7f16\u7801\\n        OutputFormat format = OutputFormat.createPrettyPrint();\\n        format.setEncoding(\\"utf-8\\");\\n        //\u5229\u7528try\u4ee3\u7801\u5757\u5173\u95ed\u6d41\\n        try (FileOutputStream fileOutputStream = new FileOutputStream(optionFile)) {\\n                XMLWriter writer = new XMLWriter(fileOutputStream, format);\\n                writer.write(document);\\n                writer.close();\\n        }\\n        log.info(\\"setMapKey finish\\");\\n} catch (RuntimeException e) { log.error(e.getMessage(), e); } catch (Exception e) { log.error(e.getMessage(), e); }\\n```"},{"id":"java-read-write-txt","metadata":{"permalink":"/blog/java-read-write-txt","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2022/12-12-\u8bfb\u5199txt\u6587\u6863\u7c7b\u6587\u4ef6.md","source":"@site/blog/2022/12-12-\u8bfb\u5199txt\u6587\u6863\u7c7b\u6587\u4ef6.md","title":"\u8bfb\u5199txt\u6587\u6863\u7c7b\u6587\u4ef6","description":"\u5728java\u4e2d\u5982\u4f55\u8bfb\u5199txt\u6587\u6863\u7c7b\u6587\u4ef6","date":"2022-12-12T08:00:00.000Z","formattedDate":"2022\u5e7412\u670812\u65e5","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"txt","permalink":"/blog/tags/txt"},{"label":"io","permalink":"/blog/tags/io"}],"readingTime":0.3433333333333333,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"java-read-write-txt","title":"\u8bfb\u5199txt\u6587\u6863\u7c7b\u6587\u4ef6","date":"2022-12-12T08:00","authors":"yuchengee","tags":["java","txt","io"]},"unlisted":false,"prevItem":{"title":"java\u8bfb\u5199xml\u76f8\u5173","permalink":"/blog/java-xml-wr"},"nextItem":{"title":"markdown\u8bed\u6cd5\u7279\u6027","permalink":"/blog/markdown-features"}},"content":"\u5728java\u4e2d\u5982\u4f55\u8bfb\u5199txt\u6587\u6863\u7c7b\u6587\u4ef6\\n\x3c!--truncate--\x3e\\n\u8bfb\u6587\u4ef6\\n```java  title=\'readTxt\' icon=\'logos:java\'\\ntry (BufferedReader br = new BufferedReader(new InputStreamReader(new FileInputStream(dataFile),\\"UTF-8\\"))) {\\n    String line = br.readLine();\\n    while ((line = br.readLine()) != null) {\\n\\n    }\\n} catch (IOException e) {\\n    log.error(e.getMessage(), e);\\n}\\n\\n// \u6216\u8005\u662fcommons-io\\nList<String> lines = FileUtils.readLines(new File(\\"src\\"), \\"utf-8\\");\\nString content = FileUtils.readFileToString(new File(\\"src\\"), \\"utf-8\\");\\n```\\n\\n------------\\n\\n\u5199\u6587\u4ef6\\n```java  title=\'writeTxt\' icon=\'logos:java\'\\ntry(BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(file),\\"UTF-8\\"))) {\\n   writer.write(\\"\\");\\n   writer.flush();\\n} catch (IOException e) {\\n   log.error(e.getMessage(), e);\\n}\\n\\n// \u6216\u8005\u662fcommons-io\\nFileUtils.writeLines(new File(\\"tar\\"), \\"utf-8\\", lines, false);\\n```"},{"id":"markdown-features","metadata":{"permalink":"/blog/markdown-features","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2022/12-11-markdown\u8bed\u6cd5.mdx","source":"@site/blog/2022/12-11-markdown\u8bed\u6cd5.mdx","title":"markdown\u8bed\u6cd5\u7279\u6027","description":"markdown\u975e\u5e38\u597d\u7528\uff0c\u53ef\u4ee5\u5199\u51fa\u6f02\u4eae\u7684\u6587\u6863\uff0c\u5982\u679c\u4e0d\u4f1a\u4f7f\u7528\uff0c\u53c2\u8003markdown\u8bed\u6cd5\u5b66\u4e60\u3002","date":"2022-12-11T15:00:00.000Z","formattedDate":"2022\u5e7412\u670811\u65e5","tags":[{"label":"\u7f51\u7ad9\u5efa\u8bbe","permalink":"/blog/tags/\u7f51\u7ad9\u5efa\u8bbe"}],"readingTime":1.91,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png","key":"yuchengee"}],"frontMatter":{"slug":"markdown-features","title":"markdown\u8bed\u6cd5\u7279\u6027","date":"2022-12-11T15:00","authors":"yuchengee","tags":["\u7f51\u7ad9\u5efa\u8bbe"]},"unlisted":false,"prevItem":{"title":"\u8bfb\u5199txt\u6587\u6863\u7c7b\u6587\u4ef6","permalink":"/blog/java-read-write-txt"},"nextItem":{"title":"\u535a\u5ba2\u4f18\u5316\u8bb0\u5f55","permalink":"/blog/build-web-1"}},"content":"markdown\u975e\u5e38\u597d\u7528\uff0c\u53ef\u4ee5\u5199\u51fa\u6f02\u4eae\u7684\u6587\u6863\uff0c\u5982\u679c\u4e0d\u4f1a\u4f7f\u7528\uff0c\u53c2\u8003[markdown\u8bed\u6cd5\u5b66\u4e60](https://docusaurus.io/docs/markdown-features)\u3002\\n\x3c!--truncate--\x3e\\n\\n### 1. MDX\\n\u535a\u5ba2\u6587\u7ae0\u652f\u6301 Docusaurus Markdown features \u529f\u80fd\uff0c\u4f8b\u5982 MDX\uff0c\u53ef\u4ee5\u5728\u535a\u5ba2\u4e2d\u8c03\u7528js\u3002\\n\\n:::tip\\n\u4f7f\u7528 React \u7684\u5f3a\u5927\u529f\u80fd\u521b\u5efa\u4ea4\u4e92\u5f0f\u535a\u5ba2\u6587\u7ae0\u3002\\n\\n```js\\n<button onClick={() => alert(\'button clicked!\')}>Click me!</button>\\n```\\n\\n<button onClick={() => alert(\'button clicked!\')}>Click me!</button>\\n:::\\n\\n\\n### 2. Details \u5143\u7d20\u793a\u4f8b\\n<details>\\n  <summary>\u70b9\u6211\uff01</summary>\\n  <div>\\n    <div>\u8fd9\u662f\u8be6\u60c5\u5185\u5bb9</div>\\n    <br/>\\n    <details>\\n      <summary>\\n        \u5d4c\u5957\u7684\u4e0b\u62c9\u680f\uff01 \u5185\u542b\u60ca\u559c\u2026\u2026\\n      </summary>\\n      <div>\\n        \ud83d\ude32\ud83d\ude32\ud83d\ude32\ud83d\ude32\ud83d\ude32\\n      </div>\\n    </details>\\n  </div>\\n</details>\\n\\n### 3. \u9009\u9879\u5361\\nDocusaurus\u63d0\u4f9b\u4e86 `Tabs` \u7ec4\u4ef6\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 MDX \u5728 Markdown \u4e2d\u4f7f\u7528  \\n\\nimport Tabs from \'@theme/Tabs\';\\nimport TabItem from \'@theme/TabItem\';\\n\\n<Tabs>\\n<TabItem value=\\"js\\" label=\\"JavaScript\\">\\n\\n```js\\nfunction helloWorld() {\\n  console.log(\'Hello, world!\');\\n}\\n```\\n\\n</TabItem>\\n<TabItem value=\\"py\\" label=\\"Python\\">\\n\\n```py\\ndef hello_world():\\n  print(\\"Hello, world!\\")\\n```\\n\\n</TabItem>\\n<TabItem value=\\"java\\" label=\\"Java\\">\\n\\n```java\\nclass HelloWorld {\\n  public static void main(String args[]) {\\n    System.out.println(\\"Hello, World\\");\\n  }\\n}\\n```\\n\\n</TabItem>\\n</Tabs>\\n\\n### 4. \u56fe\u7247\\n![\u7f51\u7ad9logo](/img/logo.png)\\n\\n### 5. \u6587\u4ef6\u4e0b\u8f7d\\n<a target=\\"\\\\_blank\\" href={require(\'/img/logo.png\').default}> \u4e0b\u8f7d\u8fd9\u4e2a\u56fe\u7247 </a>  \\n\\n[\u4f7f\u7528markdown\u4e0b\u8f7d\u8fd9\u4e2a\u6587\u4ef6](/img/test.zip)\\n\\n### 6.\u8df3\u8f6c\\n[\u535a\u5ba2\u4f18\u5316-\u540c\u8def\u5f84](12-11-\u535a\u5ba2\u4f18\u5316.md)  \\n[XML\u8bfb\u5199\u76f8\u5173-\u76f8\u5bf9\u8def\u5f84](../2022/12-12-XML\u8bfb\u5199\u76f8\u5173.md)  \\n[XML\u8bfb\u5199\u76f8\u5173-\u7edd\u5bf9\u8def\u5f84](/2022/12-12-XML\u8bfb\u5199\u76f8\u5173.md)\\n\\n\\n### 7.\u6362\u884c\\n\u5728Markdown\u4e2d\uff0c\u8981\u5b9e\u73b0\u6362\u884c\uff0c\u53ef\u4ee5\u6709\u4ee5\u4e0b\u51e0\u79cd\u65b9\u5f0f\uff1a\\n\\n1. \u4f7f\u7528\u53cc\u7a7a\u683c\u52a0\u56de\u8f66\uff08`  ` + \u56de\u8f66\uff09\uff1a\u5728\u4e00\u884c\u7684\u672b\u5c3e\u52a0\u4e0a\u4e24\u4e2a\u7a7a\u683c\uff0c\u7136\u540e\u56de\u8f66\uff0c\u5373\u53ef\u8fdb\u884c\u6362\u884c\u3002\\n\\n2. \u76f4\u63a5\u63d2\u5165\u4e00\u4e2a\u7a7a\u884c\uff1a\u5728\u4e24\u884c\u6587\u672c\u4e4b\u95f4\u63d2\u5165\u4e00\u4e2a\u7a7a\u884c\uff0c\u5373\u53ef\u5b9e\u73b0\u6362\u884c\u3002\\n\\n3. \u4f7f\u7528HTML\u7684 `<br>` \u6807\u7b7e\uff1a\u5728\u9700\u8981\u6362\u884c\u7684\u5730\u65b9\u63d2\u5165 `<br>` \u6807\u7b7e\uff0c\u5373\u53ef\u5b9e\u73b0\u6362\u884c\u6548\u679c\u3002\\n\\n\u4f8b\u5982\uff1a\\n```\\n\u8fd9\u662f\u7b2c\u4e00\u884c  \\n\u8fd9\u662f\u7b2c\u4e8c\u884c\\n\\n\u8fd9\u662f\u7b2c\u4e09\u884c<br>\u8fd9\u662f\u7b2c\u56db\u884c\\n```\\n\\n\u4ee5\u4e0a\u4e09\u79cd\u65b9\u5f0f\u90fd\u53ef\u4ee5\u5b9e\u73b0\u5728Markdown\u4e2d\u6362\u884c\u7684\u6548\u679c\u3002\\n\\n\\n### 8. \u63d0\u793a-\u8b66\u544a\u7b49\\n```\\n:::note\\n\u8fd9\u662f\u5907\u6ce8\u7684\u6587\u672c\u3002\\n:::\\n\\n:::tip\\n\u8fd9\u662f\u63d0\u793a\u6587\u672c\u3002\\n:::\\n\\n:::info\\n\u8fd9\u662f\u4fe1\u606f\u6587\u672c\u3002\\n:::\\n\\n:::caution\\n\u8fd9\u662f\u8b66\u544a\u6587\u672c\u3002\\n:::\\n\\n\\n:::danger\\n\u8fd9\u662f\u5371\u9669\u6587\u672c\u3002\\n:::\\n```\\n\\n:::note\\n\u8fd9\u662f\u5907\u6ce8\u7684\u6587\u672c\u3002\\n:::\\n\\n:::tip\\n\u8fd9\u662f\u63d0\u793a\u6587\u672c\u3002\\n:::\\n\\n:::info\\n\u8fd9\u662f\u4fe1\u606f\u6587\u672c\u3002\\n:::\\n\\n:::caution\\n\u8fd9\u662f\u8b66\u544a\u6587\u672c\u3002\\n:::\\n\\n:::danger\\n\u8fd9\u662f\u5371\u9669\u6587\u672c\u3002\\n:::\\n\\n\\n### 9. \u4ee3\u7801\u5757\\n```ts title=\'user.entity.ts\' icon=\'logos:nestjs\'\\n@Entity()\\nexport class User {\\n  @PrimaryGeneratedColumn()\\n  id: number\\n\\n  @Column()\\n  name: string\\n}\\n```\\n\\n```ts title=\'user.entity.ts\' icon=\'logos:java\'\\npublic class User {\\n  private String name;\\n\\n  // highlight-start\\n  private int age;\\n  // highlight-end\\n}\\n```\\n\\n### 10. \u94fe\u63a5\\n```\\n[\u5b98\u65b9\u4e0b\u8f7d\u5730\u5740](https://xxx \\"\u5b98\u65b9\u4e0b\u8f7d\u5730\u5740\\")\\n```"},{"id":"build-web-1","metadata":{"permalink":"/blog/build-web-1","editUrl":"https://github.com/yuchengee/blog/edit/master/blog/2022/12-11-\u535a\u5ba2\u4f18\u5316.md","source":"@site/blog/2022/12-11-\u535a\u5ba2\u4f18\u5316.md","title":"\u535a\u5ba2\u4f18\u5316\u8bb0\u5f55","description":"\u56fe","date":"2022-12-11T11:00:00.000Z","formattedDate":"2022\u5e7412\u670811\u65e5","tags":[{"label":"\u7f51\u7ad9\u5efa\u8bbe","permalink":"/blog/tags/\u7f51\u7ad9\u5efa\u8bbe"}],"readingTime":0.29,"hasTruncateMarker":true,"authors":[{"name":"yuchengee","title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","url":"https://github.com/yuchengee","imageURL":"/img/logo.png"}],"frontMatter":{"slug":"build-web-1","title":"\u535a\u5ba2\u4f18\u5316\u8bb0\u5f55","date":"2022-12-11T11:00","author":"yuchengee","author_title":"\u5e9f\u54c1\u5de5\u7a0b\u5e08","author_url":"https://github.com/yuchengee","author_image_url":"/img/logo.png","tags":["\u7f51\u7ad9\u5efa\u8bbe"]},"unlisted":false,"prevItem":{"title":"markdown\u8bed\u6cd5\u7279\u6027","permalink":"/blog/markdown-features"}},"content":"![\u56fe](/img/buildwith.png \\"\u56fe\\")\\n\x3c!--truncate--\x3e\\n### 1. \u6587\u7ae0\u592a\u957f\\n\u5217\u8868\u9875\u663e\u793a\u4e0d\u53cb\u597d\uff0c\u9700\u8981\u9650\u5236\u5728\u5217\u8868\u9875\u663e\u793a\u7684\u5185\u5bb9\uff0c\u5728\u5217\u8868\u663e\u793a\u9605\u8bfb\u66f4\u591a\uff0c\u52a0\u4e0a\u4e0b\u9762\u8fd9\u4e2a\u6807\u7b7e\u5373\u53ef\\n```js\\n\x3c!--truncate--\x3e\\n```\\n\\n### 2. \u66f4\u6362\u4e3b\u9898\\n\u9875\u9762\u4e0d\u592a\u7f8e\u89c2,\u66f4\u6362\u4e86\u6127\u600d\u7684\u6a21\u677f,\u611f\u89c9\u8fd8\u4e0d\u9519\u3002 [\u53bb\u770b\u770b](https://kuizuo.cn/docs/docusaurus-guides \\"\u6127\u600d\\")"}]}')}}]);