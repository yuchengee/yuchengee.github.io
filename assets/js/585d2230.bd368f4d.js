"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[4286],{68500:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>a,frontMatter:()=>s,metadata:()=>l,toc:()=>m});var i=t(13274),r=t(79779);const s={id:"jvm-high-mem",slug:"/jvm-high-mem",title:"11.\u5185\u5b58\u98d9\u9ad8\u5982\u4f55\u6392\u67e5",authors:"yuchengee",keywords:["\u95ee\u9898\u6392\u67e5"]},o=void 0,l={id:"interview/jvm/jvm-high-mem",title:"11.\u5185\u5b58\u98d9\u9ad8\u5982\u4f55\u6392\u67e5",description:"\u5206\u6790: \u5185\u5b58\u98da\u9ad8\u5982\u679c\u662f\u53d1\u751f\u5728java\u8fdb\u7a0b\u4e0a, \u4e00\u822c\u662f\u56e0\u4e3a\u521b\u5efa\u4e86\u5927\u91cf\u5bf9\u8c61\u6240\u5bfc\u81f4\uff0c\u6301\u7eed\u98da\u9ad8\u8bf4\u660e\u5783\u573e\u56de\u6536\u8ddf\u4e0d\u4e0a\u5bf9\u8c61\u521b\u5efa\u7684\u901f\u5ea6,\u6216\u8005\u5185\u5b58\u6cc4\u9732\u5bfc\u81f4\u5bf9\u8c61\u65e0\u6cd5\u56de\u6536\u3002",source:"@site/docs/interview/jvm/11.\u5185\u5b58\u98d9\u9ad8\u5982\u4f55\u6392\u67e5.md",sourceDirName:"interview/jvm",slug:"/jvm-high-mem",permalink:"/docs/jvm-high-mem",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:11,frontMatter:{id:"jvm-high-mem",slug:"/jvm-high-mem",title:"11.\u5185\u5b58\u98d9\u9ad8\u5982\u4f55\u6392\u67e5",authors:"yuchengee",keywords:["\u95ee\u9898\u6392\u67e5"]},sidebar:"interview",previous:{title:"4.JVM\u7684\u5783\u573e\u56de\u6536\u5668",permalink:"/docs/jvm-garbage-collector"},next:{title:"12.CPU\u98d9\u9ad8\u5982\u4f55\u6392\u67e5",permalink:"/docs/jvm-high-cpu"}},c={},m=[];function h(e){const n={br:"br",li:"li",ol:"ol",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"\u5206\u6790: \u5185\u5b58\u98da\u9ad8\u5982\u679c\u662f\u53d1\u751f\u5728java\u8fdb\u7a0b\u4e0a, \u4e00\u822c\u662f\u56e0\u4e3a\u521b\u5efa\u4e86\u5927\u91cf\u5bf9\u8c61\u6240\u5bfc\u81f4\uff0c\u6301\u7eed\u98da\u9ad8\u8bf4\u660e\u5783\u573e\u56de\u6536\u8ddf\u4e0d\u4e0a\u5bf9\u8c61\u521b\u5efa\u7684\u901f\u5ea6,\u6216\u8005\u5185\u5b58\u6cc4\u9732\u5bfc\u81f4\u5bf9\u8c61\u65e0\u6cd5\u56de\u6536\u3002"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"\u5148\u89c2\u5bdf\u5783\u573e\u56de\u6536\u7684\u60c5\u51b5"}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"jstat -gc PID 1000\u67e5\u770bGC\u6b21\u6570,\u65f6\u95f4\u7b49\u4fe1\u606f\uff0c\u6bcf\u9694\u4e00\u79d2\u6253\u5370\u4e00\u6b21\u3002"}),"\n",(0,i.jsx)(n.li,{children:"jmap -histo PID | head -20 \u67e5\u770b\u5806\u5185\u5b58\u5360\u7528\u7a7a\u95f4\u6700\u5927\u7684\u524d20\u4e2a\u5bf9\u8c61\u7c7b\u578b,\u53ef\u521d\u6b65\u67e5\u770b\u662f\u54ea\u4e2a\u5bf9\u8c61\u5360\u7528\u4e86\u5185\u5b58\u3002"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u5982\u679c\u6bcf\u6b21GC\u6b21\u6570\u9891\u7e41,\u800c\u4e14\u6bcf\u6b21\u56de\u6536\u7684\u5185\u5b58\u7a7a\u95f4\u4e5f\u6b63\u5e38\uff0c\u90a3\u8bf4\u660e\u662f\u56e0\u4e3a\u5bf9\u8c61\u521b\u5efa\u901f\u5ea6\u5feb\u5bfc\u81f4\u5185\u5b58\u4e00\u76f4\u5360\u7528\u5f88\u9ad8;",(0,i.jsx)(n.br,{}),"\n","\u5982\u679c\u6bcf\u6b21\u56de\u6536\u7684\u5185\u5b58\u975e\u5e38\u5c11,\u90a3\u4e48\u5f88\u53ef\u80fd\u662f\u56e0\u4e3a\u5185\u5b58\u6cc4\u9732\u5bfc\u81f4\u5185\u5b58\u4e00\u76f4\u65e0\u6cd5\u88ab\u56de\u6536\u3002"]}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"\u5bfc\u51fa\u5806\u5185\u5b58\u6587\u4ef6\u5feb\u7167"}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["jmap -dump",":live",",format=b,file= /home/myheapdump.hprof PID dump\u5806\u5185\u5b58\u4fe1\u606f\u5230\u6587\u4ef6\u3002"]}),"\n",(0,i.jsx)(n.li,{children:"\u4f7f\u7528JProfile\u7b49\u5de5\u5177\u6253\u5f00\u5bfc\u51fa\u7684\u5806\u5185\u5b58\u6587\u4ef6\uff0c\u5206\u6790\u6700\u591a\u7684\u5185\u5b58\u793a\u4f8b\u7684\u5f15\u7528\uff0c\u770b\u662f\u54ea\u4e2a\u6700\u7ec8\u5bf9\u8c61\u548c\u4ee3\u7801\u5206\u6790\u3002"}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},79779:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>l});var i=t(79474);const r={},s=i.createContext(r);function o(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);