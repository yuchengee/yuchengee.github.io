<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-skill/database/redis/redis-note" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">Redisç¬”è®° | æ¸”æ­Œ-yuchengee-æˆé•¿ä¸ºæ›´å¼ºå¤§çš„è‡ªå·±</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://yuchengee.github.io/docs/skill/database/redis"><meta data-rh="true" property="og:locale" content="zh_CN"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Redisç¬”è®° | æ¸”æ­Œ-yuchengee-æˆé•¿ä¸ºæ›´å¼ºå¤§çš„è‡ªå·±"><meta data-rh="true" name="description" content="redis ä¸­æ–‡å®˜æ–¹ç½‘ç«™"><meta data-rh="true" property="og:description" content="redis ä¸­æ–‡å®˜æ–¹ç½‘ç«™"><meta data-rh="true" name="keywords" content="redis,database"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://yuchengee.github.io/docs/skill/database/redis"><link data-rh="true" rel="alternate" href="https://yuchengee.github.io/docs/skill/database/redis" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://yuchengee.github.io/docs/skill/database/redis" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","1",{anonymize_ip:!0})</script>





<script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?6dfb38b0fcc241bcb4c7486723b10185";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="æ¸”æ­Œ RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="æ¸”æ­Œ Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="æ¸”æ­Œ JSON Feed">
<meta name="description" content="æ¸”æ­Œçš„ä¸ªäººåšå®¢">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/misans@4.0.0/lib/Normal/MiSans-Normal.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/misans@4.0.0/lib/Normal/MiSans-Semibold.min.css"><link rel="stylesheet" href="/assets/css/styles.c47cd496.css">
<script src="/assets/js/runtime~main.1563bf99.js" defer="defer"></script>
<script src="/assets/js/main.5ca31769.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="è·³åˆ°ä¸»è¦å†…å®¹"><a class="skipToContent_NYV2" href="#__docusaurus_skipToContent_fallback">è·³åˆ°ä¸»è¦å†…å®¹</a></div><nav aria-label="ä¸»å¯¼èˆª" class="navbar navbar--fixed-top navbarHideable_ruDu"><div class="navbar__inner"><div class="navbar__items"><button aria-label="åˆ‡æ¢å¯¼èˆªæ " aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="yuchengee" class="themedComponent_TcKe themedComponent--light_eba_"><img src="/img/logo.png" alt="yuchengee" class="themedComponent_TcKe themedComponent--dark_CFQW"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/blog">ğŸ‘¨â€ğŸ’» åšå®¢</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/blog/tags">æ ‡ç­¾</a></li><li><a class="dropdown__link" href="/blog/archive">å½’æ¡£</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/skill/">ğŸ‘¨ğŸ»â€ğŸŒ¾ ç¬”è®°</a><a class="navbar__item navbar__link" href="/docs/interview/">ğŸ‘¨â€ğŸ“ é¢è¯•</a><a class="navbar__item navbar__link" href="/docs/tools/">ğŸ›  å·¥å…·</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">ğŸ“¡ å…¶ä»–</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/project">é¡¹ç›®</a></li><li><a class="dropdown__link" href="/resources">èµ„æº</a></li><li><a class="dropdown__link" href="/gpt">GPT</a></li></ul></div><div class="toggle_nuKp colorModeToggle_We2L"><button class="clean-btn toggleButton_VbXV toggleButtonDisabled_Ny53" type="button" disabled="" title="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæµ…è‰²æ¨¡å¼ï¼‰" aria-label="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæµ…è‰²æ¨¡å¼ï¼‰" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pOV_"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_N8qO"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_roVj"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_KS6g"><div class="docsWrapper_RBRE"><button aria-label="å›åˆ°é¡¶éƒ¨" class="clean-btn theme-back-to-top-button backToTopButton_bAnE" type="button"></button><div class="docRoot_e8qJ"><aside class="theme-doc-sidebar-container docSidebarContainer_tYKR"><div class="sidebarViewport_jcVE"><div class="sidebar_gnbR sidebarWithHideableNavbar_KOxR"><a tabindex="-1" class="sidebarLogo_SnEl" href="/"><img src="/img/logo.png" alt="yuchengee" class="themedComponent_TcKe themedComponent--light_eba_"><img src="/img/logo.png" alt="yuchengee" class="themedComponent_TcKe themedComponent--dark_CFQW"><b></b></a><nav aria-label="æ–‡æ¡£ä¾§è¾¹æ " class="menu thin-scrollbar menu_scEv"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/skill">æŠ€æœ¯ç¬”è®°ç®€ä»‹</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/doc-start">æ€ä¹ˆå†™æ–‡æ¡£</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/nginx">nginx</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» &#x27;nginx&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/æ•°æ®åº“">æ•°æ®åº“</a><button aria-label="æŠ˜å ä¾§è¾¹æ åˆ†ç±» &#x27;æ•°æ®åº“&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/skill/database/mysql">Mysql</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» &#x27;Mysql&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/skill/database/mongodb">MongoDB</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» &#x27;MongoDB&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" aria-expanded="true" tabindex="0" href="/docs/skill/database/redis">Redis</a><button aria-label="æŠ˜å ä¾§è¾¹æ åˆ†ç±» &#x27;Redis&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/skill/database/redis">Redisç¬”è®°</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/skill/database/elasticsearch">Elasticsearch</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» &#x27;Elasticsearch&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav><button type="button" title="æ”¶èµ·ä¾§è¾¹æ " aria-label="æ”¶èµ·ä¾§è¾¹æ " class="button button--secondary button--outline collapseSidebarButton_RRJA"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_Yy5V"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_dAjD"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Fwht"><div class="docItemContainer_mrV7"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer__546" aria-label="é¡µé¢è·¯å¾„"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ä¸»é¡µé¢" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_k68T"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/æ•°æ®åº“"><span itemprop="name">æ•°æ®åº“</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Redis</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_UX9H theme-doc-toc-mobile tocMobile_TGc3"><button type="button" class="clean-btn tocCollapsibleButton_IqX3">æœ¬é¡µæ€»è§ˆ</button></div><div class="theme-doc-markdown markdown"><header><h1>Redisç¬”è®°</h1></header><p><a href="http://www.redis.cn/" target="_blank" rel="noopener noreferrer">redis ä¸­æ–‡å®˜æ–¹ç½‘ç«™</a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="å®‰è£…">å®‰è£…<a href="#å®‰è£…" class="hash-link" aria-label="å®‰è£…çš„ç›´æ¥é“¾æ¥" title="å®‰è£…çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>å®˜æ–¹æ¨èä½¿ç”¨ Linux å»å¼€å‘ä½¿ç”¨ï¼</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="window">window<a href="#window" class="hash-link" aria-label="windowçš„ç›´æ¥é“¾æ¥" title="windowçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ä¸‹è½½åœ°å€ï¼š<span style="display:inline-flex;gap:0.25rem"><span></span><a href="https://github.com/tporadowski/redis/releases" target="_blank" rel="noopener noreferrer">https://github.com/tporadowski/redis/releases</a></span></p>
<p>ä¸‹è½½ <strong>Redis-x64-xxx.zip</strong>å‹ç¼©åŒ… è§£å‹ä¸º redis</p>
<p>åœ¨ redis ç›®å½•ä¸‹ï¼Œæ‰“å¼€ CMD è¾“å…¥ æˆ–è€…åŒå‡»è¿è¡Œ redis-server.exe</p>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">redis-server.exe redis.windows.conf</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>åœ¨æ‰“å¼€ä¸€ä¸ªè¾“å…¥</p>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">redis-cli.exe </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-h</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">127.0</span><span class="token plain">.0.1 </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-p</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">6379</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å³å¯è¿æ¥</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="linux">Linux<a href="#linux" class="hash-link" aria-label="Linuxçš„ç›´æ¥é“¾æ¥" title="Linuxçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p><a href="http://redis.io/download" target="_blank" rel="noopener noreferrer">redis ä¸‹è½½</a></p>
<p><code>redis-6.0.8.tar.gz</code></p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"># wget http://download.redis.io/releases/redis-6.0.8.tar.gz</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># tar xzf redis-6.0.8.tar.gz</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># cd redis-6.0.8</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># å®‰è£…gcc-c++ ç¼–è¯‘</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">yum instatll gcc-c++</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># make</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æ‰§è¡Œå®Œ <strong>make</strong> å‘½ä»¤åï¼Œredis-6.0.8 çš„ <strong>src</strong> ç›®å½•ä¸‹ä¼šå‡ºç°ç¼–è¯‘åçš„ redis æœåŠ¡ç¨‹åº redis-serverï¼Œè¿˜æœ‰ç”¨äºæµ‹è¯•çš„å®¢æˆ·ç«¯ç¨‹åº redis-cli</p>
<p>ä¸‹é¢å¯åŠ¨ redis æœåŠ¡</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"># cd src</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># ./redis-server</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æ³¨æ„è¿™ç§æ–¹å¼å¯åŠ¨ redis ä½¿ç”¨çš„æ˜¯é»˜è®¤é…ç½®ã€‚ä¹Ÿå¯ä»¥é€šè¿‡å¯åŠ¨å‚æ•°å‘Šè¯‰ redis ä½¿ç”¨æŒ‡å®šé…ç½®æ–‡ä»¶ä½¿ç”¨ä¸‹é¢å‘½ä»¤å¯åŠ¨ã€‚</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"># cd src</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># ./redis-server ../redis.conf</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>redis é»˜è®¤å®‰è£…è·¯å¾„ <code>/usr/local/bin</code></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="docker">Docker<a href="#docker" class="hash-link" aria-label="Dockerçš„ç›´æ¥é“¾æ¥" title="Dockerçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="æ‹‰å–é•œåƒ">æ‹‰å–é•œåƒ<a href="#æ‹‰å–é•œåƒ" class="hash-link" aria-label="æ‹‰å–é•œåƒçš„ç›´æ¥é“¾æ¥" title="æ‹‰å–é•œåƒçš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> pull redis</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="å¯åŠ¨-redis">å¯åŠ¨ Redis<a href="#å¯åŠ¨-redis" class="hash-link" aria-label="å¯åŠ¨ Redisçš„ç›´æ¥é“¾æ¥" title="å¯åŠ¨ Redisçš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-d</span><span class="token plain">  </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-v</span><span class="token plain"> </span><span class="token environment constant" style="color:hsl(35, 99%, 36%)">$PWD</span><span class="token plain">/data:/data </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">--name</span><span class="token plain"> redis </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-p</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">6379</span><span class="token plain">:6379 redis redis-server </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">--requirepass</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;123456&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">--appendonly</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">yes</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å¯åŠ¨å‘½ä»¤è¯´æ˜ï¼š</p>
<ul>
<li><code>$PWD/data:/data</code> :  æ˜ å°„ redis çš„ data ç›®å½•åˆ°å½“å‰ç›®å½•ä¸‹çš„ data ç›®å½•</li>
<li><code>--requirepass</code> : æ˜¯è®¾ç½® redis çš„å¯†ç </li>
<li><code>--appendonly yes</code> : å¯ç”¨æŒä¹…åŒ–å­˜å‚¨</li>
</ul>
<p>ä¾‹å¦‚ï¼š</p>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-d</span><span class="token plain">  </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-v</span><span class="token plain"> /home/app/redis/data:/data </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">--name</span><span class="token plain"> redis </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-p</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">6379</span><span class="token plain">:6379 redis  redis-server </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">--requirepass</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;123456&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">--appendonly</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">yes</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å¦‚æœéœ€è¦ä½¿ç”¨é…ç½®æ–‡ä»¶ï¼Œåˆ™éœ€è¦åšä¸ªæ–‡ä»¶æ˜ å°„ï¼›æ³¨æ„æ‰€åœ¨ç›®å½•ä¸‹å¿…é¡»è¦æœ‰ redis.conf è¿™ä¸ªæ–‡ä»¶ï¼Œå¦åˆ™å°†å¯åŠ¨å¤±è´¥ã€‚</p>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-d</span><span class="token plain">  </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-v</span><span class="token plain"> /home/app/redis/data:/data  </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-v</span><span class="token plain"> /home/app/redis/conf:/usr/local/etc/redis </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">--name</span><span class="token plain"> redis </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-p</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">6379</span><span class="token plain">:6379 redis redis-server /usr/local/etc/redis/redis.conf</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>redis çš„è¿™ä¸ªé…ç½®æ–‡ä»¶å¯ä»¥åˆ°å®˜æ–¹çš„è¿™ä¸ªåœ°å€ä¸Šå»è·å– <a href="http://download.redis.io/redis-stable" target="_blank" rel="noopener noreferrer">http://download.redis.io/redis-stable</a></p>
</blockquote>
<p>æ›´å¤š: <a href="https://www.cnblogs.com/vchar/p/14347260.html" target="_blank" rel="noopener noreferrer">Docker ä¸Šå®‰è£… Redis</a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="åŸºæœ¬å‘½ä»¤">åŸºæœ¬å‘½ä»¤<a href="#åŸºæœ¬å‘½ä»¤" class="hash-link" aria-label="åŸºæœ¬å‘½ä»¤çš„ç›´æ¥é“¾æ¥" title="åŸºæœ¬å‘½ä»¤çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p><a href="http://www.redis.cn/commands.html" target="_blank" rel="noopener noreferrer">Redis å‘½ä»¤ä¸­å¿ƒï¼ˆRedis commandsï¼‰</a></p>
<p>Redis ä¸åŒºåˆ†å¤§å°å†™ ä¸€èˆ¬æ¨èå¤§å†™(ä¸ Mysql ä¸€æ ·)</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">set</span><span class="token plain"> key value</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">get key</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">keys * </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># æŸ¥çœ‹æ‰€æœ‰key</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">EXISTS key </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># åˆ¤æ–­key æ˜¯å¦å­˜åœ¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">type</span><span class="token plain"> key </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># æŸ¥çœ‹keyçš„valueç±»å‹</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">EXPIRE key second </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># è®¾ç½®keyçš„è¿‡æœŸæ—¶é—´,å•ä½æ˜¯ç§’</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">ttl key </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># æŸ¥çœ‹å½“å‰key çš„å‰©ä½™æ—¶é—´</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="äº”å¤§æ•°æ®ç±»å‹">äº”å¤§æ•°æ®ç±»å‹<a href="#äº”å¤§æ•°æ®ç±»å‹" class="hash-link" aria-label="äº”å¤§æ•°æ®ç±»å‹çš„ç›´æ¥é“¾æ¥" title="äº”å¤§æ•°æ®ç±»å‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>Redis æ”¯æŒäº”ç§æ•°æ®ç±»å‹ï¼šstringï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼Œhashï¼ˆå“ˆå¸Œï¼‰ï¼Œlistï¼ˆåˆ—è¡¨ï¼‰ï¼Œsetï¼ˆé›†åˆï¼‰åŠ zset(sorted setï¼šæœ‰åºé›†åˆ)ã€‚</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="string">String<a href="#string" class="hash-link" aria-label="Stringçš„ç›´æ¥é“¾æ¥" title="Stringçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-javascript codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-javascript codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token constant" style="color:hsl(35, 99%, 36%)">APPEND</span><span class="token plain"> key </span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;123&#x27;</span><span class="token plain"> # ç»™keyåé¢è¿½åŠ å­—ç¬¦ä¸²</span><span class="token number" style="color:hsl(35, 99%, 36%)">123</span><span class="token plain"> å¦‚æœkeyä¸å­˜åœ¨ åˆ™ä¸º</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">set</span><span class="token plain"> è¿”å›å­—ç¬¦ä¸²é•¿åº¦</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token constant" style="color:hsl(35, 99%, 36%)">STRLEN</span><span class="token plain"> key # è·å–å­—ç¬¦ä¸²é•¿åº¦</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">incr key # è‡ªå¢</span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">decr key # è‡ªå‡</span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token constant" style="color:hsl(35, 99%, 36%)">INCRBY</span><span class="token plain"> key </span><span class="token number" style="color:hsl(35, 99%, 36%)">10</span><span class="token plain"> # é€’å¢</span><span class="token number" style="color:hsl(35, 99%, 36%)">10</span><span class="token plain"> æŒ‡å®šå¢é‡</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token constant" style="color:hsl(35, 99%, 36%)">DECRBY</span><span class="token plain"> key </span><span class="token number" style="color:hsl(35, 99%, 36%)">10</span><span class="token plain"> # é€’å‡</span><span class="token number" style="color:hsl(35, 99%, 36%)">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token constant" style="color:hsl(35, 99%, 36%)">GETRANGE</span><span class="token plain"> key </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain"> # æˆªå–å­—ç¬¦ä¸² </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain"> åŒ…æ‹¬</span><span class="token number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token constant" style="color:hsl(35, 99%, 36%)">GETRANGE</span><span class="token plain"> key </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> # æˆªå–æ‰€æœ‰å­—ç¬¦ä¸²</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token constant" style="color:hsl(35, 99%, 36%)">SETRANGE</span><span class="token plain"> key </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> xxx # æ›¿æ¢æŒ‡å®šä½ç½®çš„å­—ç¬¦ä¸²</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">###########################################################################</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">setex</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">set</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">with</span><span class="token plain"> expire</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> # è®¾ç½®è¿‡æœŸæ—¶é—´</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">setnx</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">set</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> not exist</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> # </span><span class="token function" style="color:hsl(221, 87%, 60%)">ä¸å­˜åœ¨åœ¨è®¾ç½®</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">åˆ†å¸ƒå¼é”ä¸­ä¼šå¸¸å¸¸ä½¿ç”¨</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">setex key3 </span><span class="token number" style="color:hsl(35, 99%, 36%)">30</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;hello&#x27;</span><span class="token plain"> # è®¾ç½®key3çš„ä¸ºhello</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token number" style="color:hsl(35, 99%, 36%)">30</span><span class="token plain">ç§’åè¿‡æœŸ</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">###########################################################################</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">mset mget msetex # æ‰¹é‡è®¾ç½®ä¸æ‰¹é‡è·å–</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">mset k1 v1 k2 v2 k3 v3</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">msetex k1 v1 k4 v4 # åŸå­æ€§çš„æ“ä½œ è¦ä¹ˆä¸€èµ·æˆåŠŸ è¦ä¹ˆä¸€èµ·å¤±è´¥</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">getset key value # å…ˆå–åè®¾ç½® ä¸å­˜åœ¨åˆ™è¿”å›nil å¦‚æœå­˜åœ¨</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain">åˆ™è·å–</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain">å¹¶èµ‹ä¸ºæ–°å€¼</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">############################################################################</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"># å¯¹è±¡</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">set</span><span class="token plain"> </span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">user</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">name</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain">kuizuo</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">age</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token number" style="color:hsl(35, 99%, 36%)">20</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"> # è®¾ç½®userä¸ºä¸€ä¸ªå¯¹è±¡</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"># or</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">set</span><span class="token plain"> </span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">user</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain">name kuizuo</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"># user</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain">id</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain">filed</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"> value</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">get</span><span class="token plain"> </span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">user</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"># or</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">get</span><span class="token plain"> </span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">user</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain">name</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>String ç±»ä¼¼çš„ä½¿ç”¨åœºæ™¯: value é™¤äº†æ˜¯å­—ç¬¦ä¸²è¿˜å¯ä»¥æ˜¯æ•°å­— æˆ–è€…å¯¹è±¡</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="list">List<a href="#list" class="hash-link" aria-label="Listçš„ç›´æ¥é“¾æ¥" title="Listçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>redis é‡Œ List å¯ä»¥å……å½“æ ˆ,é˜Ÿåˆ—,é˜»å¡é˜Ÿåˆ—</p>
<p><strong>æ‰€æœ‰ list å‘½ä»¤ç”¨ l å¼€å¤´</strong></p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">LPUSH list value </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># å°†value å°†ä¸€ä¸ªå€¼æˆ–å¤šä¸ªå€¼æ’å…¥åˆ—è¡¨å¤´éƒ¨(å·¦)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">RPUSH list value </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># å°†value å°†ä¸€ä¸ªå€¼æˆ–å¤šä¸ªå€¼æ’å…¥åˆ—è¡¨åº•éƒ¨(å³)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">LRANGE list </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-1</span><span class="token plain"> </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># è·å–æ‰€æœ‰listå…ƒç´ </span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">LPOP list </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># ç§»é™¤listçš„ç¬¬ä¸€ä¸ªå…ƒç´ (å·¦)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">RPOP list </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># ç§»é™¤listçš„æœ€åä¸€ä¸ªå…ƒç´ (å³)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Lindex list </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># é€šè¿‡ä¸‹æ ‡è·å–listä¸­çš„æŸä¸€ä¸ªå€¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Lset list </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"> item </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># å¦‚æœä¸å­˜åœ¨åˆ—è¡¨ å»æ›´æ–°å°±ä¼šæŠ¥é”™</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Llen list </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># å–åˆ—è¡¨çš„é•¿åº¦</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Lrem list </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> one </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># ç§»é™¤æŒ‡å®šçš„å€¼ ä¾‹:ç§»é™¤ä¸€ä¸ªä¸ºoneçš„</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Ltrim list </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain"> </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># æˆªå–1-2 åŒ…æ‹¬2</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Linsert list before </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;world&quot;</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;new&quot;</span><span class="token plain"> </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># åœ¨world å‰é¢æ’å…¥new åé¢åˆ™ç”¨after</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">rpoplpush list1 list2 </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># ç§»é™¤åˆ—è¡¨æœ€åä¸€ä¸ªå…ƒç´ ,å°†ä»–ç§»åŠ¨åˆ°æ–°çš„åˆ—è¡¨</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>åˆ—è¡¨å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªé“¾è¡¨</p>
<p>å¯ä»¥å®ç°æ¶ˆæ¯é˜Ÿåˆ— (Lpush Rpop),æ ˆ(Lpush Lpop)</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="set">Set<a href="#set" class="hash-link" aria-label="Setçš„ç›´æ¥é“¾æ¥" title="Setçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>set ä¸­çš„å€¼æ˜¯æ— æ³•é‡å¤çš„ï¼Œæ— åºä¸é‡å¤é›†åˆ</p>
<p><strong>set å‘½ä»¤ç”¨ s å¼€å¤´</strong></p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">sadd myset </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;hello&quot;</span><span class="token plain"> </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># seté›†åˆä¸­æ·»åŠ å…ƒç´ </span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">scard myset </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># è·å–seté›†åˆä¸­çš„å†…å®¹å…ƒç´ ä¸ªæ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">smembers myset </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># æŸ¥çœ‹æŒ‡å®šsetçš„æ‰€æœ‰å€¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">sismember myset hello </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># åˆ¤æ–­æŸä¸€ä¸ªå€¼æ˜¯ä¸æ˜¯åœ¨seté›†åˆä¸­</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">SRANDMEMBER myset </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># éšæœºæŠ½é€‰å‡ºä¸€ä¸ªå…ƒç´ </span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">SRANDMEMBER myset </span><span class="token number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain"> </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># éšæœºæŠ½é€‰å‡ºæŒ‡å®šä¸ªæ•°å…ƒç´ </span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)">#####################################################################</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># è·å–setä¸­çš„å·®é›†</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">SDIFF set1 set2</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># è·å–setä¸­çš„äº¤é›†</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">SINTER set1 set2</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># è·å–setä¸­çš„å¹¶é›†</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">SUNION set1 set2</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä¾‹å¦‚ï¼šå…±åŒå¥½å‹å°±å¯ä»¥ä½¿ç”¨ set äº¤é›†æ¥å®ç°</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="hash">Hash<a href="#hash" class="hash-link" aria-label="Hashçš„ç›´æ¥é“¾æ¥" title="Hashçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>Map é›†åˆï¼Œkey-map(key-value)</p>
<p><strong>set å‘½ä»¤ç”¨ h å¼€å¤´</strong></p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">hset myhash field1 kuizuo</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">hget myhash field1</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">hgetall myhash</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">hdel myhash</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">hlen myhash </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># è·å–hashè¡¨çš„å­—æ®µæ•°é‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">HEXISTS myhash field1 </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># åˆ¤æ–­hashä¸­ æŒ‡å®šå­—æ®µæ˜¯å¦å­˜åœ¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Hkeys myhash </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># åªè·å¾—æ‰€æœ‰field</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Hvals myhash </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># åªè·å¾—æ‰€æœ‰value</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>hash å¯å˜æ›´æ•°æ® æ¯”å¦‚ user ä¿¡æ¯,æ›´é€‚åˆå¯¹è±¡çš„å­˜å‚¨</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="zset">Zset<a href="#zset" class="hash-link" aria-label="Zsetçš„ç›´æ¥é“¾æ¥" title="Zsetçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>æœ‰åºé›†åˆï¼Œåœ¨ set çš„åŸºç¡€ä¸Šå¢åŠ äº†ä¸€ä¸ªå€¼ score</p>
<p><strong>zset å‘½ä»¤ç”¨ z å¼€å¤´</strong></p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">zadd myset </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> one</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">zadd myset </span><span class="token number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain"> two </span><span class="token number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain"> three</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># ZRANGEBYSCORE key min max ä¸€å®šè¦ä»å°åˆ°å¤§</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">ZRANGEBYSCORE myset </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-inf</span><span class="token plain"> +inf </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># æ ¹æ®scoreæ’åº</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">ZREVERANGE myset </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-1</span><span class="token plain"> </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># ä»å¤§åˆ°å°è¿›è¡Œæ’åº!</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Zrem myset item </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># ç§»é™¤æœ‰åºé›†åˆä¸­çš„æŒ‡å®šå…ƒç´ </span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Zcard myset </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># è·å–æœ‰åºé›†åˆä¸­å…ƒç´ çš„ä¸ªæ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æ¡ˆä¾‹<!-- -->:set<!-- --> æ’åº ç­çº§æˆç»©è¡¨ï¼Œå·¥èµ„è¡¨æ’åº</p>
<p>æ™®é€šæ¶ˆæ¯ 1 é‡è¦æ¶ˆæ¯ 2 å¸¦æƒé‡è¿›è¡Œåˆ¤æ–­</p>
<p>æ’è¡Œæ¦œåº”ç”¨å®ç°ï¼Œå– TOP N</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="ä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹">ä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹<a href="#ä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹" class="hash-link" aria-label="ä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹çš„ç›´æ¥é“¾æ¥" title="ä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="geospatial">geospatial<a href="#geospatial" class="hash-link" aria-label="geospatialçš„ç›´æ¥é“¾æ¥" title="geospatialçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>åœ°å€ä½ç½®ï¼Œ<strong>geospatial å‘½ä»¤ç”¨ geo å¼€å¤´</strong></p>
<p><strong>GEO åº•å±‚çš„å®ç°åŸç†å°±æ˜¯ Zset,æ‰€ä»¥å¯ä»¥ä½¿ç”¨ Zset å‘½ä»¤æ¥æ“ä½œ Geo!</strong></p>
<p>åº”ç”¨: æ¨ç®—åœ°ç†ä½ç½®çš„ä¿¡æ¯ï¼Œä¸¤åœ°ä¹‹é—´çš„è·ç¦»ï¼Œæ–¹åœ†å‡ é‡Œçš„äºº</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"># è§„åˆ™: ä¸¤ææ— æ³•ç›´æ¥æ·»åŠ ,ä¸€èˆ¬éƒ½æ˜¯ç›´æ¥ä¸‹è½½åŸå¸‚æ•°æ®,ç›´æ¥é€šè¿‡ç¨‹åºä¸€æ¬¡æ€§è¯»å…¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># å‚æ•°: key (ç»åº¦ï¼Œçº¬åº¦ã€åç§°) åˆ‡è®°ä¸å¯åï¼ ç»çº¬åº¦</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># æœ‰æ•ˆç»åº¦-180åº¦åˆ°180åº¦ æœ‰æ•ˆçº¬åº¦-85.05112878åˆ°85.05112878</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">GEOADD china:city </span><span class="token number" style="color:hsl(35, 99%, 36%)">116.40</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">39.90</span><span class="token plain"> beijin </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># è®¾ç½®åŒ—äº¬çš„ç»çº¬åº¦</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">GEOPOS china:city beijing </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># è·å–åŒ—äº¬çš„ç»çº¬åº¦</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">GEODIST china:city beijing shanghai unit </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># è·å–ä¸¤åœ°ä¹‹é—´çš„è·ç¦» é»˜è®¤å•ä½m</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">GEORADIS china:city </span><span class="token number" style="color:hsl(35, 99%, 36%)">110</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">30</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">1000</span><span class="token plain"> km </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># ä»¥110,30 è¿™ä¸ªç‚¹èŒƒå›´1000kmçš„ åœ°ç†ä½ç½®</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">GEORADIS china:city </span><span class="token number" style="color:hsl(35, 99%, 36%)">110</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">30</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">500</span><span class="token plain"> km withdist withcoord count </span><span class="token number" style="color:hsl(35, 99%, 36%)">10</span><span class="token plain"> </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># ä»¥110,30 è¿™ä¸ªç‚¹èŒƒå›´500kmçš„ è·å–10ä¸ª å¸¦ç›´çº¿è·ç¦»å’Œç»çº¬åº¦</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">GEORADIUSBYMEMBER chaina:city beijing 1000m </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># ä»¥åŒ—äº¬å‘¨å›´1000kmçš„ åœ°ç†ä½ç½®</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">GEOHASH china:city beijing </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># å°†äºŒç»´çš„åœ°å€ä½ç½®è½¬ä¸ºä¸€ä½11ä½å­—ç¬¦ä¸²,å¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²è¶Šæ¥è¿‘,åˆ™è·ç¦»è¶Šè¿‘</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">ZRANGE chaina:city </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-1</span><span class="token plain"> </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># æŸ¥çœ‹åœ°å›¾ä¸­å…¨éƒ¨å…ƒç´ </span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">ZREM chaina:city beijing </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># ç§»é™¤æŒ‡å®šå…ƒç´ </span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="hyperloglog">Hyperloglog<a href="#hyperloglog" class="hash-link" aria-label="Hyperloglogçš„ç›´æ¥é“¾æ¥" title="Hyperloglogçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>Redis Hyperloglog åŸºæ•°ç»Ÿè®¡çš„ç®—æ³•</p>
<p>åŸºæ•°(ä¸é‡å¤çš„å…ƒç´ )ï¼Œä¼šæœ‰è¯¯å·®ï¼0.81 çš„é”™è¯¯ç‡ï¼Œä½†ä½¿ç”¨åœºæ™¯æ˜¯å¯ä»¥æ¥å—çš„</p>
<p>ç»Ÿè®¡ç½‘é¡µçš„ UV ï¼ˆä¸€ä¸ªäººè®¿é—®ä¸€ä¸ªç½‘ç«™å¤šæ¬¡ï¼Œä½†æ˜¯è¿˜æ˜¯ç®—ä½œä¸€ä¸ªäººï¼‰ï¼Œä¼ ç»Ÿçš„æ–¹å¼ï¼Œç”¨ set ä¿å­˜ç”¨æˆ·çš„ idï¼Œç„¶åç»Ÿè®¡ set ä¸­çš„å…ƒç´ æ•°é‡æ¥ä½œä¸ºæ ‡å‡†åˆ¤æ–­ã€‚</p>
<p><strong>Hyperloglog å‘½ä»¤ ä½¿ç”¨ PF å¼€å¤´</strong></p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">PFadd mykey1 a b c d e f g h i j</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">PFadd mykey2 i j k l m n o</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">PFMERGE mykey3 mykey1 mykey2 </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># è·å–å¹¶é›† å¹¶ç”Ÿæˆæ–°çš„ç»„</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">PFCOUNT mykey </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># è·å–å…ƒç´ çš„æ•°é‡</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å…è®¸å®¹é”™,ä¸€å®šå¯ä»¥ä½¿ç”¨ Hyperloglog</p>
<p>ä¸å…è®¸å®¹é”™,å°±ä½¿ç”¨ set ä¸è‡ªå·±çš„æ•°æ®ç±»å‹å³å¯</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="bitmaps">Bitmaps<a href="#bitmaps" class="hash-link" aria-label="Bitmapsçš„ç›´æ¥é“¾æ¥" title="Bitmapsçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ä½å­˜å‚¨</p>
<p>ç»Ÿè®¡ç”¨æˆ·ä¿¡æ¯ï¼Œæ´»è·ƒï¼Œä¸æ´»è·ƒï¼›ç™»å½•ï¼Œä¸ç™»å½•ï¼Œæ‰“å¡ï¼›ä¸¤ä¸ªçŠ¶æ€çš„éƒ½å¯ä»¥ä½¿ç”¨ Bitmaps</p>
<p>Bitmaps ä½å›¾,æ•°æ®ç»“æ„ï¼Œéƒ½æ˜¯æ“ä½œäºŒè¿›åˆ¶ä¸ºæ¥è¿›è¡Œè®°å½•ï¼Œå°±åªæœ‰ 0 å’Œ 1 ä¸¤ä¸ªçŠ¶æ€ï¼</p>
<div class="language-javascript codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-javascript codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"># è®°å½•å‘¨ä¸€åˆ°å‘¨æ—¥çš„æ‰“å¡</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">setbit sign </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">setbit sign </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">setbit sign </span><span class="token number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">setbit sign </span><span class="token number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">setbit sign </span><span class="token number" style="color:hsl(35, 99%, 36%)">4</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">setbit sign </span><span class="token number" style="color:hsl(35, 99%, 36%)">5</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">setbit sign </span><span class="token number" style="color:hsl(35, 99%, 36%)">6</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"># æŸ¥çœ‹æŸä¸€å¤©æ˜¯å¦æœ‰æ‰“å¼€</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">getbit sign </span><span class="token number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"># ç»Ÿè®¡æ‰“å¡çš„å¤©æ•°</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">bitcount sign</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="äº‹åŠ¡">äº‹åŠ¡<a href="#äº‹åŠ¡" class="hash-link" aria-label="äº‹åŠ¡çš„ç›´æ¥é“¾æ¥" title="äº‹åŠ¡çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>Redis å•æ¡å‘½ä»¤å¼ä¿å­˜åŸå­æ€§çš„ï¼Œä½†æ˜¯äº‹åŠ¡ä¸ä¿è¯åŸå­æ€§!</p>
<p>Redis äº‹åŠ¡æœ¬è´¨ï¼š ä¸€ç»„å‘½ä»¤çš„é›†åˆï¼ä¸€ä¸ªäº‹åŠ¡ä¸­çš„æ‰€æœ‰å‘½ä»¤éƒ½ä¼šè¢«åºåˆ—åŒ–ï¼Œä¼šå®‰å“é¡ºåºæ‰§è¡Œ</p>
<p>ä¸€æ¬¡æ€§ã€é¡ºåºæ€§ã€æ’ä»–æ€§ï¼æ‰§è¡Œä¸€äº›åˆ—çš„å‘½ä»¤ï¼</p>
<p>Redis äº‹åŠ¡æ²¡æœ‰éš”ç¦»çº§åˆ«çš„æ¦‚å¿µï¼</p>
<p>æ‰€æœ‰å‘½ä»¤åœ¨äº‹åŠ¡ä¸­å¹¶æ²¡æœ‰ç›´æ¥å‘—æ‰§è¡Œï¼è€Œåªæœ‰å‘èµ·æ‰§è¡Œå‘½ä»¤çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œï¼Exec</p>
<ul>
<li>å¼€å§‹äº‹åŠ¡ï¼ˆmultiï¼‰</li>
<li>å‘½ä»¤å…¥é˜Ÿï¼ˆ...ï¼‰</li>
<li>æ‰§è¡Œäº‹åŠ¡ï¼ˆexecï¼‰</li>
</ul>
<div class="language-javascript codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-javascript codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">multi</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">set</span><span class="token plain"> k1 v1</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">set</span><span class="token plain"> k2 v2</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">get</span><span class="token plain"> k1</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">exec  # æ‰§è¡Œäº‹åŠ¡</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token constant" style="color:hsl(35, 99%, 36%)">DISCARD</span><span class="token plain"> # å–æ¶ˆäº‹åŠ¡ äº‹åŠ¡é˜Ÿåˆ—ä¸­çš„å‘½ä»¤éƒ½ä¸ä¼šè¢«æ‰§è¡Œ</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"># ä»£ç æœ‰é—®é¢˜ï¼Œå‘½ä»¤æœ‰é”™ï¼Œäº‹åŠ¡ä¸­æ‰€æœ‰å‘½ä»¤éƒ½ä¸ä¼šè¢«æ‰§è¡Œ</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"># è¿è¡Œä¸­å¼‚å¸¸ï¼Œæ‰§è¡Œå…¶ä»–å‘½ä»¤æ­£å¸¸ï¼Œé”™è¯¯å‘½ä»¤æŠ›å‡ºå¼‚å¸¸</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="ç›‘æ§-watch">ç›‘æ§ Watch<a href="#ç›‘æ§-watch" class="hash-link" aria-label="ç›‘æ§ Watchçš„ç›´æ¥é“¾æ¥" title="ç›‘æ§ Watchçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>æ‚²è§‚é”ï¼šå¾ˆæ‚²è§‚ï¼Œè®¤ä¸ºä»€ä¹ˆæ—¶å€™éƒ½ä¼šå‡ºé—®é¢˜ï¼Œæ— è®ºåšä»€ä¹ˆéƒ½ä¼šåŠ é”</p>
<p>ä¹è§‚é”ï¼šå¾ˆä¹è§‚ï¼Œè®¤ä¸ºä»€ä¹ˆæ—¶å€™éƒ½ä¸ä¼šå‡ºé—®é¢˜ï¼Œæ‰€ä»¥ä¸ä¼šä¸Šé”ï¼æ›´æ–°æ•°æ®çš„æ—¶å€™åˆ¤æ–­ä¸€ä¸‹ï¼Œåœ¨æ­¤æœŸé—´æ˜¯å¦æœ‰äººä¿®æ”¹è¿‡è¯¥æ•°æ®</p>
<div class="language-javascript codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-javascript codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">set</span><span class="token plain"> money </span><span class="token number" style="color:hsl(35, 99%, 36%)">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">set</span><span class="token plain"> out </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">watch money</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">multi</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token constant" style="color:hsl(35, 99%, 36%)">DECRBY</span><span class="token plain"> money </span><span class="token number" style="color:hsl(35, 99%, 36%)">20</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token maybe-class-name">InCRBY</span><span class="token plain"> money </span><span class="token number" style="color:hsl(35, 99%, 36%)">20</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"># å¦‚æœè¿™æ—¶ç”¨æˆ·å……é’±äº† é‚£ä¹ˆexecå°±æ— æ³•æ‰§è¡Œ</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">exec</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"># è§£é™¤ç›‘æ§ï¼Œå¹¶é‡æ–°ç›‘æ§æœ€æ–°çš„å€¼</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">unwatch money</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">watch money</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="redisconf">Redis.conf<a href="#redisconf" class="hash-link" aria-label="Redis.confçš„ç›´æ¥é“¾æ¥" title="Redis.confçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>é…ç½®æ–‡ä»¶ unit å•ä½å¯¹å¤§å°å†™ä¸æ•æ„Ÿ</p>
<h5 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="ç½‘ç»œ">ç½‘ç»œ<a href="#ç½‘ç»œ" class="hash-link" aria-label="ç½‘ç»œçš„ç›´æ¥é“¾æ¥" title="ç½‘ç»œçš„ç›´æ¥é“¾æ¥">â€‹</a></h5>
<div class="language-javascript codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-javascript codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">bind </span><span class="token number" style="color:hsl(35, 99%, 36%)">127.0</span><span class="token number" style="color:hsl(35, 99%, 36%)">.0</span><span class="token number" style="color:hsl(35, 99%, 36%)">.1</span><span class="token plain"> # ç»‘å®šçš„</span><span class="token constant" style="color:hsl(35, 99%, 36%)">IP</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">protected</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">mode yes # ä¿æŠ¤æ¨¡å¼</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">port </span><span class="token number" style="color:hsl(35, 99%, 36%)">6379</span><span class="token plain"> # ç«¯å£è®¾ç½®</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="general-é€šç”¨">GENERAL é€šç”¨<a href="#general-é€šç”¨" class="hash-link" aria-label="GENERAL é€šç”¨çš„ç›´æ¥é“¾æ¥" title="GENERAL é€šç”¨çš„ç›´æ¥é“¾æ¥">â€‹</a></h5>
<div class="language-javascript codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-javascript codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">daemonize yes # ä»¥å®ˆæŠ¤è¿›ç¨‹æ–¹å¼çš„è¿è¡Œ</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain">é»˜è®¤æ˜¯no</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain">éœ€è‡ªå·±å¼€å¯yes</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">pidfile </span><span class="token operator" style="color:hsl(221, 87%, 60%)">/</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">var</span><span class="token operator" style="color:hsl(221, 87%, 60%)">/</span><span class="token plain">run</span><span class="token operator" style="color:hsl(221, 87%, 60%)">/</span><span class="token plain">redis_6379</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token property-access">pid</span><span class="token plain"> # ä»¥åå°æ–¹å¼è¿è¡Œ</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain">å°±éœ€è¦æŒ‡å®šä¸€ä¸ªpidæ–‡ä»¶</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"># </span><span class="token maybe-class-name">Specify</span><span class="token plain"> the server verbosity level</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"># </span><span class="token maybe-class-name">This</span><span class="token plain"> can be one </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">of</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"># </span><span class="token function" style="color:hsl(221, 87%, 60%)">debug</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">a lot </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">of</span><span class="token plain"> information</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> useful </span><span class="token keyword control-flow" style="color:hsl(301, 63%, 40%)">for</span><span class="token plain"> development</span><span class="token operator" style="color:hsl(221, 87%, 60%)">/</span><span class="token plain">testing</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"># </span><span class="token function" style="color:hsl(221, 87%, 60%)">verbose</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">many rarely useful info</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> but not a mess like the debug level</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"># </span><span class="token function" style="color:hsl(221, 87%, 60%)">notice</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">moderately verbose</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> what you want </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">in</span><span class="token plain"> production probably</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"># </span><span class="token function" style="color:hsl(221, 87%, 60%)">warning</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">only very important </span><span class="token operator" style="color:hsl(221, 87%, 60%)">/</span><span class="token plain"> critical messages are logged</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">loglevel notice</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">logfile # æ—¥å¿—æ–‡ä»¶ä½ç½®å</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">database </span><span class="token number" style="color:hsl(35, 99%, 36%)">16</span><span class="token plain"> # æ•°æ®åº“æ•°é‡ é»˜è®¤</span><span class="token number" style="color:hsl(35, 99%, 36%)">16</span><span class="token plain">ä¸ª</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">alaways</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">show</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">logo yes # æ˜¯å¦æ€»æ˜¯æ˜¾ç¤º</span><span class="token constant" style="color:hsl(35, 99%, 36%)">LOGO</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="å¿«ç…§">å¿«ç…§<a href="#å¿«ç…§" class="hash-link" aria-label="å¿«ç…§çš„ç›´æ¥é“¾æ¥" title="å¿«ç…§çš„ç›´æ¥é“¾æ¥">â€‹</a></h5>
<p>æŒä¹…åŒ–,åœ¨è§„å®šçš„æ—¶é—´å†…,æ‰§è¡Œäº†å¤šå°‘æ¬¡æ“ä½œ,åˆ™ä¼šæŒä¹…åŒ–åˆ°æ–‡ä»¶ .rdb .aof</p>
<div class="language-javascript codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-javascript codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">stop</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">writes</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">on</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">bgsave</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">error yessave </span><span class="token number" style="color:hsl(35, 99%, 36%)">900</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> # åœ¨900så†…</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain">å¦‚æœè‡³å°‘æœ‰ä¸€ä¸ªkeyä¿®æ”¹ åˆ™æŒä¹…åŒ–æ“ä½œ</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">save </span><span class="token number" style="color:hsl(35, 99%, 36%)">300</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">10</span><span class="token plain"> # åœ¨300så†…</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain">å¦‚æœè‡³å°‘æœ‰</span><span class="token number" style="color:hsl(35, 99%, 36%)">10</span><span class="token plain">ä¸ªkeyè¿›è¡Œä¿®æ”¹ åˆ™æŒä¹…åŒ–æ“ä½œ</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">save </span><span class="token number" style="color:hsl(35, 99%, 36%)">60</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">10000</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">stop</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">writes</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">on</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">bgsave</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">error yes # æŒä¹…åŒ–å¦‚æœå‡ºé”™ æ˜¯å¦ç»§ç»­å·¥ä½œ</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">rdbcompression yes # æ˜¯å¦å‹ç¼©rdbæ–‡ä»¶</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain">ä¼šæ¶ˆè€—ä¸€äº›cpuèµ„æº</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">rdbchecksum yes # ä¿å­˜rdbæ–‡ä»¶çš„æ—¶å€™</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain">æ˜¯å¦æ•ˆéªŒ</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">dir </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token operator" style="color:hsl(221, 87%, 60%)">/</span><span class="token plain"> # rdbä¿å­˜çš„ç›®å½•</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">dbfilename dump</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token property-access">rdb</span><span class="token plain"> # ä¿å­˜çš„æ–‡ä»¶å</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="replication-ä¸»ä»å¤åˆ¶">REPLICATION ä¸»ä»å¤åˆ¶<a href="#replication-ä¸»ä»å¤åˆ¶" class="hash-link" aria-label="REPLICATION ä¸»ä»å¤åˆ¶çš„ç›´æ¥é“¾æ¥" title="REPLICATION ä¸»ä»å¤åˆ¶çš„ç›´æ¥é“¾æ¥">â€‹</a></h5>
<div class="language-javascript codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-javascript codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">slaveof </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">masterip</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">masterport</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain"> # è®¾ç½®ä¸»æœºçš„ç«¯å£å’Œip</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="security-å¯†ç ">SECURITY å¯†ç <a href="#security-å¯†ç " class="hash-link" aria-label="SECURITY å¯†ç çš„ç›´æ¥é“¾æ¥" title="SECURITY å¯†ç çš„ç›´æ¥é“¾æ¥">â€‹</a></h5>
<p>requirepass å¯†ç </p>
<div class="language-javascript codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-javascript codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">config </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">get</span><span class="token plain"> requirepass</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">config </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">set</span><span class="token plain"> requirepass </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;123456&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">auth </span><span class="token number" style="color:hsl(35, 99%, 36%)">123456</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="clients-å®¢æˆ·ç«¯">CLIENTS å®¢æˆ·ç«¯<a href="#clients-å®¢æˆ·ç«¯" class="hash-link" aria-label="CLIENTS å®¢æˆ·ç«¯çš„ç›´æ¥é“¾æ¥" title="CLIENTS å®¢æˆ·ç«¯çš„ç›´æ¥é“¾æ¥">â€‹</a></h5>
<div class="language-javascript codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-javascript codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">maxclients </span><span class="token number" style="color:hsl(35, 99%, 36%)">10000</span><span class="token plain">  # é»˜è®¤å®¢æˆ·ç«¯è¿æ¥æ•°</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">maxmemory </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">bytes</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain"> # redis é…ç½®æœ€å¤§çš„å†…å­˜å®¹é‡</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">maxmemory</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">policy noeviction # å†…å­˜è¾¾åˆ°ä¸Šé™åçš„å¤„ç†ç­–ç•¥ # ç§»é™¤ä¸€äº›è¿‡æœŸçš„key</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">noeviction</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> ä¸åˆ é™¤ç­–ç•¥</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> è¾¾åˆ°æœ€å¤§å†…å­˜é™åˆ¶æ—¶</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> å¦‚æœéœ€è¦æ›´å¤šå†…å­˜</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> ç›´æ¥è¿”å›é”™è¯¯ä¿¡æ¯ã€‚ï¼ˆé»˜è®¤å€¼ï¼‰</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">allkeys</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">lru</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> æ‰€æœ‰keyé€šç”¨</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">ä¼˜å…ˆåˆ é™¤æœ€è¿‘æœ€å°‘ä½¿ç”¨</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">less recently used </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token constant" style="color:hsl(35, 99%, 36%)">LRU</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> çš„ keyã€‚</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">volatile</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">lru</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> åªé™äºè®¾ç½®äº† expire çš„éƒ¨åˆ†</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">ä¼˜å…ˆåˆ é™¤æœ€è¿‘æœ€å°‘ä½¿ç”¨</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">less recently used </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token constant" style="color:hsl(35, 99%, 36%)">LRU</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> çš„ keyã€‚</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">allkeys</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">random</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> æ‰€æœ‰keyé€šç”¨</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"> éšæœºåˆ é™¤ä¸€éƒ¨åˆ† keyã€‚</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">volatile</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">random</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> åªé™äºè®¾ç½®äº† expire çš„éƒ¨åˆ†</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"> éšæœºåˆ é™¤ä¸€éƒ¨åˆ† keyã€‚</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">volatile</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">ttl</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> åªé™äºè®¾ç½®äº† expire çš„éƒ¨åˆ†</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">ä¼˜å…ˆåˆ é™¤å‰©ä½™æ—¶é—´</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">time to live</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token constant" style="color:hsl(35, 99%, 36%)">TTL</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> çŸ­çš„keyã€‚</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="append-only-mode-aof-é…ç½®">APPEND ONLY MODE aof é…ç½®<a href="#append-only-mode-aof-é…ç½®" class="hash-link" aria-label="APPEND ONLY MODE aof é…ç½®çš„ç›´æ¥é“¾æ¥" title="APPEND ONLY MODE aof é…ç½®çš„ç›´æ¥é“¾æ¥">â€‹</a></h5>
<div class="language-javascript codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-javascript codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">appendonly no # é»˜è®¤ä¸å¼€å¯aofæ¨¡å¼</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain">é»˜è®¤ä½¿ç”¨rdbæ–¹å¼æŒä¹…åŒ–</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain">åœ¨å¤§éƒ¨åˆ†æƒ…å†µ</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain">rdbå¤Ÿç”¨</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">appendfilename </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;appendonly.aof&quot;</span><span class="token plain">  # æŒä¹…åŒ–æ–‡ä»¶å</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"># appendfsync always  # æ¯æ¬¡ä¿®æ”¹éƒ½ä¼š sync æ¶ˆè€—æ€§èƒ½</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">appendfsync everysec   # ç¾å¦™æ‰§è¡Œä¸€æ¬¡ sync</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain">å¯èƒ½ä¼šä¸¢å¤±è¿™1sçš„æ•°æ®</span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"># appendfsync no # ä¸æ‰§è¡Œsync</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain">è¿™ä¸ªæ—¶å€™æ“ä½œç³»ç»Ÿè‡ªå·±åŒæ­¥æ•°æ®</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain">é€Ÿåº¦æœ€å¿«</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="redis-æŒä¹…åŒ–">Redis æŒä¹…åŒ–<a href="#redis-æŒä¹…åŒ–" class="hash-link" aria-label="Redis æŒä¹…åŒ–çš„ç›´æ¥é“¾æ¥" title="Redis æŒä¹…åŒ–çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>redis æ˜¯å†…å­˜æ•°æ®åº“,å•å¦‚æœä¸å°†å†…å­˜ä¸­çš„æ•°æ®åº“çŠ¶æ€ä¿å­˜çš„ç£ç›˜,ä¸€æ—¦æœåŠ¡å™¨è¿›ç¨‹é€€å‡º,æœåŠ¡å™¨ä¸­çš„æ•°æ®åº“çŠ¶æ€ä¹Ÿä¼šä¸¢å¤±,æ‰€ä»¥ redis æä¾›äº†æŒä¹…åŒ–çš„åŠŸèƒ½</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="rdbredis-database">RDB(Redis Database)<a href="#rdbredis-database" class="hash-link" aria-label="RDB(Redis Database)çš„ç›´æ¥é“¾æ¥" title="RDB(Redis Database)çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>åœ¨æŒ‡å®šçš„æ—¶é—´é—´éš”å†…å°†å†…å­˜ä¸­çš„æ•°æ®é›†å¿«ç…§å†™å…¥ç£ç›˜,ä¹Ÿå°±æ˜¯ Snapshot å¿«ç…§,æ¢å¤æ—¶ç›´æ¥å°†å¿«ç…§æ–‡ä»¶è¯»åˆ°å†…å­˜</p>
<p>Redis ä¼šå•ç‹¬åˆ›å»º ( fork )ä¸€ä¸ªå­è¿›ç¨‹æ¥è¿›è¡ŒæŒä¹…åŒ–ï¼Œä¼šå…ˆå°†æ•°æ®å†™å…¥åˆ°ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ä¸­ï¼Œå¾…æŒä¹…åŒ–è¿‡ç¨‹éƒ½ç»“æŸäº†ï¼Œå†ç”¨è¿™ä¸ªä¸´æ—¶æ–‡ä»¶æ›¿æ¢ä¸Šæ¬¡æŒä¹…åŒ–å¥½çš„æ–‡ä»¶ã€‚æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¸»è¿›ç¨‹æ˜¯ä¸è¿›è¡Œä»»ä½• IO æ“ä½œçš„ã€‚è¿™å°±ç¡®ä¿äº†æé«˜çš„æ€§èƒ½ã€‚å¦‚æœéœ€è¦è¿›è¡Œå¤§è§„æ¨¡æ•°æ®çš„æ¢å¤ï¼Œä¸”å¯¹äºæ•°æ®æ¢å¤çš„å®Œæ•´æ€§ä¸æ˜¯éå¸¸æ•æ„Ÿï¼Œé‚£ RDB æ–¹å¼è¦æ¯” AOF æ–¹å¼æ›´åŠ çš„é«˜æ•ˆã€‚RDB çš„ç¼ºç‚¹æ˜¯æœ€åä¸€æ¬¡æŒä¹…åŒ–åçš„æ•°æ®å¯èƒ½ä¸¢å¤±ã€‚æˆ‘ä»¬é»˜è®¤çš„å°±æ˜¯ RDBï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸éœ€è¦ä¿®æ”¹è¿™ä¸ªé…ç½®!</p>
<p><strong>rdb ä¿å­˜çš„æ–‡ä»¶æ˜¯ dump.rdb</strong></p>
<p>dbfilename dump.rdb</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="è§¦å‘æœºåˆ¶">è§¦å‘æœºåˆ¶<a href="#è§¦å‘æœºåˆ¶" class="hash-link" aria-label="è§¦å‘æœºåˆ¶çš„ç›´æ¥é“¾æ¥" title="è§¦å‘æœºåˆ¶çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>1ã€save çš„è§„åˆ™æ»¡è¶³çš„æƒ…å†µä¸‹ï¼Œä¼šè‡ªåŠ¨è§¦å‘ rdb è§„åˆ™</p>
<p>2ã€æ‰§è¡Œ flushall å‘½ä»¤ï¼Œä¹Ÿä¼šè§¦å‘æˆ‘ä»¬çš„ rdb è§„åˆ™!</p>
<p>3ã€é€€å‡º redisï¼Œä¹Ÿä¼šäº§ç”Ÿ rdb æ–‡ä»¶!</p>
<p>å°±ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª dump.rdbï¼Œæœ‰æ—¶å€™è¿˜æœ‰å¤‡ä»½ä¸€ä»½</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="æ¢å¤-rdb-æ–‡ä»¶">æ¢å¤ rdb æ–‡ä»¶<a href="#æ¢å¤-rdb-æ–‡ä»¶" class="hash-link" aria-label="æ¢å¤ rdb æ–‡ä»¶çš„ç›´æ¥é“¾æ¥" title="æ¢å¤ rdb æ–‡ä»¶çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>åªéœ€è¦å°† rdb æ–‡ä»¶æ”¾åœ¨ redis å¯åŠ¨ç›®å½•ä¸‹å°±å¯ä»¥äº†,redis å¯åŠ¨çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨æ£€æŸ¥ dump.rdb æ–‡ä»¶</p>
<div class="language-javascript codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-javascript codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">config </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">get</span><span class="token plain"> dir</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;dir&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;/usr/local/bin&quot;</span><span class="token plain"> # å¦‚æœåœ¨è¿™ä¸ªç›®å½•ä¸‹å­˜åœ¨dump</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token property-access">rdb</span><span class="token plain"> å¯åŠ¨å°±ä¼šè‡ªåŠ¨æ¢å¤å…¶ä¸­çš„æ•°æ®</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä¼˜ç‚¹:</p>
<p>1ã€é€‚åˆå¤§è§„æ¨¡çš„æ•°æ®æ¢å¤</p>
<p>2ã€å¯¹æ•°æ®çš„å®Œæ•´æ€§è¦æ±‚ä¸é«˜</p>
<p>ç¼ºç‚¹ï¼š</p>
<p>1ã€éœ€è¦ä¸€å®šçš„æ—¶é—´é—´éš”è¿›ç¨‹æ“ä½œï¼Œå¦‚æœ redis æ„å¤–å®•æœºäº†ï¼Œè¿™ä¸ªæœ€åä¸€æ¬¡ä¿®æ”¹æ•°æ®å°±æ²¡æœ‰äº†</p>
<p>2ã€fork è¿›ç¨‹çš„æ—¶å€™ï¼Œä¼šå ç”¨ä¸€å®šçš„å†…å­˜ç©ºé—´</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="aofappend-only-file">AOFï¼ˆAppend Only Fileï¼‰<a href="#aofappend-only-file" class="hash-link" aria-label="AOFï¼ˆAppend Only Fileï¼‰çš„ç›´æ¥é“¾æ¥" title="AOFï¼ˆAppend Only Fileï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>å°†æˆ‘ä»¬çš„æ‰€æœ‰å‘½ä»¤éƒ½è®°å½•ä¸‹æ¥ï¼Œhistoryï¼Œæ¢å¤çš„æ—¶å€™å°±æŠŠè¿™ä¸ªæ–‡ä»¶å†…çš„å‘½ä»¤å…¨éƒ¨åœ¨æ‰§è¡Œä¸€é</p>
<p>é»˜è®¤æ˜¯ä¸å¼€å¯çš„ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨è¿›è¡Œé…ç½®!æˆ‘ä»¬åªéœ€è¦å°† appendonly æ”¹ä¸º yes å°±å¼€å¯äº† aof !é‡å¯</p>
<p>redis å°±å¯ä»¥ç”Ÿæ•ˆäº†</p>
<p>å¦‚æœè¿™ä¸ª aof æ–‡ä»¶æœ‰é”™è¯¯ï¼Œè¿™æ—¶å€™ redis æ˜¯å¯åŠ¨ä¸èµ·æ¥çš„ï¼Œæˆ‘ä»¬éœ€è¦ä¿®å¤è¿™ä¸ª aof æ–‡ä»¶ï¼Œredis ç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå·¥å…· redis-check-aof --fix</p>
<p>ä¼˜ç‚¹</p>
<p>å¯æŒ‡å®šä¿®æ”¹éƒ½åŒæ­¥è¿˜æ˜¯æ¯ç§’éƒ½åŒæ­¥ï¼Œæ–‡ä»¶å®Œæ•´æ€§ä¼šæ›´å¥½</p>
<p>ç¼ºç‚¹:</p>
<p>ç›¸å¯¹äºæ•°æ®æ–‡ä»¶ï¼Œaof è¿œè¿œå¤§äº rdbï¼Œä¿®å¤çš„é€Ÿåº¦ä¹Ÿä¸å¦‚ rdb</p>
<p>Aof çš„è¿è¡Œæ•ˆç‡ä¹Ÿè¦æ¯” rdb æ…¢ã€‚</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="å°ç»“">å°ç»“<a href="#å°ç»“" class="hash-link" aria-label="å°ç»“çš„ç›´æ¥é“¾æ¥" title="å°ç»“çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>åªåšç¼“å­˜ï¼Œå¦‚æœä½ åªå¸Œæœ›ä½ çš„æ•°æ®åœ¨æœåŠ¡å™¨è¿è¡Œçš„æ—¶å€™å­˜åœ¨ï¼Œä¹Ÿå¯ä»¥ä¸ä½¿ç”¨ä»»ä½•æŒä¹…åŒ–</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="redis-å‘å¸ƒè®¢é˜…">Redis å‘å¸ƒè®¢é˜…<a href="#redis-å‘å¸ƒè®¢é˜…" class="hash-link" aria-label="Redis å‘å¸ƒè®¢é˜…çš„ç›´æ¥é“¾æ¥" title="Redis å‘å¸ƒè®¢é˜…çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>Redis å‘å¸ƒè®¢é˜…(publsub)æ˜¯ä¸€ç§æ¶ˆæ¯é€šä¿¡æ¨¡å¼ âˆ¶ å‘é€è€…(pub)å‘é€æ¶ˆæ¯ï¼Œè®¢é˜…è€…(sub)æ¥æ”¶æ¶ˆæ¯ã€‚Redis å®¢æˆ·ç«¯å¯ä»¥è®¢é˜…ä»»æ„æ•°é‡çš„é¢‘é“ã€‚
è®¢é˜…/å‘å¸ƒæ¶ˆæ¯å›¾ï¸°</p>
<p>ç¬¬ä¸€ä¸ªï¼šæ¶ˆæ¯å‘å¸ƒè€…ï¼Œç¬¬äºŒä¸ªé¢‘é“ï¼ˆæ¶ˆæ¯é˜Ÿåˆ—ï¼‰ï¼Œç¬¬ä¸‰ä¸ªï¼šæ¶ˆæ¯è®¢é˜…è€…</p>
<p><img loading="lazy" src="http://cdn.kuizuo.cn/blogR50ea35ec36a3e4ea16cb132637477df0" alt="æŸ¥çœ‹æºå›¾åƒ" class="img_THfu"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="æµ‹è¯•">æµ‹è¯•<a href="#æµ‹è¯•" class="hash-link" aria-label="æµ‹è¯•çš„ç›´æ¥é“¾æ¥" title="æµ‹è¯•çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>è®¢é˜…ç«¯</p>
<div class="language-javascript codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-javascript codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token constant" style="color:hsl(35, 99%, 36%)">SUBSCRIBE</span><span class="token plain"> kuizuo # åˆ›å»ºé¢‘é“</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å‘é€ç«¯</p>
<div class="language-javascript codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-javascript codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token constant" style="color:hsl(35, 99%, 36%)">PUBLISH</span><span class="token plain"> kuizuo â€˜helloâ€˜</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="åŸç†">åŸç†<a href="#åŸç†" class="hash-link" aria-label="åŸç†çš„ç›´æ¥é“¾æ¥" title="åŸç†çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>Redis æ˜¯ä½¿ç”¨ C å®ç°çš„ï¼Œé€šè¿‡åˆ†æ Redis æºç é‡Œçš„ pubsub.c æ–‡ä»¶ï¼Œäº†è§£å‘å¸ƒå’Œè®¢é˜…æœºåˆ¶çš„åº•å±‚å®ç°ï¼Œ
ç±æ­¤åŠ æ·±å¯¹ Redis çš„ç†è§£ã€‚
Redis é€šè¿‡ PUBLISHã€SUBSCRIBE å’Œ PSUBSCRIBE ç­‰å‘½ä»¤å®ç°å‘å¸ƒå’Œè®¢é˜…åŠŸèƒ½ã€‚
å¾®ä¿¡ âˆ¶
é€šè¿‡ SUBSCRIBE å‘½ä»¤è®¢é˜…æŸé¢‘é“åï¼Œredis-server é‡Œç»´æŠ¤äº†ä¸€ä¸ªå­—å…¸ï¼Œå­—å…¸çš„é”®å°±æ˜¯ä¸€ä¸ªä¸ªé¢‘é“!
ï¼Œè€Œå­—å…¸çš„å€¼åˆ™æ˜¯ä¸€ä¸ªé“¾è¡¨ï¼Œ
é“¾è¡¨ä¸­ä¿å­˜äº†æ‰€æœ‰è®¢é˜…è¿™ä¸ª channel çš„å®¢æˆ·ç«¯ã€‚SUBSCRIBE å‘½ä»¤çš„å…³é”®ï¼Œå°±æ˜¯å°†å®¢æˆ·ç«¯æ·»åŠ åˆ°ç»™å®š
channel çš„è®¢é˜…é“¾è¡¨ä¸­ã€‚
é€šè¿‡ PUBLSH å‘½ä»¤å‘è®¢é˜…è€…å‘é€æ¶ˆæ¯ï¼Œredis-server ä¼šä½¿ç”¨ç»™å®šçš„é¢‘é“ä½œä¸ºé”®ï¼Œåœ¨å®ƒæ‰€ç»´æŠ¤çš„ channel å­—å…¸ä¸­æŸ¥æ‰¾è®°å½•äº†è®¢é˜…è¿™ä¸ªé¢‘é“çš„æ‰€æœ‰å®¢æˆ·ç«¯çš„é“¾è¡¨ï¼Œéå†è¿™ä¸ªé“¾è¡¨ï¼Œå°†æ¶ˆæ¯å‘å¸ƒç»™æ‰€æœ‰è®¢é˜…è€…ã€‚
Pub/Sub ä»å­—é¢ä¸Šç†è§£å°±æ˜¯å‘å¸ƒ( Publish)ä¸è®¢é˜…( Subscribe )ï¼Œåœ¨ Redis ä¸­ ï¼Œä½ å¯ä»¥è®¾å®šå¯¹æŸä¸€ä¸ª key å€¼è¿›è¡Œæ¶ˆæ¯å‘å¸ƒåŠæ¶ˆæ¯è®¢é˜…ï¼Œå½“ä¸€ä¸ª key å€¼ä¸Šè¿›è¡Œäº†æ¶ˆæ¯å‘å¸ƒåï¼Œæ‰€æœ‰è®¢é˜…å®ƒçš„å®¢æˆ·ç«¯éƒ½ä¼šæ”¶åˆ°ç›¸åº”çš„æ¶ˆæ¯ã€‚è¿™ä¸€åŠŸèƒ½æœ€æ˜æ˜¾çš„ç”¨æ³•å°±æ˜¯ç”¨ä½œå®æ—¶æ¶ˆæ¯ç³»ç»Ÿï¼Œæ¯”å¦‚æ™®é€šçš„å³æ—¶èŠå¤©ï¼Œç¾¤èŠç­‰åŠŸèƒ½ã€‚</p>
<p>ä½¿ç”¨åœºæ™¯ï¼š</p>
<p>1ã€å®æ—¶æ¶ˆæ¯ç³»ç»Ÿï¼Œå…¬å‘Š</p>
<p>2ã€å®æ—¶èŠå¤©ï¼ˆå°†é¢‘é“å½“åšèŠå¤©å®¤ï¼Œå°†ä¿¡æ¯å›æ˜¾ç»™æ‰€æœ‰äººï¼‰</p>
<p>3ã€è®¢é˜…ï¼Œå…³æ³¨ç³»ç»Ÿéƒ½æ˜¯å¯ä»¥çš„</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="redis-ä¸»ä»å¤åˆ¶">Redis ä¸»ä»å¤åˆ¶<a href="#redis-ä¸»ä»å¤åˆ¶" class="hash-link" aria-label="Redis ä¸»ä»å¤åˆ¶çš„ç›´æ¥é“¾æ¥" title="Redis ä¸»ä»å¤åˆ¶çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="æ¦‚å¿µ">æ¦‚å¿µ<a href="#æ¦‚å¿µ" class="hash-link" aria-label="æ¦‚å¿µçš„ç›´æ¥é“¾æ¥" title="æ¦‚å¿µçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ä¸»ä»å¤åˆ¶ï¼Œæ˜¯æŒ‡å°†ä¸€å° Redis æœåŠ¡å™¨çš„æ•°æ®ï¼Œå¤åˆ¶åˆ°å…¶ä»–çš„ Redis æœåŠ¡å™¨ã€‚å‰è€…ç§°ä¸ºä¸»èŠ‚ç‚¹(master/leader)ï¼Œåè€…ç§°ä¸ºä»èŠ‚ç‚¹(slave/follower);æ•°æ®çš„å¤åˆ¶æ˜¯å•å‘çš„ï¼Œåªèƒ½ç”±ä¸»èŠ‚ç‚¹åˆ°ä»èŠ‚ç‚¹ã€‚Master ä»¥å†™ä¸ºä¸»ï¼ŒSlave ä»¥è¯»ä¸ºä¸»ã€‚
é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯å° Redis æœåŠ¡å™¨éƒ½æ˜¯ä¸»èŠ‚ç‚¹;ä¸”ä¸€ä¸ªä¸»èŠ‚ç‚¹å¯ä»¥æœ‰å¤šä¸ªä»èŠ‚ç‚¹(æˆ–æ²¡æœ‰ä»èŠ‚ç‚¹)ï¼Œä½†ä¸€ä¸ªä»èŠ‚ç‚¹åªèƒ½æœ‰ä¸€ä¸ªä¸»èŠ‚ç‚¹ã€‚</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="ä¸»ä»å¤åˆ¶çš„ä½œç”¨ä¸»è¦åŒ…æ‹¬">ä¸»ä»å¤åˆ¶çš„ä½œç”¨ä¸»è¦åŒ…æ‹¬ï¸°<a href="#ä¸»ä»å¤åˆ¶çš„ä½œç”¨ä¸»è¦åŒ…æ‹¬" class="hash-link" aria-label="ä¸»ä»å¤åˆ¶çš„ä½œç”¨ä¸»è¦åŒ…æ‹¬ï¸°çš„ç›´æ¥é“¾æ¥" title="ä¸»ä»å¤åˆ¶çš„ä½œç”¨ä¸»è¦åŒ…æ‹¬ï¸°çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>1ã€æ•°æ®å†—ä½™ âˆ¶ ä¸»ä»å¤åˆ¶å®ç°äº†æ•°æ®çš„çƒ­å¤‡ä»½ï¼Œæ˜¯æŒä¹…åŒ–ä¹‹å¤–çš„ä¸€ç§æ•°æ®å†—ä½™æ–¹å¼ã€‚
2ã€æ•…éšœæ¢å¤ï¸°å½“ä¸»èŠ‚ç‚¹å‡ºç°é—®é¢˜æ—¶ï¼Œå¯ä»¥ç”±ä»èŠ‚ç‚¹æä¾›æœåŠ¡ï¼Œå®ç°å¿«é€Ÿçš„æ•…éšœæ¢å¤;å®é™…ä¸Šæ˜¯ä¸€ç§æœåŠ¡çš„å†—ä½™ã€‚
3ã€è´Ÿè½½å‡è¡¡ï¸°åœ¨ä¸»ä»å¤åˆ¶çš„åŸºç¡€ä¸Šï¼Œé…åˆè¯»å†™åˆ†ç¦»ï¼Œå¯ä»¥ç”±ä¸»èŠ‚ ç‚¹æä¾›å†™æœåŠ¡ï¼Œç”±ä»èŠ‚ç‚¹æä¾›è¯»æœåŠ¡ï¼ˆå³å†™ Redis æ•°æ®æ—¶åº”ç”¨è¿æ¥ä¸»èŠ‚ç‚¹ï¼Œè¯» Redis æ•°æ®æ—¶åº”ç”¨è¿æ¥ä»èŠ‚ç‚¹ï¼‰ï¼Œåˆ†æ‹…æœåŠ¡å™¨è´Ÿè½½;å°¤å…¶æ˜¯åœ¨å†™å°‘è¯»å¤šçš„åœºæ™¯ä¸‹ï¼Œé€šè¿‡å¤šä¸ªä»èŠ‚ç‚¹åˆ†æ‹…è¯»è´Ÿè½½ï¼Œå¯ä»¥å¤§å¤§æé«˜ Redis æœåŠ¡å™¨çš„å¹¶å‘é‡ã€‚
4ã€é«˜å¯ç”¨åŸºçŸ³ âˆ¶ é™¤äº†ä¸Šè¿°ä½œç”¨ä»¥å¤–ï¼Œä¸»ä»å¤åˆ¶è¿˜æ˜¯å“¨å…µå’Œé›†ç¾¤èƒ½å¤Ÿå®æ–½çš„åŸºç¡€ï¼Œå› æ­¤è¯´ä¸»ä»å¤åˆ¶æ˜¯ Redis é«˜å¯ç”¨çš„åŸºç¡€ã€‚</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œè¦å°† Redis è¿ç”¨äºå·¥ç¨‹é¡¹ç›®ä¸­ï¼Œåªä½¿ç”¨ä¸€å° Redis æ˜¯ä¸‡ä¸‡ä¸èƒ½çš„</p>
<p>åŸå› å¦‚ä¸‹ï¸°
1ã€ä»ç»“æ„ä¸Šï¼Œå•ä¸ª Redis æœåŠ¡å™¨ä¼šå‘ç”Ÿå•ç‚¹æ•…éšœï¼Œå¹¶ä¸”ä¸€å°æœåŠ¡å™¨éœ€è¦å¤„ç†æ‰€æœ‰çš„è¯·æ±‚è´Ÿè½½ï¼Œå‹åŠ›è¾ƒå¤§;
2ã€ä»å®¹é‡ä¸Šï¼Œå•ä¸ª Redis æœåŠ¡å™¨å†…å­˜å®¹é‡æœ‰é™ï¼Œå°±ç®—ä¸€å° Redis æœåŠ¡å™¨å†…å­˜å®¹é‡ä¸º 256Gï¼Œä¹Ÿä¸èƒ½å°†æ‰€æœ‰å†…å­˜ç”¨ä½œ Redis å­˜å‚¨å†…å­˜ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œ<strong>å•å° Redis æœ€å¤§ä½¿ç”¨å†…å­˜ä¸åº”è¯¥è¶…è¿‡ 20Gã€‚</strong></p>
<p>ä¸»ä»å¤åˆ¶ï¼Œè¯»å†™åˆ†ç¦»ï¼80%çš„æƒ…å†µä¸‹éƒ½æ˜¯åœ¨è¿›è¡Œè¯»æ“ä½œï¼Œå°±å¯ä»¥å‡ç¼“æœåŠ¡å™¨å‹åŠ›ï¼Œæ¶æ„ä¸­ç»å¸¸ä½¿ç”¨ï¼Œä¸€ä¸»äºŒä»</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="ç¯å¢ƒé…ç½®">ç¯å¢ƒé…ç½®<a href="#ç¯å¢ƒé…ç½®" class="hash-link" aria-label="ç¯å¢ƒé…ç½®çš„ç›´æ¥é“¾æ¥" title="ç¯å¢ƒé…ç½®çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-javascript codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-javascript codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">redis</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain">info replication  # æŸ¥çœ‹å½“å‰åº“ä¿¡æ¯</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">&quot;# </span><span class="token maybe-class-name">Replication</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">role</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain">master  # è§’è‰²</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">connected_slaves</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"> # æ²¡æœ‰ä»æœº</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">master_replid</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain">d6950e2fdb86b591f42e8725279034303e8cb6ee</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">master_replid2</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token number" style="color:hsl(35, 99%, 36%)">0000000000000000000000000000000000000000</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">master_repl_offset</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">second_repl_offset</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">repl_backlog_active</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">repl_backlog_size</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token number" style="color:hsl(35, 99%, 36%)">1048576</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">repl_backlog_first_byte_offset</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token literal-property property" style="color:hsl(5, 74%, 59%)">repl_backlog_histlen</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>éœ€è¦ä¿®æ”¹ é…ç½®æ–‡ä»¶</p>
<p>ç«¯å£ pid åå­— log æ–‡ä»¶å dump.rdb å</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="ä¸€ä¸»äºŒä»">ä¸€ä¸»äºŒä»<a href="#ä¸€ä¸»äºŒä»" class="hash-link" aria-label="ä¸€ä¸»äºŒä»çš„ç›´æ¥é“¾æ¥" title="ä¸€ä¸»äºŒä»çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯å° Redis æœåŠ¡å™¨éƒ½æ˜¯ä¸»èŠ‚ç‚¹;æˆ‘ä»¬ä¸€èˆ¬æƒ…å†µä¸‹åªç”¨é…ç½®ä»æœºå°±å¥½äº†!è®¤è€å¤§!ä¸€ä¸»ï¼ˆ 79)äºŒä»( 80ï¼Œ81 )</p>
<div class="language-javascript codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-javascript codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token constant" style="color:hsl(35, 99%, 36%)">SLAVEOF</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">127.0</span><span class="token number" style="color:hsl(35, 99%, 36%)">.0</span><span class="token number" style="color:hsl(35, 99%, 36%)">.1</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">6379</span><span class="token plain"> # æ‰¾è°ä¸ºä¸»æœº</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>**ä¸»æœºå¯ä»¥å†™ï¼Œä»æœºä¸èƒ½å†™åªèƒ½è¯»ï¼**ä¸»æœºä¸­çš„æ‰€æœ‰æ•°æ®éƒ½ä¼šè¢«ä»æœºä¿å­˜</p>
<p>ä¸»æœºæ–­å¼€è¿æ¥ï¼Œä»æœºä¾æ—§å¯ä»¥è¿æ¥åˆ°ä¸»æœºï¼Œå¹¶ä¸”ä¸»æœºå›æ¥ï¼Œä»æœºä¾æ—§å¯ä»¥ç›´æ¥è·å–æ•°æ®</p>
<p>ä»æœºé‡æ–°è¿æ¥ä¼šä¸»æœºï¼Œä¸»æœºçš„ä»»ä½•æ“ä½œç«‹é©¬åŒæ­¥åˆ°ä»æœºä¸Š</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="å¤åˆ¶åŸç†">å¤åˆ¶åŸç†<a href="#å¤åˆ¶åŸç†" class="hash-link" aria-label="å¤åˆ¶åŸç†çš„ç›´æ¥é“¾æ¥" title="å¤åˆ¶åŸç†çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>slave å¯åŠ¨æˆåŠŸè¿æ¥åˆ° master åä¼šå‘é€ä¸€ä¸ª sync å‘½ä»¤
Master æ¥åˆ°å‘½ä»¤ï¼Œå¯åŠ¨åå°çš„å­˜ç›˜è¿›ç¨‹ï¼ŒåŒæ—¶æ”¶é›†æ‰€æœ‰æ¥æ”¶åˆ°çš„ç”¨äºä¿®æ”¹æ•°æ®é›†å‘½ä»¤ï¼Œåœ¨åå°è¿›ç¨‹æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œ<strong>master å°†ä¼ é€æ•´ä¸ªæ•°æ®æ–‡ä»¶åˆ° slaveï¼Œå¹¶å®Œæˆä¸€æ¬¡å®Œå…¨åŒæ­¥ã€‚</strong></p>
<p>å…¨é‡å¤åˆ¶ï¼šslave æœåŠ¡åœ¨æ¥æ”¶åˆ°æ•°æ®åº“æ–‡ä»¶æ•°æ®åï¼Œå°†å…¶å­˜ç›˜å¹¶åŠ è½½åˆ°å†…å­˜ä¸­ã€‚</p>
<p>å¢é‡å¤åˆ¶ï¼šMaster ç»§ç»­å°†æ–°çš„æ‰€æœ‰æ”¶é›†åˆ°çš„ä¿®æ”¹å‘½ä»¤ä¾æ¬¡ä¼ ç»™ slaveï¼Œå®ŒæˆåŒæ­¥ä½†æ˜¯åªè¦æ˜¯é‡æ–°è¿æ¥ masterï¼Œä¸€æ¬¡å®Œå…¨åŒæ­¥ï¼ˆå…¨é‡å¤åˆ¶)å°†è¢«è‡ªåŠ¨æ‰§è¡Œ</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="å±‚å±‚é“¾è·¯">å±‚å±‚é“¾è·¯<a href="#å±‚å±‚é“¾è·¯" class="hash-link" aria-label="å±‚å±‚é“¾è·¯çš„ç›´æ¥é“¾æ¥" title="å±‚å±‚é“¾è·¯çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ä¸Šä¸€ä¸ª M é“¾æ¥ä¸‹ä¸€ä¸ª S</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="å“¨å…µæ¨¡å¼">å“¨å…µæ¨¡å¼<a href="#å“¨å…µæ¨¡å¼" class="hash-link" aria-label="å“¨å…µæ¨¡å¼çš„ç›´æ¥é“¾æ¥" title="å“¨å…µæ¨¡å¼çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p><a href="https://www.jianshu.com/p/06ab9daf921d" target="_blank" rel="noopener noreferrer">Redis å“¨å…µï¼ˆSentinelï¼‰æ¨¡å¼</a></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="æ¦‚è¿°">æ¦‚è¿°<a href="#æ¦‚è¿°" class="hash-link" aria-label="æ¦‚è¿°çš„ç›´æ¥é“¾æ¥" title="æ¦‚è¿°çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>å¦‚æœä¸»æœºå®•æœºäº†ï¼Œä»æœºè¦å½“ä¸»æœºï¼Œé€šè¿‡å‘½ä»¤<code>SLAVEOF no one</code> ä»æœºå˜ä¸»æœºï¼Œä½†å¦‚æœè¿™æ—¶å€™ä¸»æœºæ¢å¤äº†ï¼Œé‚£ä¹ˆå°±éœ€è¦é‡æ–°é…ç½®äº†ï¼Œååˆ†éº»çƒ¦</p>
<p>ä¸»ä»åˆ‡æ¢æŠ€æœ¯çš„æ–¹æ³•æ˜¯ âˆ¶ å½“ä¸»æœåŠ¡å™¨å®•æœºåï¼Œéœ€è¦æ‰‹åŠ¨æŠŠä¸€å°ä»æœåŠ¡å™¨åˆ‡æ¢ä¸ºä¸»æœåŠ¡å™¨ï¼Œè¿™å°±éœ€è¦äººå·¥å¹²é¢„ï¼Œè´¹äº‹è´¹åŠ›ï¼Œè¿˜ä¼šé€ æˆä¸€æ®µæ—¶é—´å†…æœåŠ¡ä¸å¯ç”¨ã€‚è¿™ä¸æ˜¯ä¸€ç§æ¨èçš„æ–¹å¼ï¼Œæ›´å¤šæ—¶å€™ï¼Œæˆ‘ä»¬ä¼˜å…ˆè€ƒè™‘å“¨å…µæ¨¡å¼ã€‚Redis ä» 2.8 å¼€å§‹æ­£å¼æä¾›äº† Sentinel (å“¨å…µï¼‰æ¶æ„æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>åå°èƒ½å¤Ÿç›‘æ§ä¸»æœºæ˜¯å¦æ•…éšœï¼Œå¦‚æœæ•…éšœäº†æ ¹æ®æŠ•ç¥¨æ•°è‡ªåŠ¨å°†ä»æœºå˜ä¸ºä¸»æœº</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="å®ç°">å®ç°<a href="#å®ç°" class="hash-link" aria-label="å®ç°çš„ç›´æ¥é“¾æ¥" title="å®ç°çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>å“¨å…µæ¨¡å¼æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ¨¡å¼ï¼Œé¦–å…ˆ Redis æä¾›äº†å“¨å…µçš„å‘½ä»¤ï¼Œå“¨å…µæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è¿›ç¨‹ï¼Œä½œä¸ºè¿›ç¨‹ï¼Œå®ƒä¼šç‹¬ç«‹è¿è¡Œã€‚å…¶åŸç†æ˜¯<strong>å“¨å…µé€šè¿‡å‘é€å‘½ä»¤ï¼Œç­‰å¾… Redis æœåŠ¡å™¨å“åº”ï¼Œä»è€Œç›‘æ§è¿è¡Œçš„å¤šä¸ª Redis å®ä¾‹ã€‚</strong></p>
<p><img loading="lazy" src="http://cdn.kuizuo.cn/blog11320039-57a77ca2757d0924.png" alt="img" class="img_THfu"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="é…ç½®">é…ç½®<a href="#é…ç½®" class="hash-link" aria-label="é…ç½®çš„ç›´æ¥é“¾æ¥" title="é…ç½®çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>1ã€å“¨å…µé…ç½®æ–‡ä»¶ sentinel.conf</p>
<div class="language-javascript codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-javascript codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">sentinel monitor myredis </span><span class="token number" style="color:hsl(35, 99%, 36%)">127.0</span><span class="token number" style="color:hsl(35, 99%, 36%)">.0</span><span class="token number" style="color:hsl(35, 99%, 36%)">.1</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">6379</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>åé¢çš„è¿™ä¸ªæ•°å­— 1ï¼Œä»£è¡¨ä¸»æœºæŒ‚äº†ï¼Œslave æŠ•ç¥¨çœ‹è®©è°å½“ä¸»æœºï¼Œç¥¨æ•°å¤šçš„å°±ä¼šæˆä¸ºä¸»æœº</p>
<p>2ã€å¯åŠ¨å“¨å…µ</p>
<div class="language-javascript codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-javascript codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">redis</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">sentinel config</span><span class="token operator" style="color:hsl(221, 87%, 60%)">/</span><span class="token plain">sentinel</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token property-access">conf</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>3ã€ä¸»æœºæŒ‚äº†ï¼Œä»æœºå½“ä¸»æœºäº†ï¼Œä½†æ˜¯å¦‚æœåŸä¸»æœºæ¢å¤äº†ï¼Œä¹Ÿåªèƒ½ä¹–ä¹–å½“æ–°ä¸»æœºçš„ä»æœº</p>
<p>ä¼˜ç‚¹:
1ã€å“¨å…µé›†ç¾¤ï¼ŒåŸºäºä¸»ä»å¤åˆ¶æ¨¡å¼ï¼Œæ‰€æœ‰çš„ä¸»ä»é…ç½®ä¼˜ç‚¹ï¼Œå®ƒå…¨æœ‰</p>
<p>2ã€ä¸»ä»å¯ä»¥åˆ‡æ¢ï¼Œæ•…éšœå¯ä»¥è½¬ç§»ï¼Œç³»ç»Ÿçš„å¯ç”¨æ€§å°±ä¼šæ›´å¥½</p>
<p>3ã€å“¨å…µæ¨¡å¼å°±æ˜¯ä¸»ä»æ¨¡å¼çš„å‡çº§ï¼Œæ‰‹åŠ¨åˆ°è‡ªåŠ¨ï¼Œæ›´åŠ å¥å£®</p>
<p>ç¼ºç‚¹:</p>
<p>1ã€Redis ä¸å¥½å•Šåœ¨çº¿æ‰©å®¹çš„ï¼Œé›†ç¾¤å®¹é‡ä¸€æ—¦åˆ°è¾¾ä¸Šé™ï¼Œåœ¨çº¿æ‰©å®¹å°±ååˆ†éº»çƒ¦</p>
<p>2ã€å®ç°å“¨å…µæ¨¡å¼çš„é…ç½®å…¶å®æ˜¯å¾ˆéº»çƒ¦çš„ï¼Œé‡Œé¢æœ‰å¾ˆå¤šé€‰æ‹©</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="redis-ç¼“å­˜ç©¿é€å’Œé›ªå´©">Redis ç¼“å­˜ç©¿é€å’Œé›ªå´©<a href="#redis-ç¼“å­˜ç©¿é€å’Œé›ªå´©" class="hash-link" aria-label="Redis ç¼“å­˜ç©¿é€å’Œé›ªå´©çš„ç›´æ¥é“¾æ¥" title="Redis ç¼“å­˜ç©¿é€å’Œé›ªå´©çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p><strong>æœåŠ¡å™¨é«˜å¯ç”¨çš„é—®é¢˜</strong></p>
<p>Redis ç¼“å­˜çš„ä½¿ç”¨ï¼Œæå¤§çš„æå‡äº†åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œæ•ˆç‡ï¼Œ ç‰¹åˆ«æ˜¯æ•°æ®æŸ¥è¯¢æ–¹é¢ã€‚ä½†åŒæ—¶ï¼Œå®ƒä¹Ÿå¸¦æ¥äº†ä¸€äº›é—®é¢˜ã€‚å…¶ä¸­ï¼Œæœ€è¦å®³çš„é—®é¢˜ï¼Œå°±æ˜¯æ•°æ®çš„ä¸€è‡´æ€§é—®é¢˜ï¼Œä»ä¸¥æ ¼æ„ä¹‰ä¸Šè®²ï¼Œè¿™ä¸ªé—®é¢˜æ— è§£ã€‚å¦‚æœå¯¹æ•°æ®çš„ä¸€è‡´æ€§è¦æ±‚å¾ˆé«˜ï¼Œé‚£ä¹ˆå°±ä¸èƒ½ä½¿ç”¨ç¼“å­˜ã€‚
å¦å¤–çš„ä¸€äº›å…¸å‹é—®é¢˜å°±æ˜¯ï¼Œç¼“å­˜ç©¿é€ã€ç¼“å­˜é›ªå´©å’Œç¼“å­˜å‡»ç©¿ã€‚ç›®å‰ï¼Œä¸šç•Œä¹Ÿéƒ½æœ‰æ¯”è¾ƒæµè¡Œçš„è§£å†³æ–¹æ¡ˆã€‚</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="ç¼“å­˜ç©¿é€">ç¼“å­˜ç©¿é€<a href="#ç¼“å­˜ç©¿é€" class="hash-link" aria-label="ç¼“å­˜ç©¿é€çš„ç›´æ¥é“¾æ¥" title="ç¼“å­˜ç©¿é€çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="æ¦‚å¿µ-1">æ¦‚å¿µ<a href="#æ¦‚å¿µ-1" class="hash-link" aria-label="æ¦‚å¿µçš„ç›´æ¥é“¾æ¥" title="æ¦‚å¿µçš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>ç¼“å­˜æŸ¥ä¸åˆ°ï¼Œå¯¼è‡´æ•°æ®éƒ½æŸ¥æ•°æ®åº“</p>
<p>ç¼“å­˜ç©¿é€çš„æ¦‚å¿µå¾ˆç®€å•ï¼Œç”¨æˆ·æƒ³è¦æŸ¥è¯¢ä¸€ä¸ªæ•°æ®ï¼Œå‘ç° redis å†…å­˜æ•°æ®åº“æ²¡æœ‰ï¼Œä¹Ÿå°±æ˜¯ç¼“å­˜æ²¡æœ‰å‘½ä¸­ï¼Œäºæ˜¯å‘æŒä¹…å±‚æ•°æ®åº“æŸ¥è¯¢ã€‚å‘ç°ä¹Ÿæ²¡æœ‰ï¼Œäºæ˜¯æœ¬æ¬¡æŸ¥è¯¢å¤±è´¥ã€‚å½“ç”¨æˆ·å¾ˆå¤šçš„æ—¶å€™ï¼Œç¼“å­˜éƒ½æ²¡æœ‰å‘½ä¸­ï¼ˆç§’æ€!ï¼‰ï¼Œäºæ˜¯éƒ½å»è¯·æ±‚äº†æŒä¹…å±‚æ•°æ®åº“ã€‚è¿™ä¼šç»™æŒä¹…å±‚æ•°æ®åº“é€ æˆå¾ˆå¤§çš„å‹åŠ›ï¼Œè¿™æ—¶å€™å°±ç›¸å½“äºå‡ºç°äº†ç¼“å­˜ç©¿é€ã€‚|</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ<a href="#è§£å†³æ–¹æ¡ˆ" class="hash-link" aria-label="è§£å†³æ–¹æ¡ˆçš„ç›´æ¥é“¾æ¥" title="è§£å†³æ–¹æ¡ˆçš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<h5 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="å¸ƒéš†è¿‡æ»¤å™¨">å¸ƒéš†è¿‡æ»¤å™¨<a href="#å¸ƒéš†è¿‡æ»¤å™¨" class="hash-link" aria-label="å¸ƒéš†è¿‡æ»¤å™¨çš„ç›´æ¥é“¾æ¥" title="å¸ƒéš†è¿‡æ»¤å™¨çš„ç›´æ¥é“¾æ¥">â€‹</a></h5>
<p>å¸ƒéš†è¿‡æ»¤å™¨æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå¯¹æ‰€æœ‰å¯èƒ½æŸ¥è¯¢çš„å‚æ•°ä»¥ hash å½¢å¼å­˜å‚¨ï¼Œåœ¨æ§åˆ¶å±‚å…ˆè¿›è¡Œæ ¡éªŒï¼Œä¸ç¬¦åˆåˆ™ä¸¢å¼ƒï¼Œä»è€Œé¿å…äº†å¯¹åº•å±‚å­˜å‚¨ç³»ç»Ÿçš„æŸ¥è¯¢å‹åŠ›</p>
<h5 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="ç¼“å­˜ç©ºå¯¹è±¡">ç¼“å­˜ç©ºå¯¹è±¡<a href="#ç¼“å­˜ç©ºå¯¹è±¡" class="hash-link" aria-label="ç¼“å­˜ç©ºå¯¹è±¡çš„ç›´æ¥é“¾æ¥" title="ç¼“å­˜ç©ºå¯¹è±¡çš„ç›´æ¥é“¾æ¥">â€‹</a></h5>
<p>å½“å­˜å‚¨å±‚ä¸å‘½ä¸­åï¼Œå³ä½¿è¿”å›çš„ç©ºå¯¹è±¡ä¹Ÿå°†å…¶ç¼“å­˜èµ·æ¥ï¼ŒåŒæ—¶ä¼šè®¾ç½®ä¸€ä¸ªè¿‡æœŸæ—¶é—´ï¼Œä¹‹åå†è®¿é—®è¿™ä¸ªæ•°æ®å°†ä¼šä»ç¼“å­˜ä¸­è·å–ï¼Œä¿æŠ¤äº†åç«¯æ•°æ®æº;</p>
<p>ä½†æ˜¯è¿™ç§æ–¹æ³•ä¼šå­˜åœ¨ä¸¤ä¸ªé—®é¢˜:
1ã€å¦‚æœç©ºå€¼èƒ½å¤Ÿè¢«ç¼“å­˜èµ·æ¥ï¼Œè¿™å°±æ„å‘³ç€ç¼“å­˜éœ€è¦æ›´å¤šçš„ç©ºé—´å­˜å‚¨æ›´å¤šçš„é”®ï¼Œå› ä¸ºè¿™å½“ä¸­å¯èƒ½ä¼šæœ‰å¾ˆå¤šçš„ç©ºå€¼çš„é”®;
2ã€å³ä½¿å¯¹ç©ºå€¼è®¾ç½®äº†è¿‡æœŸæ—¶é—´ï¼Œè¿˜æ˜¯ä¼šå­˜åœ¨ç¼“å­˜å±‚å’Œå­˜å‚¨å±‚çš„æ•°æ®ä¼šæœ‰ä¸€æ®µæ—¶é—´çª—å£çš„ä¸ä¸€è‡´ï¼Œè¿™å¯¹äºéœ€è¦ä¿æŒä¸€è‡´æ€§çš„ä¸šåŠ¡ä¼šæœ‰å½±å“ã€‚</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="ç¼“å­˜å‡»ç©¿">ç¼“å­˜å‡»ç©¿<a href="#ç¼“å­˜å‡»ç©¿" class="hash-link" aria-label="ç¼“å­˜å‡»ç©¿çš„ç›´æ¥é“¾æ¥" title="ç¼“å­˜å‡»ç©¿çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="æ¦‚è¿°-1">æ¦‚è¿°<a href="#æ¦‚è¿°-1" class="hash-link" aria-label="æ¦‚è¿°çš„ç›´æ¥é“¾æ¥" title="æ¦‚è¿°çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>å…¨éƒ½æŸ¥ç¼“å­˜ï¼Œæ­¤æ—¶ç¼“å­˜æ°å¥½è¿‡æœŸï¼Œå¯¼è‡´é‡è¿‡å¤§</p>
<p>è¿™é‡Œéœ€è¦æ³¨æ„å’Œç¼“å­˜å‡»ç©¿çš„åŒºåˆ«ï¼Œç¼“å­˜å‡»ç©¿ï¼Œæ˜¯æŒ‡ä¸€ä¸ª key éå¸¸çƒ­ç‚¹ï¼Œåœ¨ä¸åœçš„æ‰›ç€å¤§å¹¶å‘ï¼Œå¤§å¹¶å‘é›†ä¸­å¯¹è¿™ä¸€ä¸ªç‚¹è¿›è¡Œè®¿é—®ï¼Œå½“è¿™ä¸ª key åœ¨å¤±æ•ˆçš„ç¬é—´ï¼ŒæŒç»­çš„å¤§å¹¶å‘å°±ç©¿ç ´ç¼“å­˜ï¼Œç›´æ¥è¯·æ±‚æ•°æ®åº“ï¼Œå°±åƒåœ¨ä¸€ä¸ªå±éšœä¸Šå‡¿å¼€äº†ä¸€ä¸ªæ´ã€‚
å½“æŸä¸ª key åœ¨è¿‡æœŸçš„ç¬é—´ï¼Œæœ‰å¤§é‡çš„è¯·æ±‚å¹¶å‘è®¿é—®ï¼Œè¿™ç±»æ•°æ®ä¸€èˆ¬æ˜¯çƒ­ç‚¹æ•°æ®ï¼Œç”±äºç¼“å­˜è¿‡æœŸ
ï¼Œä¼šåŒæ—¶è®¿é—®æ•°æ®åº“æ¥æŸ¥è¯¢æœ€æ–°æ•°
æ®ï¼Œå¹¶ä¸”å›å†™ç¼“å­˜ï¼Œä¼šå¯¼ä½¿æ•°æ®åº“ç¬é—´å‹åŠ›è¿‡å¤§ã€‚</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="è§£å†³æ–¹æ¡ˆ-1">è§£å†³æ–¹æ¡ˆ<a href="#è§£å†³æ–¹æ¡ˆ-1" class="hash-link" aria-label="è§£å†³æ–¹æ¡ˆçš„ç›´æ¥é“¾æ¥" title="è§£å†³æ–¹æ¡ˆçš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<h5 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="è®¾ç½®çƒ­ç‚¹æ•°æ®æ°¸ä¸è¿‡æœŸ">è®¾ç½®çƒ­ç‚¹æ•°æ®æ°¸ä¸è¿‡æœŸ<a href="#è®¾ç½®çƒ­ç‚¹æ•°æ®æ°¸ä¸è¿‡æœŸ" class="hash-link" aria-label="è®¾ç½®çƒ­ç‚¹æ•°æ®æ°¸ä¸è¿‡æœŸçš„ç›´æ¥é“¾æ¥" title="è®¾ç½®çƒ­ç‚¹æ•°æ®æ°¸ä¸è¿‡æœŸçš„ç›´æ¥é“¾æ¥">â€‹</a></h5>
<p>ä»ç¼“å­˜å±‚é¢æ¥çœ‹ï¼Œæ²¡æœ‰è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç°çƒ­ç‚¹ key è¿‡æœŸåäº§ç”Ÿçš„é—®é¢˜ã€‚</p>
<h5 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="åŠ äº’æ–¥é”">åŠ äº’æ–¥é”<a href="#åŠ äº’æ–¥é”" class="hash-link" aria-label="åŠ äº’æ–¥é”çš„ç›´æ¥é“¾æ¥" title="åŠ äº’æ–¥é”çš„ç›´æ¥é“¾æ¥">â€‹</a></h5>
<p>åˆ†å¸ƒå¼é” âˆ¶ ä½¿ç”¨åˆ†å¸ƒå¼é”ï¼Œä¿è¯å¯¹äºæ¯ä¸ª key åŒæ—¶åªæœ‰ä¸€ä¸ªçº¿ç¨‹å»æŸ¥è¯¢åç«¯æœåŠ¡ï¼Œå…¶ä»–çº¿ç¨‹æ²¡æœ‰è·å¾—åˆ†å¸ƒå¼é”çš„æƒé™ï¼Œå› æ­¤åªéœ€è¦ç­‰å¾…å³å¯ã€‚è¿™ç§æ–¹å¼å°†é«˜å¹¶å‘çš„å‹åŠ›è½¬ç§»åˆ°äº†åˆ†å¸ƒå¼é”ï¼Œå› æ­¤å¯¹åˆ†å¸ƒå¼é”çš„è€ƒéªŒå¾ˆå¤§ã€‚</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="ç¼“å­˜é›ªå´©">ç¼“å­˜é›ªå´©<a href="#ç¼“å­˜é›ªå´©" class="hash-link" aria-label="ç¼“å­˜é›ªå´©çš„ç›´æ¥é“¾æ¥" title="ç¼“å­˜é›ªå´©çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="æ¦‚è¿°-2">æ¦‚è¿°<a href="#æ¦‚è¿°-2" class="hash-link" aria-label="æ¦‚è¿°çš„ç›´æ¥é“¾æ¥" title="æ¦‚è¿°çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>æŒ‡åœ¨æŸä¸€ä¸ªæ—¶é—´æ®µï¼Œç¼“å­˜é›†ä¸­è¿‡æœŸå¤±æ•ˆã€‚Redis å®•æœº!</p>
<p>äº§ç”Ÿé›ªå´©çš„åŸå› ä¹‹ä¸€ï¼Œæ¯”å¦‚åœ¨å†™æœ¬æ–‡çš„æ—¶å€™ï¼Œé©¬ä¸Šå°±è¦åˆ°åŒåäºŒé›¶ç‚¹ï¼Œå¾ˆå¿«å°±ä¼šè¿æ¥ä¸€æ³¢æŠ¢è´­ï¼Œè¿™æ³¢å•†å“æ—¶é—´æ¯”è¾ƒé›†ä¸­çš„æ”¾å…¥äº†ç¼“å­˜ï¼Œå‡è®¾ç¼“å­˜ä¸€ä¸ªå°æ—¶ã€‚é‚£ä¹ˆåˆ°äº†å‡Œæ™¨ä¸€ç‚¹é’Ÿçš„æ—¶å€™ï¼Œè¿™æ‰¹å•†å“çš„ç¼“å­˜å°±éƒ½è¿‡æœŸäº†ã€‚è€Œå¯¹è¿™æ‰¹å•†å“çš„è®¿é—®æŸ¥è¯¢ï¼Œéƒ½è½åˆ°äº†æ•°æ®åº“ä¸Šï¼Œå¯¹äºæ•°æ®åº“è€Œè¨€ï¼Œå°±ä¼šäº§ç”Ÿå‘¨æœŸæ€§çš„å‹åŠ›æ³¢å³°ã€‚äºæ˜¯æ‰€æœ‰çš„è¯·æ±‚éƒ½ä¼šè¾¾åˆ°å­˜å‚¨å±‚ï¼Œå­˜å‚¨å±‚çš„è°ƒç”¨é‡ä¼šæš´å¢ï¼Œé€ æˆå­˜å‚¨å±‚ä¹Ÿä¼šæŒ‚æ‰çš„æƒ…å†µã€‚</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_CN_B" id="åŸºæœ¬è§£å†³æ–¹æ¡ˆ">åŸºæœ¬è§£å†³æ–¹æ¡ˆ<a href="#åŸºæœ¬è§£å†³æ–¹æ¡ˆ" class="hash-link" aria-label="åŸºæœ¬è§£å†³æ–¹æ¡ˆçš„ç›´æ¥é“¾æ¥" title="åŸºæœ¬è§£å†³æ–¹æ¡ˆçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>redis é«˜å¯ç”¨
è¿™ä¸ªæ€æƒ³çš„å«ä¹‰æ˜¯ï¼Œæ—¢ç„¶ redis æœ‰å¯èƒ½æŒ‚æ‰ï¼Œé‚£æˆ‘å¤šå¢è®¾å‡ å° redisï¼Œè¿™æ ·ä¸€å°æŒ‚æ‰ä¹‹åå…¶ä»–çš„è¿˜å¯ä»¥ç»§ç»­å·¥ä½œï¼Œå…¶å®å°±æ˜¯æ­å»ºçš„é›†ç¾¤ã€‚ï¼ˆå¼‚åœ°å¤šæ´»!)
é™æµé™çº§ï¼ˆåœ¨ SpringCloud è®²è§£è¿‡!)
è¿™ä¸ªè§£å†³æ–¹æ¡ˆçš„æ€æƒ³æ˜¯ï¼Œåœ¨ç¼“å­˜å¤±æ•ˆåï¼Œé€šè¿‡åŠ é”æˆ–è€…é˜Ÿåˆ—æ¥æ§åˆ¶è¯»æ•°æ®åº“å†™ç¼“å­˜çš„çº¿ç¨‹æ•°é‡ã€‚æ¯”å¦‚å¯¹æŸä¸ª key åªå…è®¸ä¸€ä¸ªçº¿ç¨‹æŸ¥è¯¢æ•°æ®å’Œå†™ç¼“å­˜ï¼Œå…¶ä»–çº¿ç¨‹ç­‰å¾…ã€‚
æ•°æ®é¢„çƒ­
æ•°æ®åŠ çƒ­çš„å«ä¹‰å°±æ˜¯åœ¨æ­£å¼éƒ¨ç½²ä¹‹å‰ï¼Œæˆ‘å…ˆæŠŠå¯èƒ½çš„æ•°æ®å…ˆé¢„å…ˆè®¿é—®ä¸€éï¼Œè¿™æ ·éƒ¨åˆ†å¯èƒ½å¤§é‡è®¿é—®çš„æ•°æ®å°±ä¼šåŠ è½½åˆ°ç¼“å­˜ä¸­ã€‚åœ¨å³å°†å‘ç”Ÿå¤§å¹¶å‘è®¿é—®å‰æ‰‹åŠ¨è§¦å‘åŠ è½½ç¼“å­˜ä¸åŒçš„ keyï¼Œè®¾ç½®ä¸åŒçš„è¿‡æœŸæ—¶é—´ï¼Œè®©ç¼“å­˜å¤±æ•ˆçš„æ—¶é—´ç‚¹å°½é‡å‡åŒ€ã€‚</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_h5pw padding--none margin-left--sm"><li class="tag_m7ly"><a class="tag_b1dr tagRegular_t85v" href="/docs/tags/redis">redis</a></li><li class="tag_m7ly"><a class="tag_b1dr tagRegular_t85v" href="/docs/tags/database">database</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="æ–‡ä»¶é€‰é¡¹å¡"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/skill/database/mongodb"><div class="pagination-nav__sublabel">ä¸Šä¸€é¡µ</div><div class="pagination-nav__label">MongoDBç¬”è®°</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/skill/database/redis"><div class="pagination-nav__sublabel">ä¸‹ä¸€é¡µ</div><div class="pagination-nav__label">Redisç¬”è®°</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_jeP5 thin-scrollbar theme-doc-toc-desktop" style="opacity:0;transform:translateX(100px) translateZ(0)"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#å®‰è£…" class="table-of-contents__link toc-highlight">å®‰è£…</a><ul><li><a href="#window" class="table-of-contents__link toc-highlight">window</a></li><li><a href="#linux" class="table-of-contents__link toc-highlight">Linux</a></li><li><a href="#docker" class="table-of-contents__link toc-highlight">Docker</a><ul><li><a href="#æ‹‰å–é•œåƒ" class="table-of-contents__link toc-highlight">æ‹‰å–é•œåƒ</a></li><li><a href="#å¯åŠ¨-redis" class="table-of-contents__link toc-highlight">å¯åŠ¨ Redis</a></li></ul></li></ul></li><li><a href="#åŸºæœ¬å‘½ä»¤" class="table-of-contents__link toc-highlight">åŸºæœ¬å‘½ä»¤</a></li><li><a href="#äº”å¤§æ•°æ®ç±»å‹" class="table-of-contents__link toc-highlight">äº”å¤§æ•°æ®ç±»å‹</a><ul><li><a href="#string" class="table-of-contents__link toc-highlight">String</a></li><li><a href="#list" class="table-of-contents__link toc-highlight">List</a></li><li><a href="#set" class="table-of-contents__link toc-highlight">Set</a></li><li><a href="#hash" class="table-of-contents__link toc-highlight">Hash</a></li><li><a href="#zset" class="table-of-contents__link toc-highlight">Zset</a></li></ul></li><li><a href="#ä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹" class="table-of-contents__link toc-highlight">ä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹</a><ul><li><a href="#geospatial" class="table-of-contents__link toc-highlight">geospatial</a></li><li><a href="#hyperloglog" class="table-of-contents__link toc-highlight">Hyperloglog</a></li><li><a href="#bitmaps" class="table-of-contents__link toc-highlight">Bitmaps</a></li></ul></li><li><a href="#äº‹åŠ¡" class="table-of-contents__link toc-highlight">äº‹åŠ¡</a><ul><li><a href="#ç›‘æ§-watch" class="table-of-contents__link toc-highlight">ç›‘æ§ Watch</a></li></ul></li><li><a href="#redisconf" class="table-of-contents__link toc-highlight">Redis.conf</a></li><li><a href="#redis-æŒä¹…åŒ–" class="table-of-contents__link toc-highlight">Redis æŒä¹…åŒ–</a><ul><li><a href="#rdbredis-database" class="table-of-contents__link toc-highlight">RDB(Redis Database)</a><ul><li><a href="#è§¦å‘æœºåˆ¶" class="table-of-contents__link toc-highlight">è§¦å‘æœºåˆ¶</a></li><li><a href="#æ¢å¤-rdb-æ–‡ä»¶" class="table-of-contents__link toc-highlight">æ¢å¤ rdb æ–‡ä»¶</a></li></ul></li><li><a href="#aofappend-only-file" class="table-of-contents__link toc-highlight">AOFï¼ˆAppend Only Fileï¼‰</a></li><li><a href="#å°ç»“" class="table-of-contents__link toc-highlight">å°ç»“</a></li></ul></li><li><a href="#redis-å‘å¸ƒè®¢é˜…" class="table-of-contents__link toc-highlight">Redis å‘å¸ƒè®¢é˜…</a><ul><li><a href="#æµ‹è¯•" class="table-of-contents__link toc-highlight">æµ‹è¯•</a></li><li><a href="#åŸç†" class="table-of-contents__link toc-highlight">åŸç†</a></li></ul></li><li><a href="#redis-ä¸»ä»å¤åˆ¶" class="table-of-contents__link toc-highlight">Redis ä¸»ä»å¤åˆ¶</a><ul><li><a href="#æ¦‚å¿µ" class="table-of-contents__link toc-highlight">æ¦‚å¿µ</a></li><li><a href="#ä¸»ä»å¤åˆ¶çš„ä½œç”¨ä¸»è¦åŒ…æ‹¬" class="table-of-contents__link toc-highlight">ä¸»ä»å¤åˆ¶çš„ä½œç”¨ä¸»è¦åŒ…æ‹¬ï¸°</a></li><li><a href="#ç¯å¢ƒé…ç½®" class="table-of-contents__link toc-highlight">ç¯å¢ƒé…ç½®</a></li><li><a href="#ä¸€ä¸»äºŒä»" class="table-of-contents__link toc-highlight">ä¸€ä¸»äºŒä»</a></li><li><a href="#å¤åˆ¶åŸç†" class="table-of-contents__link toc-highlight">å¤åˆ¶åŸç†</a></li><li><a href="#å±‚å±‚é“¾è·¯" class="table-of-contents__link toc-highlight">å±‚å±‚é“¾è·¯</a></li></ul></li><li><a href="#å“¨å…µæ¨¡å¼" class="table-of-contents__link toc-highlight">å“¨å…µæ¨¡å¼</a><ul><li><a href="#æ¦‚è¿°" class="table-of-contents__link toc-highlight">æ¦‚è¿°</a></li><li><a href="#å®ç°" class="table-of-contents__link toc-highlight">å®ç°</a></li><li><a href="#é…ç½®" class="table-of-contents__link toc-highlight">é…ç½®</a></li></ul></li><li><a href="#redis-ç¼“å­˜ç©¿é€å’Œé›ªå´©" class="table-of-contents__link toc-highlight">Redis ç¼“å­˜ç©¿é€å’Œé›ªå´©</a><ul><li><a href="#ç¼“å­˜ç©¿é€" class="table-of-contents__link toc-highlight">ç¼“å­˜ç©¿é€</a><ul><li><a href="#æ¦‚å¿µ-1" class="table-of-contents__link toc-highlight">æ¦‚å¿µ</a></li><li><a href="#è§£å†³æ–¹æ¡ˆ" class="table-of-contents__link toc-highlight">è§£å†³æ–¹æ¡ˆ</a></li></ul></li><li><a href="#ç¼“å­˜å‡»ç©¿" class="table-of-contents__link toc-highlight">ç¼“å­˜å‡»ç©¿</a><ul><li><a href="#æ¦‚è¿°-1" class="table-of-contents__link toc-highlight">æ¦‚è¿°</a></li><li><a href="#è§£å†³æ–¹æ¡ˆ-1" class="table-of-contents__link toc-highlight">è§£å†³æ–¹æ¡ˆ</a></li></ul></li><li><a href="#ç¼“å­˜é›ªå´©" class="table-of-contents__link toc-highlight">ç¼“å­˜é›ªå´©</a><ul><li><a href="#æ¦‚è¿°-2" class="table-of-contents__link toc-highlight">æ¦‚è¿°</a></li></ul></li><li><a href="#åŸºæœ¬è§£å†³æ–¹æ¡ˆ" class="table-of-contents__link toc-highlight">åŸºæœ¬è§£å†³æ–¹æ¡ˆ</a></li></ul></li></ul><hr class="hr_UhE0"><span class="percent_H6RK">0%<!-- --> </span></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">å­¦ä¹ </div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">åšå®¢</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/archive">å½’æ¡£</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/skill">æŠ€æœ¯ç¬”è®°</a></li></ul></div><div class="col footer__col"><div class="footer__title">ç¤¾äº¤åª’ä½“</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/about">å…³äºæˆ‘</a></li><li class="footer__item"><a href="https://github.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wX1q"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://juejin.cn" target="_blank" rel="noopener noreferrer" class="footer__link-item">æ˜é‡‘<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wX1q"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">æ›´å¤š</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://yuchee.gitee.io/xiaoyouxi" target="_blank" rel="noopener noreferrer" class="footer__link-item">H5å°æ¸¸æˆ<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wX1q"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://yuchee.gitee.io/alittle/tetris" target="_blank" rel="noopener noreferrer" class="footer__link-item">ä¿„ç½—æ–¯æ–¹å—<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wX1q"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item">
                <a href="https://docusaurus.io/zh-CN/" target="_blank" rel="noreferrer noopener">
                  <img src="/img/buildwith.png" alt="build with docusaurus" width="120" height="50">
                <a>
                </a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">
        <p style="margin-bottom: 0;"><a href="http://beian.miit.gov.cn/">XXå¤‡XXXXXXå·-2</a></p>
        <p style="display: inline-flex; align-items: center;"><img style="height:20px;margin-right: 0.5rem;" src="/img/police.png" alt="police" height="20"><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=undefined">XXç½‘å®‰å¤‡XXXXXXXXXXå·</a></p>
        <p>Copyright Â© 2022 - PRESENT æ¸”æ­Œ Built with Docusaurus.</p>
        </div></div></div></footer></div>
</body>
</html>